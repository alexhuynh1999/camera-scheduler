(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Hy={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT=Symbol.for("react.transitional.element"),sT=Symbol.for("react.fragment");function Gy(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:aT,type:e,key:i,ref:t!==void 0?t:null,props:n}}lu.Fragment=sT;lu.jsx=Gy;lu.jsxs=Gy;Hy.exports=lu;var N=Hy.exports,Qy={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=Symbol.for("react.transitional.element"),rT=Symbol.for("react.portal"),lT=Symbol.for("react.fragment"),oT=Symbol.for("react.strict_mode"),uT=Symbol.for("react.profiler"),cT=Symbol.for("react.consumer"),hT=Symbol.for("react.context"),fT=Symbol.for("react.forward_ref"),dT=Symbol.for("react.suspense"),mT=Symbol.for("react.memo"),Fy=Symbol.for("react.lazy"),gT=Symbol.for("react.activity"),eg=Symbol.iterator;function pT(e){return e===null||typeof e!="object"?null:(e=eg&&e[eg]||e["@@iterator"],typeof e=="function"?e:null)}var Yy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ky=Object.assign,Xy={};function ys(e,t,n){this.props=e,this.context=t,this.refs=Xy,this.updater=n||Yy}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zy(){}Zy.prototype=ys.prototype;function Af(e,t,n){this.props=e,this.context=t,this.refs=Xy,this.updater=n||Yy}var Sf=Af.prototype=new Zy;Sf.constructor=Af;Ky(Sf,ys.prototype);Sf.isPureReactComponent=!0;var ng=Array.isArray;function ih(){}var wt={H:null,A:null,T:null,S:null},Jy=Object.prototype.hasOwnProperty;function bf(e,t,n){var i=n.ref;return{$$typeof:Tf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function yT(e,t){return bf(e.type,t,e.props)}function wf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tf}function _T(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ig=/\/+/g;function hc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_T(""+e.key):t.toString(36)}function vT(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ih,ih):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Sa(e,t,n,i,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Tf:case rT:r=!0;break;case Fy:return r=e._init,Sa(r(e._payload),t,n,i,a)}}if(r)return a=a(e),r=i===""?"."+hc(e,0):i,ng(a)?(n="",r!=null&&(n=r.replace(ig,"$&/")+"/"),Sa(a,t,n,"",function(h){return h})):a!=null&&(wf(a)&&(a=yT(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(ig,"$&/")+"/")+r)),t.push(a)),1;r=0;var o=i===""?".":i+":";if(ng(e))for(var u=0;u<e.length;u++)i=e[u],s=o+hc(i,u),r+=Sa(i,t,n,s,a);else if(u=pT(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=o+hc(i,u++),r+=Sa(i,t,n,s,a);else if(s==="object"){if(typeof e.then=="function")return Sa(vT(e),t,n,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Cl(e,t,n){if(e==null)return e;var i=[],a=0;return Sa(e,i,"","",function(s){return t.call(n,s,a++)}),i}function ET(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ag=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},TT={map:Cl,forEach:function(e,t,n){Cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Cl(e,function(){t++}),t},toArray:function(e){return Cl(e,function(t){return t})||[]},only:function(e){if(!wf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Activity=gT;Z.Children=TT;Z.Component=ys;Z.Fragment=lT;Z.Profiler=uT;Z.PureComponent=Af;Z.StrictMode=oT;Z.Suspense=dT;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=wt;Z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return wt.H.useMemoCache(e)}};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Ky({},e.props),a=e.key;if(t!=null)for(s in t.key!==void 0&&(a=""+t.key),t)!Jy.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var r=Array(s),o=0;o<s;o++)r[o]=arguments[o+2];i.children=r}return bf(e.type,a,i)};Z.createContext=function(e){return e={$$typeof:hT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:cT,_context:e},e};Z.createElement=function(e,t,n){var i,a={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Jy.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=t[i]);var r=arguments.length-2;if(r===1)a.children=n;else if(1<r){for(var o=Array(r),u=0;u<r;u++)o[u]=arguments[u+2];a.children=o}if(e&&e.defaultProps)for(i in r=e.defaultProps,r)a[i]===void 0&&(a[i]=r[i]);return bf(e,s,a)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:fT,render:e}};Z.isValidElement=wf;Z.lazy=function(e){return{$$typeof:Fy,_payload:{_status:-1,_result:e},_init:ET}};Z.memo=function(e,t){return{$$typeof:mT,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=wt.T,n={};wt.T=n;try{var i=e(),a=wt.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(ih,ag)}catch(s){ag(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),wt.T=t}};Z.unstable_useCacheRefresh=function(){return wt.H.useCacheRefresh()};Z.use=function(e){return wt.H.use(e)};Z.useActionState=function(e,t,n){return wt.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return wt.H.useCallback(e,t)};Z.useContext=function(e){return wt.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return wt.H.useDeferredValue(e,t)};Z.useEffect=function(e,t){return wt.H.useEffect(e,t)};Z.useEffectEvent=function(e){return wt.H.useEffectEvent(e)};Z.useId=function(){return wt.H.useId()};Z.useImperativeHandle=function(e,t,n){return wt.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return wt.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return wt.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return wt.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return wt.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return wt.H.useReducer(e,t,n)};Z.useRef=function(e){return wt.H.useRef(e)};Z.useState=function(e){return wt.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return wt.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return wt.H.useTransition()};Z.version="19.2.4";Qy.exports=Z;var ct=Qy.exports,$y={exports:{}},ou={},Wy={exports:{}},t_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,W){var X=P.length;P.push(W);t:for(;0<X;){var _t=X-1>>>1,zt=P[_t];if(0<a(zt,W))P[_t]=W,P[X]=zt,X=_t;else break t}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var W=P[0],X=P.pop();if(X!==W){P[0]=X;t:for(var _t=0,zt=P.length,Ui=zt>>>1;_t<Ui;){var Li=2*(_t+1)-1,ya=P[Li],je=Li+1,Hn=P[je];if(0>a(ya,X))je<zt&&0>a(Hn,ya)?(P[_t]=Hn,P[je]=X,_t=je):(P[_t]=ya,P[Li]=X,_t=Li);else if(je<zt&&0>a(Hn,X))P[_t]=Hn,P[je]=X,_t=je;else break t}}return W}function a(P,W){var X=P.sortIndex-W.sortIndex;return X!==0?X:P.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,o=r.now();e.unstable_now=function(){return r.now()-o}}var u=[],h=[],d=1,g=null,m=3,v=!1,D=!1,M=!1,L=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function C(P){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=P)i(h),W.sortIndex=W.expirationTime,t(u,W);else break;W=n(h)}}function z(P){if(M=!1,C(P),!D)if(n(u)!==null)D=!0,B||(B=!0,x());else{var W=n(h);W!==null&&Ze(z,W.startTime-P)}}var B=!1,_=-1,y=5,E=-1;function w(){return L?!0:!(e.unstable_now()-E<y)}function R(){if(L=!1,B){var P=e.unstable_now();E=P;var W=!0;try{t:{D=!1,M&&(M=!1,T(_),_=-1),v=!0;var X=m;try{e:{for(C(P),g=n(u);g!==null&&!(g.expirationTime>P&&w());){var _t=g.callback;if(typeof _t=="function"){g.callback=null,m=g.priorityLevel;var zt=_t(g.expirationTime<=P);if(P=e.unstable_now(),typeof zt=="function"){g.callback=zt,C(P),W=!0;break e}g===n(u)&&i(u),C(P)}else i(u);g=n(u)}if(g!==null)W=!0;else{var Ui=n(h);Ui!==null&&Ze(z,Ui.startTime-P),W=!1}}break t}finally{g=null,m=X,v=!1}W=void 0}}finally{W?x():B=!1}}}var x;if(typeof A=="function")x=function(){A(R)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,le=S.port2;S.port1.onmessage=R,x=function(){le.postMessage(null)}}else x=function(){b(R,0)};function Ze(P,W){_=b(function(){P(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(P){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var X=m;m=W;try{return P()}finally{m=X}},e.unstable_requestPaint=function(){L=!0},e.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var X=m;m=P;try{return W()}finally{m=X}},e.unstable_scheduleCallback=function(P,W,X){var _t=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?_t+X:_t):X=_t,P){case 1:var zt=-1;break;case 2:zt=250;break;case 5:zt=1073741823;break;case 4:zt=1e4;break;default:zt=5e3}return zt=X+zt,P={id:d++,callback:W,priorityLevel:P,startTime:X,expirationTime:zt,sortIndex:-1},X>_t?(P.sortIndex=X,t(h,P),n(u)===null&&P===n(h)&&(M?(T(_),_=-1):M=!0,Ze(z,X-_t))):(P.sortIndex=zt,t(u,P),D||v||(D=!0,B||(B=!0,x()))),P},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(P){var W=m;return function(){var X=m;m=W;try{return P.apply(this,arguments)}finally{m=X}}}})(t_);Wy.exports=t_;var AT=Wy.exports,e_={exports:{}},pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ST=ct;function n_(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zn(){}var ge={d:{f:Zn,r:function(){throw Error(n_(522))},D:Zn,C:Zn,L:Zn,m:Zn,X:Zn,S:Zn,M:Zn},p:0,findDOMNode:null},bT=Symbol.for("react.portal");function wT(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bT,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var cr=ST.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function uu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ge;pe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n_(299));return wT(e,t,null,n)};pe.flushSync=function(e){var t=cr.T,n=ge.p;try{if(cr.T=null,ge.p=2,e)return e()}finally{cr.T=t,ge.p=n,ge.d.f()}};pe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ge.d.C(e,t))};pe.prefetchDNS=function(e){typeof e=="string"&&ge.d.D(e)};pe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=uu(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ge.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:s}):n==="script"&&ge.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};pe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=uu(t.as,t.crossOrigin);ge.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ge.d.M(e)};pe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=uu(n,t.crossOrigin);ge.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};pe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=uu(t.as,t.crossOrigin);ge.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ge.d.m(e)};pe.requestFormReset=function(e){ge.d.r(e)};pe.unstable_batchedUpdates=function(e,t){return e(t)};pe.useFormState=function(e,t,n){return cr.H.useFormState(e,t,n)};pe.useFormStatus=function(){return cr.H.useHostTransitionStatus()};pe.version="19.2.4";function i_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i_)}catch(e){console.error(e)}}i_(),e_.exports=pe;var RT=e_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yt=AT,a_=ct,CT=RT;function O(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function r_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l_(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sg(e){if($r(e)!==e)throw Error(O(188))}function DT(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return sg(a),e;if(s===i)return sg(a),t;s=s.sibling}throw Error(O(188))}if(n.return!==i.return)n=a,i=s;else{for(var r=!1,o=a.child;o;){if(o===n){r=!0,n=a,i=s;break}if(o===i){r=!0,i=a,n=s;break}o=o.sibling}if(!r){for(o=s.child;o;){if(o===n){r=!0,n=s,i=a;break}if(o===i){r=!0,i=s,n=a;break}o=o.sibling}if(!r)throw Error(O(189))}}if(n.alternate!==i)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function o_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=o_(e),t!==null)return t;e=e.sibling}return null}var Rt=Object.assign,xT=Symbol.for("react.element"),Dl=Symbol.for("react.transitional.element"),er=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),u_=Symbol.for("react.strict_mode"),ah=Symbol.for("react.profiler"),c_=Symbol.for("react.consumer"),Rn=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),sh=Symbol.for("react.suspense"),rh=Symbol.for("react.suspense_list"),Cf=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),lh=Symbol.for("react.activity"),NT=Symbol.for("react.memo_cache_sentinel"),rg=Symbol.iterator;function Fs(e){return e===null||typeof e!="object"?null:(e=rg&&e[rg]||e["@@iterator"],typeof e=="function"?e:null)}var VT=Symbol.for("react.client.reference");function oh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===VT?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Na:return"Fragment";case ah:return"Profiler";case u_:return"StrictMode";case sh:return"Suspense";case rh:return"SuspenseList";case lh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case er:return"Portal";case Rn:return e.displayName||"Context";case c_:return(e._context.displayName||"Context")+".Consumer";case Rf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cf:return t=e.displayName||null,t!==null?t:oh(e.type)||"Memo";case Jn:t=e._payload,e=e._init;try{return oh(e(t))}catch{}}return null}var nr=Array.isArray,F=a_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=CT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Zi={pending:!1,data:null,method:null,action:null},uh=[],Va=-1;function pn(e){return{current:e}}function $t(e){0>Va||(e.current=uh[Va],uh[Va]=null,Va--)}function vt(e,t){Va++,uh[Va]=e.current,e.current=t}var cn=pn(null),xr=pn(null),ui=pn(null),po=pn(null);function yo(e,t){switch(vt(ui,t),vt(xr,e),vt(cn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fp(t),e=N0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$t(cn),vt(cn,e)}function Wa(){$t(cn),$t(xr),$t(ui)}function ch(e){e.memoizedState!==null&&vt(po,e);var t=cn.current,n=N0(t,e.type);t!==n&&(vt(xr,e),vt(cn,n))}function _o(e){xr.current===e&&($t(cn),$t(xr)),po.current===e&&($t(po),kr._currentValue=Zi)}var fc,lg;function Gi(e){if(fc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fc=t&&t[1]||"",lg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fc+e+lg}var dc=!1;function mc(e,t){if(!e||dc)return"";dc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(v){var m=v}Reflect.construct(e,[],g)}else{try{g.call()}catch(v){m=v}e.call(g.prototype)}}else{try{throw Error()}catch(v){m=v}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(v){if(v&&m&&typeof v.stack=="string")return[v.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),r=s[0],o=s[1];if(r&&o){var u=r.split(`
`),h=o.split(`
`);for(a=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(i===u.length||a===h.length)for(i=u.length-1,a=h.length-1;1<=i&&0<=a&&u[i]!==h[a];)a--;for(;1<=i&&0<=a;i--,a--)if(u[i]!==h[a]){if(i!==1||a!==1)do if(i--,a--,0>a||u[i]!==h[a]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=a);break}}}finally{dc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Gi(n):""}function IT(e,t){switch(e.tag){case 26:case 27:case 5:return Gi(e.type);case 16:return Gi("Lazy");case 13:return e.child!==t&&t!==null?Gi("Suspense Fallback"):Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return mc(e.type,!1);case 11:return mc(e.type.render,!1);case 1:return mc(e.type,!0);case 31:return Gi("Activity");default:return""}}function og(e){try{var t="",n=null;do t+=IT(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var hh=Object.prototype.hasOwnProperty,Df=Yt.unstable_scheduleCallback,gc=Yt.unstable_cancelCallback,MT=Yt.unstable_shouldYield,OT=Yt.unstable_requestPaint,Ie=Yt.unstable_now,zT=Yt.unstable_getCurrentPriorityLevel,h_=Yt.unstable_ImmediatePriority,f_=Yt.unstable_UserBlockingPriority,vo=Yt.unstable_NormalPriority,UT=Yt.unstable_LowPriority,d_=Yt.unstable_IdlePriority,LT=Yt.log,jT=Yt.unstable_setDisableYieldValue,Wr=null,Me=null;function ii(e){if(typeof LT=="function"&&jT(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(Wr,e)}catch{}}var Oe=Math.clz32?Math.clz32:PT,BT=Math.log,kT=Math.LN2;function PT(e){return e>>>=0,e===0?32:31-(BT(e)/kT|0)|0}var xl=256,Nl=262144,Vl=4194304;function Qi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function cu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~s,i!==0?a=Qi(i):(r&=o,r!==0?a=Qi(r):n||(n=o&~e,n!==0&&(a=Qi(n))))):(o=i&~s,o!==0?a=Qi(o):r!==0?a=Qi(r):n||(n=i&~e,n!==0&&(a=Qi(n)))),a===0?0:t!==0&&t!==a&&!(t&s)&&(s=a&-a,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:a}function tl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qT(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m_(){var e=Vl;return Vl<<=1,!(Vl&62914560)&&(Vl=4194304),e}function pc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function el(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function HT(e,t,n,i,a,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=r&~n;0<n;){var d=31-Oe(n),g=1<<d;o[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var v=m[d];v!==null&&(v.lane&=-536870913)}n&=~g}i!==0&&g_(e,i,0),s!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function g_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Oe(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function p_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Oe(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function y_(e,t){var n=t&-t;return n=n&42?1:xf(n),n&(e.suspendedLanes|t)?0:n}function xf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Nf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function __(){var e=ut.p;return e!==0?e:(e=window.event,e===void 0?32:P0(e.type))}function ug(e,t){var n=ut.p;try{return ut.p=e,t()}finally{ut.p=n}}var Ii=Math.random().toString(36).slice(2),ee="__reactFiber$"+Ii,be="__reactProps$"+Ii,_s="__reactContainer$"+Ii,fh="__reactEvents$"+Ii,GT="__reactListeners$"+Ii,QT="__reactHandles$"+Ii,cg="__reactResources$"+Ii,nl="__reactMarker$"+Ii;function Vf(e){delete e[ee],delete e[be],delete e[fh],delete e[GT],delete e[QT]}function Ia(e){var t=e[ee];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_s]||n[ee]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yp(e);e!==null;){if(n=e[ee])return n;e=yp(e)}return t}e=n,n=e.parentNode}return null}function vs(e){if(e=e[ee]||e[_s]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ir(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(O(33))}function qa(e){var t=e[cg];return t||(t=e[cg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Jt(e){e[nl]=!0}var v_=new Set,E_={};function ca(e,t){ts(e,t),ts(e+"Capture",t)}function ts(e,t){for(E_[e]=t,e=0;e<t.length;e++)v_.add(t[e])}var FT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hg={},fg={};function YT(e){return hh.call(fg,e)?!0:hh.call(hg,e)?!1:FT.test(e)?fg[e]=!0:(hg[e]=!0,!1)}function Kl(e,t,n){if(YT(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Il(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function _n(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function T_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function KT(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dh(e){if(!e._valueTracker){var t=T_(e)?"checked":"value";e._valueTracker=KT(e,t,""+e[t])}}function A_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=T_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Eo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var XT=/[\n"\\]/g;function He(e){return e.replace(XT,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mh(e,t,n,i,a,s,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ke(t)):e.value!==""+ke(t)&&(e.value=""+ke(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?gh(e,r,ke(t)):n!=null?gh(e,r,ke(n)):i!=null&&e.removeAttribute("value"),a==null&&s!=null&&(e.defaultChecked=!!s),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+ke(o):e.removeAttribute("name")}function S_(e,t,n,i,a,s,r,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){dh(e);return}n=n!=null?""+ke(n):"",t=t!=null?""+ke(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),dh(e)}function gh(e,t,n){t==="number"&&Eo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ha(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ke(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function b_(e,t,n){if(t!=null&&(t=""+ke(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ke(n):""}function w_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(O(92));if(nr(i)){if(1<i.length)throw Error(O(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=ke(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),dh(e)}function es(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ZT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||ZT.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function R_(e,t,n){if(t!=null&&typeof t!="object")throw Error(O(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&dg(e,a,i)}else for(var s in t)t.hasOwnProperty(s)&&dg(e,s,t[s])}function If(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$T=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xl(e){return $T.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Cn(){}var ph=null;function Mf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,Ga=null;function mg(e){var t=vs(e);if(t&&(e=t.stateNode)){var n=e[be]||null;t:switch(e=t.stateNode,t.type){case"input":if(mh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+He(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[be]||null;if(!a)throw Error(O(90));mh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&A_(i)}break t;case"textarea":b_(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ha(e,!!n.multiple,t,!1)}}}var yc=!1;function C_(e,t,n){if(yc)return e(t,n);yc=!0;try{var i=e(t);return i}finally{if(yc=!1,(Ma!==null||Ga!==null)&&(Au(),Ma&&(t=Ma,e=Ga,Ga=Ma=null,mg(t),e)))for(t=0;t<e.length;t++)mg(e[t])}}function Nr(e,t){var n=e.stateNode;if(n===null)return null;var i=n[be]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yh=!1;if(Mn)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){yh=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{yh=!1}var ai=null,Of=null,Zl=null;function D_(){if(Zl)return Zl;var e,t=Of,n=t.length,i,a="value"in ai?ai.value:ai.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var r=n-e;for(i=1;i<=r&&t[n-i]===a[s-i];i++);return Zl=a.slice(e,1<i?1-i:void 0)}function Jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function gg(){return!1}function we(e){function t(n,i,a,s,r){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ml:gg,this.isPropagationStopped=gg,this}return Rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hu=we(ha),il=Rt({},ha,{view:0,detail:0}),WT=we(il),_c,vc,Ks,fu=Rt({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ks&&(Ks&&e.type==="mousemove"?(_c=e.screenX-Ks.screenX,vc=e.screenY-Ks.screenY):vc=_c=0,Ks=e),_c)},movementY:function(e){return"movementY"in e?e.movementY:vc}}),pg=we(fu),tA=Rt({},fu,{dataTransfer:0}),eA=we(tA),nA=Rt({},il,{relatedTarget:0}),Ec=we(nA),iA=Rt({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),aA=we(iA),sA=Rt({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rA=we(sA),lA=Rt({},ha,{data:0}),yg=we(lA),oA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cA[e])?!!t[e]:!1}function zf(){return hA}var fA=Rt({},il,{key:function(e){if(e.key){var t=oA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zf,charCode:function(e){return e.type==="keypress"?Jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dA=we(fA),mA=Rt({},fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_g=we(mA),gA=Rt({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zf}),pA=we(gA),yA=Rt({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),_A=we(yA),vA=Rt({},fu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EA=we(vA),TA=Rt({},ha,{newState:0,oldState:0}),AA=we(TA),SA=[9,13,27,32],Uf=Mn&&"CompositionEvent"in window,hr=null;Mn&&"documentMode"in document&&(hr=document.documentMode);var bA=Mn&&"TextEvent"in window&&!hr,x_=Mn&&(!Uf||hr&&8<hr&&11>=hr),vg=" ",Eg=!1;function N_(e,t){switch(e){case"keyup":return SA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oa=!1;function wA(e,t){switch(e){case"compositionend":return V_(t);case"keypress":return t.which!==32?null:(Eg=!0,vg);case"textInput":return e=t.data,e===vg&&Eg?null:e;default:return null}}function RA(e,t){if(Oa)return e==="compositionend"||!Uf&&N_(e,t)?(e=D_(),Zl=Of=ai=null,Oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x_&&t.locale!=="ko"?null:t.data;default:return null}}var CA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CA[e.type]:t==="textarea"}function I_(e,t,n,i){Ma?Ga?Ga.push(i):Ga=[i]:Ma=i,t=jo(t,"onChange"),0<t.length&&(n=new hu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var fr=null,Vr=null;function DA(e){C0(e,0)}function du(e){var t=ir(e);if(A_(t))return e}function Ag(e,t){if(e==="change")return t}var M_=!1;if(Mn){var Tc;if(Mn){var Ac="oninput"in document;if(!Ac){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Ac=typeof Sg.oninput=="function"}Tc=Ac}else Tc=!1;M_=Tc&&(!document.documentMode||9<document.documentMode)}function bg(){fr&&(fr.detachEvent("onpropertychange",O_),Vr=fr=null)}function O_(e){if(e.propertyName==="value"&&du(Vr)){var t=[];I_(t,Vr,e,Mf(e)),C_(DA,t)}}function xA(e,t,n){e==="focusin"?(bg(),fr=t,Vr=n,fr.attachEvent("onpropertychange",O_)):e==="focusout"&&bg()}function NA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Vr)}function VA(e,t){if(e==="click")return du(t)}function IA(e,t){if(e==="input"||e==="change")return du(t)}function MA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ue=typeof Object.is=="function"?Object.is:MA;function Ir(e,t){if(Ue(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!hh.call(t,a)||!Ue(e[a],t[a]))return!1}return!0}function wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rg(e,t){var n=wg(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=wg(n)}}function z_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?z_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function U_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Eo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Eo(e.document)}return t}function Lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var OA=Mn&&"documentMode"in document&&11>=document.documentMode,za=null,_h=null,dr=null,vh=!1;function Cg(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vh||za==null||za!==Eo(i)||(i=za,"selectionStart"in i&&Lf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),dr&&Ir(dr,i)||(dr=i,i=jo(_h,"onSelect"),0<i.length&&(t=new hu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=za)))}function Hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ua={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},Sc={},L_={};Mn&&(L_=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function fa(e){if(Sc[e])return Sc[e];if(!Ua[e])return e;var t=Ua[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in L_)return Sc[e]=t[n];return e}var j_=fa("animationend"),B_=fa("animationiteration"),k_=fa("animationstart"),zA=fa("transitionrun"),UA=fa("transitionstart"),LA=fa("transitioncancel"),P_=fa("transitionend"),q_=new Map,Eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eh.push("scrollEnd");function nn(e,t){q_.set(e,t),ca(t,[e])}var To=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Be=[],La=0,jf=0;function mu(){for(var e=La,t=jf=La=0;t<e;){var n=Be[t];Be[t++]=null;var i=Be[t];Be[t++]=null;var a=Be[t];Be[t++]=null;var s=Be[t];if(Be[t++]=null,i!==null&&a!==null){var r=i.pending;r===null?a.next=a:(a.next=r.next,r.next=a),i.pending=a}s!==0&&H_(n,a,s)}}function gu(e,t,n,i){Be[La++]=e,Be[La++]=t,Be[La++]=n,Be[La++]=i,jf|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Bf(e,t,n,i){return gu(e,t,n,i),Ao(e)}function da(e,t){return gu(e,null,null,t),Ao(e)}function H_(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(a=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,a&&t!==null&&(a=31-Oe(n),e=s.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),s):null}function Ao(e){if(50<Ar)throw Ar=0,Ph=null,Error(O(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ja={};function jA(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xe(e,t,n,i){return new jA(e,t,n,i)}function kf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,t){var n=e.alternate;return n===null?(n=xe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function G_(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $l(e,t,n,i,a,s){var r=0;if(i=e,typeof e=="function")kf(e)&&(r=1);else if(typeof e=="string")r=HS(e,n,cn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case lh:return e=xe(31,n,t,a),e.elementType=lh,e.lanes=s,e;case Na:return Ji(n.children,a,s,t);case u_:r=8,a|=24;break;case ah:return e=xe(12,n,t,a|2),e.elementType=ah,e.lanes=s,e;case sh:return e=xe(13,n,t,a),e.elementType=sh,e.lanes=s,e;case rh:return e=xe(19,n,t,a),e.elementType=rh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rn:r=10;break t;case c_:r=9;break t;case Rf:r=11;break t;case Cf:r=14;break t;case Jn:r=16,i=null;break t}r=29,n=Error(O(130,e===null?"null":typeof e,"")),i=null}return t=xe(r,n,t,a),t.elementType=e,t.type=i,t.lanes=s,t}function Ji(e,t,n,i){return e=xe(7,e,i,t),e.lanes=n,e}function bc(e,t,n){return e=xe(6,e,null,t),e.lanes=n,e}function Q_(e){var t=xe(18,null,null,0);return t.stateNode=e,t}function wc(e,t,n){return t=xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dg=new WeakMap;function Ge(e,t){if(typeof e=="object"&&e!==null){var n=Dg.get(e);return n!==void 0?n:(t={value:e,source:t,stack:og(t)},Dg.set(e,t),t)}return{value:e,source:t,stack:og(t)}}var Ba=[],ka=0,So=null,Mr=0,Pe=[],qe=0,Ai=null,ln=1,on="";function bn(e,t){Ba[ka++]=Mr,Ba[ka++]=So,So=e,Mr=t}function F_(e,t,n){Pe[qe++]=ln,Pe[qe++]=on,Pe[qe++]=Ai,Ai=e;var i=ln;e=on;var a=32-Oe(i)-1;i&=~(1<<a),n+=1;var s=32-Oe(t)+a;if(30<s){var r=a-a%5;s=(i&(1<<r)-1).toString(32),i>>=r,a-=r,ln=1<<32-Oe(t)+a|n<<a|i,on=s+e}else ln=1<<s|n<<a|i,on=e}function Pf(e){e.return!==null&&(bn(e,1),F_(e,1,0))}function qf(e){for(;e===So;)So=Ba[--ka],Ba[ka]=null,Mr=Ba[--ka],Ba[ka]=null;for(;e===Ai;)Ai=Pe[--qe],Pe[qe]=null,on=Pe[--qe],Pe[qe]=null,ln=Pe[--qe],Pe[qe]=null}function Y_(e,t){Pe[qe++]=ln,Pe[qe++]=on,Pe[qe++]=Ai,ln=t.id,on=t.overflow,Ai=e}var ne=null,At=null,st=!1,ci=null,Qe=!1,Th=Error(O(519));function Si(e){var t=Error(O(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Or(Ge(t,e)),Th}function xg(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ee]=e,t[be]=i,n){case"dialog":tt("cancel",t),tt("close",t);break;case"iframe":case"object":case"embed":tt("load",t);break;case"video":case"audio":for(n=0;n<jr.length;n++)tt(jr[n],t);break;case"source":tt("error",t);break;case"img":case"image":case"link":tt("error",t),tt("load",t);break;case"details":tt("toggle",t);break;case"input":tt("invalid",t),S_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":tt("invalid",t);break;case"textarea":tt("invalid",t),w_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||x0(t.textContent,n)?(i.popover!=null&&(tt("beforetoggle",t),tt("toggle",t)),i.onScroll!=null&&tt("scroll",t),i.onScrollEnd!=null&&tt("scrollend",t),i.onClick!=null&&(t.onclick=Cn),t=!0):t=!1,t||Si(e,!0)}function Ng(e){for(ne=e.return;ne;)switch(ne.tag){case 5:case 31:case 13:Qe=!1;return;case 27:case 3:Qe=!0;return;default:ne=ne.return}}function Ta(e){if(e!==ne)return!1;if(!st)return Ng(e),st=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Fh(e.type,e.memoizedProps)),n=!n),n&&At&&Si(e),Ng(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));At=pp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));At=pp(e)}else t===27?(t=At,Mi(e.type)?(e=Zh,Zh=null,At=e):At=t):At=ne?Ke(e.stateNode.nextSibling):null;return!0}function ia(){At=ne=null,st=!1}function Rc(){var e=ci;return e!==null&&(Ee===null?Ee=e:Ee.push.apply(Ee,e),ci=null),e}function Or(e){ci===null?ci=[e]:ci.push(e)}var Ah=pn(null),ma=null,Dn=null;function Wn(e,t,n){vt(Ah,t._currentValue),t._currentValue=n}function Nn(e){e._currentValue=Ah.current,$t(Ah)}function Sh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function bh(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){var r=a.child;s=s.firstContext;t:for(;s!==null;){var o=s;s=a;for(var u=0;u<t.length;u++)if(o.context===t[u]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Sh(s.return,n,e),i||(r=null);break t}s=o.next}}else if(a.tag===18){if(r=a.return,r===null)throw Error(O(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),Sh(r,n,e),r=null}else r=a.child;if(r!==null)r.return=a;else for(r=a;r!==null;){if(r===e){r=null;break}if(a=r.sibling,a!==null){a.return=r.return,r=a;break}r=r.return}a=r}}function Es(e,t,n,i){e=null;for(var a=t,s=!1;a!==null;){if(!s){if(a.flags&524288)s=!0;else if(a.flags&262144)break}if(a.tag===10){var r=a.alternate;if(r===null)throw Error(O(387));if(r=r.memoizedProps,r!==null){var o=a.type;Ue(a.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(a===po.current){if(r=a.alternate,r===null)throw Error(O(387));r.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(kr):e=[kr])}a=a.return}e!==null&&bh(t,e,n,i),t.flags|=262144}function bo(e){for(e=e.firstContext;e!==null;){if(!Ue(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){ma=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ae(e){return K_(ma,e)}function Ol(e,t){return ma===null&&aa(e),K_(e,t)}function K_(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Dn===null){if(e===null)throw Error(O(308));Dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Dn=Dn.next=t;return n}var BA=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},kA=Yt.unstable_scheduleCallback,PA=Yt.unstable_NormalPriority,Bt={$$typeof:Rn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new BA,data:new Map,refCount:0}}function al(e){e.refCount--,e.refCount===0&&kA(PA,function(){e.controller.abort()})}var mr=null,wh=0,ns=0,Qa=null;function qA(e,t){if(mr===null){var n=mr=[];wh=0,ns=md(),Qa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return wh++,t.then(Vg,Vg),t}function Vg(){if(--wh===0&&mr!==null){Qa!==null&&(Qa.status="fulfilled");var e=mr;mr=null,ns=0,Qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function HA(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var Ig=F.S;F.S=function(e,t){o0=Ie(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&qA(e,t),Ig!==null&&Ig(e,t)};var $i=pn(null);function Gf(){var e=$i.current;return e!==null?e:yt.pooledCache}function Wl(e,t){t===null?vt($i,$i.current):vt($i,t.pool)}function X_(){var e=Gf();return e===null?null:{parent:Bt._currentValue,pool:e}}var Ts=Error(O(460)),Qf=Error(O(474)),pu=Error(O(542)),wo={then:function(){}};function Mg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Z_(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Cn,Cn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zg(e),e;default:if(typeof t.status=="string")t.then(Cn,Cn);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(O(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zg(e),e}throw Wi=t,Ts}}function Fi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Wi=n,Ts):n}}var Wi=null;function Og(){if(Wi===null)throw Error(O(459));var e=Wi;return Wi=null,e}function zg(e){if(e===Ts||e===pu)throw Error(O(483))}var Fa=null,zr=0;function zl(e){var t=zr;return zr+=1,Fa===null&&(Fa=[]),Z_(Fa,e,t)}function Xs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ul(e,t){throw t.$$typeof===xT?Error(O(525)):(e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function J_(e){function t(b,T){if(e){var A=b.deletions;A===null?(b.deletions=[T],b.flags|=16):A.push(T)}}function n(b,T){if(!e)return null;for(;T!==null;)t(b,T),T=T.sibling;return null}function i(b){for(var T=new Map;b!==null;)b.key!==null?T.set(b.key,b):T.set(b.index,b),b=b.sibling;return T}function a(b,T){return b=xn(b,T),b.index=0,b.sibling=null,b}function s(b,T,A){return b.index=A,e?(A=b.alternate,A!==null?(A=A.index,A<T?(b.flags|=67108866,T):A):(b.flags|=67108866,T)):(b.flags|=1048576,T)}function r(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function o(b,T,A,C){return T===null||T.tag!==6?(T=bc(A,b.mode,C),T.return=b,T):(T=a(T,A),T.return=b,T)}function u(b,T,A,C){var z=A.type;return z===Na?d(b,T,A.props.children,C,A.key):T!==null&&(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Jn&&Fi(z)===T.type)?(T=a(T,A.props),Xs(T,A),T.return=b,T):(T=$l(A.type,A.key,A.props,null,b.mode,C),Xs(T,A),T.return=b,T)}function h(b,T,A,C){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=wc(A,b.mode,C),T.return=b,T):(T=a(T,A.children||[]),T.return=b,T)}function d(b,T,A,C,z){return T===null||T.tag!==7?(T=Ji(A,b.mode,C,z),T.return=b,T):(T=a(T,A),T.return=b,T)}function g(b,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=bc(""+T,b.mode,A),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Dl:return A=$l(T.type,T.key,T.props,null,b.mode,A),Xs(A,T),A.return=b,A;case er:return T=wc(T,b.mode,A),T.return=b,T;case Jn:return T=Fi(T),g(b,T,A)}if(nr(T)||Fs(T))return T=Ji(T,b.mode,A,null),T.return=b,T;if(typeof T.then=="function")return g(b,zl(T),A);if(T.$$typeof===Rn)return g(b,Ol(b,T),A);Ul(b,T)}return null}function m(b,T,A,C){var z=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return z!==null?null:o(b,T,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Dl:return A.key===z?u(b,T,A,C):null;case er:return A.key===z?h(b,T,A,C):null;case Jn:return A=Fi(A),m(b,T,A,C)}if(nr(A)||Fs(A))return z!==null?null:d(b,T,A,C,null);if(typeof A.then=="function")return m(b,T,zl(A),C);if(A.$$typeof===Rn)return m(b,T,Ol(b,A),C);Ul(b,A)}return null}function v(b,T,A,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return b=b.get(A)||null,o(T,b,""+C,z);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Dl:return b=b.get(C.key===null?A:C.key)||null,u(T,b,C,z);case er:return b=b.get(C.key===null?A:C.key)||null,h(T,b,C,z);case Jn:return C=Fi(C),v(b,T,A,C,z)}if(nr(C)||Fs(C))return b=b.get(A)||null,d(T,b,C,z,null);if(typeof C.then=="function")return v(b,T,A,zl(C),z);if(C.$$typeof===Rn)return v(b,T,A,Ol(T,C),z);Ul(T,C)}return null}function D(b,T,A,C){for(var z=null,B=null,_=T,y=T=0,E=null;_!==null&&y<A.length;y++){_.index>y?(E=_,_=null):E=_.sibling;var w=m(b,_,A[y],C);if(w===null){_===null&&(_=E);break}e&&_&&w.alternate===null&&t(b,_),T=s(w,T,y),B===null?z=w:B.sibling=w,B=w,_=E}if(y===A.length)return n(b,_),st&&bn(b,y),z;if(_===null){for(;y<A.length;y++)_=g(b,A[y],C),_!==null&&(T=s(_,T,y),B===null?z=_:B.sibling=_,B=_);return st&&bn(b,y),z}for(_=i(_);y<A.length;y++)E=v(_,b,y,A[y],C),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?y:E.key),T=s(E,T,y),B===null?z=E:B.sibling=E,B=E);return e&&_.forEach(function(R){return t(b,R)}),st&&bn(b,y),z}function M(b,T,A,C){if(A==null)throw Error(O(151));for(var z=null,B=null,_=T,y=T=0,E=null,w=A.next();_!==null&&!w.done;y++,w=A.next()){_.index>y?(E=_,_=null):E=_.sibling;var R=m(b,_,w.value,C);if(R===null){_===null&&(_=E);break}e&&_&&R.alternate===null&&t(b,_),T=s(R,T,y),B===null?z=R:B.sibling=R,B=R,_=E}if(w.done)return n(b,_),st&&bn(b,y),z;if(_===null){for(;!w.done;y++,w=A.next())w=g(b,w.value,C),w!==null&&(T=s(w,T,y),B===null?z=w:B.sibling=w,B=w);return st&&bn(b,y),z}for(_=i(_);!w.done;y++,w=A.next())w=v(_,b,y,w.value,C),w!==null&&(e&&w.alternate!==null&&_.delete(w.key===null?y:w.key),T=s(w,T,y),B===null?z=w:B.sibling=w,B=w);return e&&_.forEach(function(x){return t(b,x)}),st&&bn(b,y),z}function L(b,T,A,C){if(typeof A=="object"&&A!==null&&A.type===Na&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Dl:t:{for(var z=A.key;T!==null;){if(T.key===z){if(z=A.type,z===Na){if(T.tag===7){n(b,T.sibling),C=a(T,A.props.children),C.return=b,b=C;break t}}else if(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Jn&&Fi(z)===T.type){n(b,T.sibling),C=a(T,A.props),Xs(C,A),C.return=b,b=C;break t}n(b,T);break}else t(b,T);T=T.sibling}A.type===Na?(C=Ji(A.props.children,b.mode,C,A.key),C.return=b,b=C):(C=$l(A.type,A.key,A.props,null,b.mode,C),Xs(C,A),C.return=b,b=C)}return r(b);case er:t:{for(z=A.key;T!==null;){if(T.key===z)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){n(b,T.sibling),C=a(T,A.children||[]),C.return=b,b=C;break t}else{n(b,T);break}else t(b,T);T=T.sibling}C=wc(A,b.mode,C),C.return=b,b=C}return r(b);case Jn:return A=Fi(A),L(b,T,A,C)}if(nr(A))return D(b,T,A,C);if(Fs(A)){if(z=Fs(A),typeof z!="function")throw Error(O(150));return A=z.call(A),M(b,T,A,C)}if(typeof A.then=="function")return L(b,T,zl(A),C);if(A.$$typeof===Rn)return L(b,T,Ol(b,A),C);Ul(b,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(n(b,T.sibling),C=a(T,A),C.return=b,b=C):(n(b,T),C=bc(A,b.mode,C),C.return=b,b=C),r(b)):n(b,T)}return function(b,T,A,C){try{zr=0;var z=L(b,T,A,C);return Fa=null,z}catch(_){if(_===Ts||_===pu)throw _;var B=xe(29,_,null,b.mode);return B.lanes=C,B.return=b,B}finally{}}}var sa=J_(!0),$_=J_(!1),$n=!1;function Ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function fi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ot&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=Ao(e),H_(e,null,n),t}return gu(e,i,t,n),Ao(e)}function gr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,p_(e,n)}}function Cc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?a=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ch=!1;function pr(){if(Ch){var e=Qa;if(e!==null)throw e}}function yr(e,t,n,i){Ch=!1;var a=e.updateQueue;$n=!1;var s=a.firstBaseUpdate,r=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,h=u.next;u.next=null,r===null?s=h:r.next=h,r=u;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==r&&(o===null?d.firstBaseUpdate=h:o.next=h,d.lastBaseUpdate=u))}if(s!==null){var g=a.baseState;r=0,d=h=u=null,o=s;do{var m=o.lane&-536870913,v=m!==o.lane;if(v?(at&m)===m:(i&m)===m){m!==0&&m===ns&&(Ch=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var D=e,M=o;m=t;var L=n;switch(M.tag){case 1:if(D=M.payload,typeof D=="function"){g=D.call(L,g,m);break t}g=D;break t;case 3:D.flags=D.flags&-65537|128;case 0:if(D=M.payload,m=typeof D=="function"?D.call(L,g,m):D,m==null)break t;g=Rt({},g,m);break t;case 2:$n=!0}}m=o.callback,m!==null&&(e.flags|=64,v&&(e.flags|=8192),v=a.callbacks,v===null?a.callbacks=[m]:v.push(m))}else v={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(h=d=v,u=g):d=d.next=v,r|=m;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;v=o,o=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(!0);d===null&&(u=g),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=d,s===null&&(a.shared.lanes=0),wi|=r,e.lanes=r,e.memoizedState=g}}function W_(e,t){if(typeof e!="function")throw Error(O(191,e));e.call(t)}function tv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)W_(n[e],t)}var is=pn(null),Ro=pn(0);function Ug(e,t){e=Ln,vt(Ro,e),vt(is,t),Ln=e|t.baseLanes}function Dh(){vt(Ro,Ln),vt(is,is.current)}function Yf(){Ln=Ro.current,$t(is),$t(Ro)}var Le=pn(null),Ye=null;function ti(e){var t=e.alternate;vt(Mt,Mt.current&1),vt(Le,e),Ye===null&&(t===null||is.current!==null||t.memoizedState!==null)&&(Ye=e)}function xh(e){vt(Mt,Mt.current),vt(Le,e),Ye===null&&(Ye=e)}function ev(e){e.tag===22?(vt(Mt,Mt.current),vt(Le,e),Ye===null&&(Ye=e)):ei()}function ei(){vt(Mt,Mt.current),vt(Le,Le.current)}function De(e){$t(Le),Ye===e&&(Ye=null),$t(Mt)}var Mt=pn(0);function Co(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Kh(n)||Xh(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var On=0,J=null,gt=null,Lt=null,Do=!1,Ya=!1,ra=!1,xo=0,Ur=0,Ka=null,GA=0;function Nt(){throw Error(O(321))}function Kf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ue(e[n],t[n]))return!1;return!0}function Xf(e,t,n,i,a,s){return On=s,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=e===null||e.memoizedState===null?Iv:rd,ra=!1,s=n(i,a),ra=!1,Ya&&(s=iv(t,n,i,a)),nv(e),s}function nv(e){F.H=Lr;var t=gt!==null&&gt.next!==null;if(On=0,Lt=gt=J=null,Do=!1,Ur=0,Ka=null,t)throw Error(O(300));e===null||kt||(e=e.dependencies,e!==null&&bo(e)&&(kt=!0))}function iv(e,t,n,i){J=e;var a=0;do{if(Ya&&(Ka=null),Ur=0,Ya=!1,25<=a)throw Error(O(301));if(a+=1,Lt=gt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}F.H=Mv,s=t(n,i)}while(Ya);return s}function QA(){var e=F.H,t=e.useState()[0];return t=typeof t.then=="function"?sl(t):t,e=e.useState()[0],(gt!==null?gt.memoizedState:null)!==e&&(J.flags|=1024),t}function Zf(){var e=xo!==0;return xo=0,e}function Jf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $f(e){if(Do){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Do=!1}On=0,Lt=gt=J=null,Ya=!1,Ur=xo=0,Ka=null}function me(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?J.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Ot(){if(gt===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=Lt===null?J.memoizedState:Lt.next;if(t!==null)Lt=t,gt=e;else{if(e===null)throw J.alternate===null?Error(O(467)):Error(O(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Lt===null?J.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var t=Ur;return Ur+=1,Ka===null&&(Ka=[]),e=Z_(Ka,e,t),t=J,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,F.H=t===null||t.memoizedState===null?Iv:rd),e}function _u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===Rn)return ae(e)}throw Error(O(438,String(e)))}function Wf(e){var t=null,n=J.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=yu(),J.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=NT;return t.index++,n}function zn(e,t){return typeof t=="function"?t(e):t}function to(e){var t=Ot();return td(t,gt,e)}function td(e,t,n){var i=e.queue;if(i===null)throw Error(O(311));i.lastRenderedReducer=n;var a=e.baseQueue,s=i.pending;if(s!==null){if(a!==null){var r=a.next;a.next=s.next,s.next=r}t.baseQueue=a=s,i.pending=null}if(s=e.baseState,a===null)e.memoizedState=s;else{t=a.next;var o=r=null,u=null,h=t,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(at&g)===g:(On&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===ns&&(d=!0);else if((On&m)===m){h=h.next,m===ns&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=g,r=s):u=u.next=g,J.lanes|=m,wi|=m;g=h.action,ra&&n(s,g),s=h.hasEagerState?h.eagerState:n(s,g)}else m={lane:g,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=m,r=s):u=u.next=m,J.lanes|=g,wi|=g;h=h.next}while(h!==null&&h!==t);if(u===null?r=s:u.next=o,!Ue(s,e.memoizedState)&&(kt=!0,d&&(n=Qa,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=u,i.lastRenderedState=s}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Dc(e){var t=Ot(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var r=a=a.next;do s=e(s,r.action),r=r.next;while(r!==a);Ue(s,t.memoizedState)||(kt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function av(e,t,n){var i=J,a=Ot(),s=st;if(s){if(n===void 0)throw Error(O(407));n=n()}else n=t();var r=!Ue((gt||a).memoizedState,n);if(r&&(a.memoizedState=n,kt=!0),a=a.queue,ed(lv.bind(null,i,a,e),[e]),a.getSnapshot!==t||r||Lt!==null&&Lt.memoizedState.tag&1){if(i.flags|=2048,as(9,{destroy:void 0},rv.bind(null,i,a,n,t),null),yt===null)throw Error(O(349));s||On&127||sv(i,t,n)}return n}function sv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t=yu(),J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function rv(e,t,n,i){t.value=n,t.getSnapshot=i,ov(t)&&uv(e)}function lv(e,t,n){return n(function(){ov(t)&&uv(e)})}function ov(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ue(e,n)}catch{return!0}}function uv(e){var t=da(e,2);t!==null&&Se(t,e,2)}function Nh(e){var t=me();if(typeof e=="function"){var n=e;if(e=n(),ra){ii(!0);try{n()}finally{ii(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},t}function cv(e,t,n,i){return e.baseState=n,td(e,gt,typeof i=="function"?i:zn)}function FA(e,t,n,i,a){if(Eu(e))throw Error(O(485));if(e=t.action,e!==null){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};F.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,hv(t,s)):(s.next=n.next,t.pending=n.next=s)}}function hv(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var s=F.T,r={};F.T=r;try{var o=n(a,i),u=F.S;u!==null&&u(r,o),Lg(e,t,o)}catch(h){Vh(e,t,h)}finally{s!==null&&r.types!==null&&(s.types=r.types),F.T=s}}else try{s=n(a,i),Lg(e,t,s)}catch(h){Vh(e,t,h)}}function Lg(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){jg(e,t,i)},function(i){return Vh(e,t,i)}):jg(e,t,n)}function jg(e,t,n){t.status="fulfilled",t.value=n,fv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,hv(e,n)))}function Vh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,fv(t),t=t.next;while(t!==i)}e.action=null}function fv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function dv(e,t){return t}function Bg(e,t){if(st){var n=yt.formState;if(n!==null){t:{var i=J;if(st){if(At){e:{for(var a=At,s=Qe;a.nodeType!==8;){if(!s){a=null;break e}if(a=Ke(a.nextSibling),a===null){a=null;break e}}s=a.data,a=s==="F!"||s==="F"?a:null}if(a){At=Ke(a.nextSibling),i=a.data==="F!";break t}}Si(i)}i=!1}i&&(t=n[0])}}return n=me(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dv,lastRenderedState:t},n.queue=i,n=xv.bind(null,J,i),i.dispatch=n,i=Nh(!1),s=sd.bind(null,J,!1,i.queue),i=me(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=FA.bind(null,J,a,s,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function kg(e){var t=Ot();return mv(t,gt,e)}function mv(e,t,n){if(t=td(e,t,dv)[0],e=to(zn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=sl(t)}catch(r){throw r===Ts?pu:r}else i=t;t=Ot();var a=t.queue,s=a.dispatch;return n!==t.memoizedState&&(J.flags|=2048,as(9,{destroy:void 0},YA.bind(null,a,n),null)),[i,s,e]}function YA(e,t){e.action=t}function Pg(e){var t=Ot(),n=gt;if(n!==null)return mv(t,n,e);Ot(),t=t.memoizedState,n=Ot();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function as(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=J.updateQueue,t===null&&(t=yu(),J.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function gv(){return Ot().memoizedState}function eo(e,t,n,i){var a=me();J.flags|=e,a.memoizedState=as(1|t,{destroy:void 0},n,i===void 0?null:i)}function vu(e,t,n,i){var a=Ot();i=i===void 0?null:i;var s=a.memoizedState.inst;gt!==null&&i!==null&&Kf(i,gt.memoizedState.deps)?a.memoizedState=as(t,s,n,i):(J.flags|=e,a.memoizedState=as(1|t,s,n,i))}function qg(e,t){eo(8390656,8,e,t)}function ed(e,t){vu(2048,8,e,t)}function KA(e){J.flags|=4;var t=J.updateQueue;if(t===null)t=yu(),J.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function pv(e){var t=Ot().memoizedState;return KA({ref:t,nextImpl:e}),function(){if(ot&2)throw Error(O(440));return t.impl.apply(void 0,arguments)}}function yv(e,t){return vu(4,2,e,t)}function _v(e,t){return vu(4,4,e,t)}function vv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ev(e,t,n){n=n!=null?n.concat([e]):null,vu(4,4,vv.bind(null,t,e),n)}function nd(){}function Tv(e,t){var n=Ot();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Kf(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Av(e,t){var n=Ot();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Kf(t,i[1]))return i[0];if(i=e(),ra){ii(!0);try{e()}finally{ii(!1)}}return n.memoizedState=[i,t],i}function id(e,t,n){return n===void 0||On&1073741824&&!(at&261930)?e.memoizedState=t:(e.memoizedState=n,e=c0(),J.lanes|=e,wi|=e,n)}function Sv(e,t,n,i){return Ue(n,t)?n:is.current!==null?(e=id(e,n,i),Ue(e,t)||(kt=!0),e):!(On&42)||On&1073741824&&!(at&261930)?(kt=!0,e.memoizedState=n):(e=c0(),J.lanes|=e,wi|=e,t)}function bv(e,t,n,i,a){var s=ut.p;ut.p=s!==0&&8>s?s:8;var r=F.T,o={};F.T=o,sd(e,!1,t,n);try{var u=a(),h=F.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=HA(u,i);_r(e,t,d,ze(e))}else _r(e,t,i,ze(e))}catch(g){_r(e,t,{then:function(){},status:"rejected",reason:g},ze())}finally{ut.p=s,r!==null&&o.types!==null&&(r.types=o.types),F.T=r}}function XA(){}function Ih(e,t,n,i){if(e.tag!==5)throw Error(O(476));var a=wv(e).queue;bv(e,a,t,Zi,n===null?XA:function(){return Rv(e),n(i)})}function wv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Zi,baseState:Zi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:Zi},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rv(e){var t=wv(e);t.next===null&&(t=e.alternate.memoizedState),_r(e,t.next.queue,{},ze())}function ad(){return ae(kr)}function Cv(){return Ot().memoizedState}function Dv(){return Ot().memoizedState}function ZA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ze();e=hi(n);var i=fi(t,e,n);i!==null&&(Se(i,t,n),gr(i,t,n)),t={cache:Hf()},e.payload=t;return}t=t.return}}function JA(e,t,n){var i=ze();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Eu(e)?Nv(t,n):(n=Bf(e,t,n,i),n!==null&&(Se(n,e,i),Vv(n,t,i)))}function xv(e,t,n){var i=ze();_r(e,t,n,i)}function _r(e,t,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Eu(e))Nv(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,o=s(r,n);if(a.hasEagerState=!0,a.eagerState=o,Ue(o,r))return gu(e,t,a,0),yt===null&&mu(),!1}catch{}finally{}if(n=Bf(e,t,a,i),n!==null)return Se(n,e,i),Vv(n,t,i),!0}return!1}function sd(e,t,n,i){if(i={lane:2,revertLane:md(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Eu(e)){if(t)throw Error(O(479))}else t=Bf(e,n,i,2),t!==null&&Se(t,e,2)}function Eu(e){var t=e.alternate;return e===J||t!==null&&t===J}function Nv(e,t){Ya=Do=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vv(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,p_(e,n)}}var Lr={readContext:ae,use:_u,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Lr.useEffectEvent=Nt;var Iv={readContext:ae,use:_u,useCallback:function(e,t){return me().memoizedState=[e,t===void 0?null:t],e},useContext:ae,useEffect:qg,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,eo(4194308,4,vv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return eo(4194308,4,e,t)},useInsertionEffect:function(e,t){eo(4,2,e,t)},useMemo:function(e,t){var n=me();t=t===void 0?null:t;var i=e();if(ra){ii(!0);try{e()}finally{ii(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=me();if(n!==void 0){var a=n(t);if(ra){ii(!0);try{n(t)}finally{ii(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=JA.bind(null,J,e),[i.memoizedState,e]},useRef:function(e){var t=me();return e={current:e},t.memoizedState=e},useState:function(e){e=Nh(e);var t=e.queue,n=xv.bind(null,J,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:nd,useDeferredValue:function(e,t){var n=me();return id(n,e,t)},useTransition:function(){var e=Nh(!1);return e=bv.bind(null,J,e.queue,!0,!1),me().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=J,a=me();if(st){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),yt===null)throw Error(O(349));at&127||sv(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,qg(lv.bind(null,i,s,e),[e]),i.flags|=2048,as(9,{destroy:void 0},rv.bind(null,i,s,n,t),null),n},useId:function(){var e=me(),t=yt.identifierPrefix;if(st){var n=on,i=ln;n=(i&~(1<<32-Oe(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=xo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=GA++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ad,useFormState:Bg,useActionState:Bg,useOptimistic:function(e){var t=me();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=sd.bind(null,J,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wf,useCacheRefresh:function(){return me().memoizedState=ZA.bind(null,J)},useEffectEvent:function(e){var t=me(),n={impl:e};return t.memoizedState=n,function(){if(ot&2)throw Error(O(440));return n.impl.apply(void 0,arguments)}}},rd={readContext:ae,use:_u,useCallback:Tv,useContext:ae,useEffect:ed,useImperativeHandle:Ev,useInsertionEffect:yv,useLayoutEffect:_v,useMemo:Av,useReducer:to,useRef:gv,useState:function(){return to(zn)},useDebugValue:nd,useDeferredValue:function(e,t){var n=Ot();return Sv(n,gt.memoizedState,e,t)},useTransition:function(){var e=to(zn)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:av,useId:Cv,useHostTransitionStatus:ad,useFormState:kg,useActionState:kg,useOptimistic:function(e,t){var n=Ot();return cv(n,gt,e,t)},useMemoCache:Wf,useCacheRefresh:Dv};rd.useEffectEvent=pv;var Mv={readContext:ae,use:_u,useCallback:Tv,useContext:ae,useEffect:ed,useImperativeHandle:Ev,useInsertionEffect:yv,useLayoutEffect:_v,useMemo:Av,useReducer:Dc,useRef:gv,useState:function(){return Dc(zn)},useDebugValue:nd,useDeferredValue:function(e,t){var n=Ot();return gt===null?id(n,e,t):Sv(n,gt.memoizedState,e,t)},useTransition:function(){var e=Dc(zn)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:av,useId:Cv,useHostTransitionStatus:ad,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,t){var n=Ot();return gt!==null?cv(n,gt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wf,useCacheRefresh:Dv};Mv.useEffectEvent=pv;function xc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Mh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ze(),a=hi(i);a.payload=t,n!=null&&(a.callback=n),t=fi(e,a,i),t!==null&&(Se(t,e,i),gr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ze(),a=hi(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=fi(e,a,i),t!==null&&(Se(t,e,i),gr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),i=hi(n);i.tag=2,t!=null&&(i.callback=t),t=fi(e,i,n),t!==null&&(Se(t,e,n),gr(t,e,n))}};function Hg(e,t,n,i,a,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,r):t.prototype&&t.prototype.isPureReactComponent?!Ir(n,i)||!Ir(a,s):!0}function Gg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Mh.enqueueReplaceState(t,t.state,null)}function la(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Rt({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function Ov(e){To(e)}function zv(e){console.error(e)}function Uv(e){To(e)}function No(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Qg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Oh(e,t,n){return n=hi(n),n.tag=3,n.payload={element:null},n.callback=function(){No(e,t)},n}function Lv(e){return e=hi(e),e.tag=3,e}function jv(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var s=i.value;e.payload=function(){return a(s)},e.callback=function(){Qg(t,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Qg(t,n,i),typeof a!="function"&&(di===null?di=new Set([this]):di.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function $A(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Es(t,n,a,!0),n=Le.current,n!==null){switch(n.tag){case 31:case 13:return Ye===null?zo():n.alternate===null&&Vt===0&&(Vt=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===wo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),kc(e,i,a)),!1;case 22:return n.flags|=65536,i===wo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),kc(e,i,a)),!1}throw Error(O(435,n.tag))}return kc(e,i,a),zo(),!1}if(st)return t=Le.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==Th&&(e=Error(O(422),{cause:i}),Or(Ge(e,n)))):(i!==Th&&(t=Error(O(423),{cause:i}),Or(Ge(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=Ge(i,n),a=Oh(e.stateNode,i,a),Cc(e,a),Vt!==4&&(Vt=2)),!1;var s=Error(O(520),{cause:i});if(s=Ge(s,n),Tr===null?Tr=[s]:Tr.push(s),Vt!==4&&(Vt=2),t===null)return!0;i=Ge(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Oh(n.stateNode,i,e),Cc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(di===null||!di.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Lv(a),jv(a,e,n,i),Cc(n,a),!1}n=n.return}while(n!==null);return!1}var ld=Error(O(461)),kt=!1;function Wt(e,t,n,i){t.child=e===null?$_(t,null,n,i):sa(t,e.child,n,i)}function Fg(e,t,n,i,a){n=n.render;var s=t.ref;if("ref"in i){var r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}else r=i;return aa(t),i=Xf(e,t,n,r,s,a),o=Zf(),e!==null&&!kt?(Jf(e,t,a),Un(e,t,a)):(st&&o&&Pf(t),t.flags|=1,Wt(e,t,i,a),t.child)}function Yg(e,t,n,i,a){if(e===null){var s=n.type;return typeof s=="function"&&!kf(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,Bv(e,t,s,i,a)):(e=$l(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!od(e,a)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ir,n(r,i)&&e.ref===t.ref)return Un(e,t,a)}return t.flags|=1,e=xn(s,i),e.ref=t.ref,e.return=t,t.child=e}function Bv(e,t,n,i,a){if(e!==null){var s=e.memoizedProps;if(Ir(s,i)&&e.ref===t.ref)if(kt=!1,t.pendingProps=i=s,od(e,a))e.flags&131072&&(kt=!0);else return t.lanes=e.lanes,Un(e,t,a)}return zh(e,t,n,i,a)}function kv(e,t,n,i){var a=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~s}else i=0,t.child=null;return Kg(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Wl(t,s!==null?s.cachePool:null),s!==null?Ug(t,s):Dh(),ev(t);else return i=t.lanes=536870912,Kg(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Wl(t,s.cachePool),Ug(t,s),ei(),t.memoizedState=null):(e!==null&&Wl(t,null),Dh(),ei());return Wt(e,t,a,n),t.child}function ar(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Kg(e,t,n,i,a){var s=Gf();return s=s===null?null:{parent:Bt._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&Wl(t,null),Dh(),ev(t),e!==null&&Es(e,t,i,!0),t.childLanes=a,null}function no(e,t){return t=Vo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xg(e,t,n){return sa(t,e.child,null,n),e=no(t,t.pendingProps),e.flags|=2,De(t),t.memoizedState=null,e}function WA(e,t,n){var i=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(st){if(i.mode==="hidden")return e=no(t,i),t.lanes=536870912,ar(null,e);if(xh(t),(e=At)?(e=I0(e,Qe),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ai!==null?{id:ln,overflow:on}:null,retryLane:536870912,hydrationErrors:null},n=Q_(e),n.return=t,t.child=n,ne=t,At=null)):e=null,e===null)throw Si(t);return t.lanes=536870912,null}return no(t,i)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if(xh(t),a)if(t.flags&256)t.flags&=-257,t=Xg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(O(558));else if(kt||Es(e,t,n,!1),a=(n&e.childLanes)!==0,kt||a){if(i=yt,i!==null&&(r=y_(i,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,da(e,r),Se(i,e,r),ld;zo(),t=Xg(e,t,n)}else e=s.treeContext,At=Ke(r.nextSibling),ne=t,st=!0,ci=null,Qe=!1,e!==null&&Y_(t,e),t=no(t,i),t.flags|=4096;return t}return e=xn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function io(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(O(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function zh(e,t,n,i,a){return aa(t),n=Xf(e,t,n,i,void 0,a),i=Zf(),e!==null&&!kt?(Jf(e,t,a),Un(e,t,a)):(st&&i&&Pf(t),t.flags|=1,Wt(e,t,n,a),t.child)}function Zg(e,t,n,i,a,s){return aa(t),t.updateQueue=null,n=iv(t,i,n,a),nv(e),i=Zf(),e!==null&&!kt?(Jf(e,t,s),Un(e,t,s)):(st&&i&&Pf(t),t.flags|=1,Wt(e,t,n,s),t.child)}function Jg(e,t,n,i,a){if(aa(t),t.stateNode===null){var s=ja,r=n.contextType;typeof r=="object"&&r!==null&&(s=ae(r)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mh,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Ff(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?ae(r):ja,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(xc(t,n,r,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&Mh.enqueueReplaceState(s,s.state,null),yr(t,i,s,a),pr(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,u=la(n,o);s.props=u;var h=s.context,d=n.contextType;r=ja,typeof d=="object"&&d!==null&&(r=ae(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||h!==r)&&Gg(t,s,i,r),$n=!1;var m=t.memoizedState;s.state=m,yr(t,i,s,a),pr(),h=t.memoizedState,o||m!==h||$n?(typeof g=="function"&&(xc(t,n,g,i),h=t.memoizedState),(u=$n||Hg(t,n,u,i,m,h,r))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=r,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Rh(e,t),r=t.memoizedProps,d=la(n,r),s.props=d,g=t.pendingProps,m=s.context,h=n.contextType,u=ja,typeof h=="object"&&h!==null&&(u=ae(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==g||m!==u)&&Gg(t,s,i,u),$n=!1,m=t.memoizedState,s.state=m,yr(t,i,s,a),pr();var v=t.memoizedState;r!==g||m!==v||$n||e!==null&&e.dependencies!==null&&bo(e.dependencies)?(typeof o=="function"&&(xc(t,n,o,i),v=t.memoizedState),(d=$n||Hg(t,n,d,i,m,v,u)||e!==null&&e.dependencies!==null&&bo(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,v,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=v),s.props=i,s.state=v,s.context=u,i=d):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,io(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=sa(t,e.child,null,a),t.child=sa(t,null,n,a)):Wt(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Un(e,t,a),e}function $g(e,t,n,i){return ia(),t.flags|=256,Wt(e,t,n,i),t.child}var Nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vc(e){return{baseLanes:e,cachePool:X_()}}function Ic(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ne),e}function Pv(e,t,n){var i=t.pendingProps,a=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(Mt.current&2)!==0),r&&(a=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(st){if(a?ti(t):ei(),(e=At)?(e=I0(e,Qe),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ai!==null?{id:ln,overflow:on}:null,retryLane:536870912,hydrationErrors:null},n=Q_(e),n.return=t,t.child=n,ne=t,At=null)):e=null,e===null)throw Si(t);return Xh(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,a?(ei(),a=t.mode,o=Vo({mode:"hidden",children:o},a),i=Ji(i,a,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Vc(n),i.childLanes=Ic(e,r,n),t.memoizedState=Nc,ar(null,i)):(ti(t),Uh(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(s)t.flags&256?(ti(t),t.flags&=-257,t=Mc(e,t,n)):t.memoizedState!==null?(ei(),t.child=e.child,t.flags|=128,t=null):(ei(),o=i.fallback,a=t.mode,i=Vo({mode:"visible",children:i.children},a),o=Ji(o,a,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,sa(t,e.child,null,n),i=t.child,i.memoizedState=Vc(n),i.childLanes=Ic(e,r,n),t.memoizedState=Nc,t=ar(null,i));else if(ti(t),Xh(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;r=h,i=Error(O(419)),i.stack="",i.digest=r,Or({value:i,source:null,stack:null}),t=Mc(e,t,n)}else if(kt||Es(e,t,n,!1),r=(n&e.childLanes)!==0,kt||r){if(r=yt,r!==null&&(i=y_(r,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,da(e,i),Se(r,e,i),ld;Kh(o)||zo(),t=Mc(e,t,n)}else Kh(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,At=Ke(o.nextSibling),ne=t,st=!0,ci=null,Qe=!1,e!==null&&Y_(t,e),t=Uh(t,i.children),t.flags|=4096);return t}return a?(ei(),o=i.fallback,a=t.mode,u=e.child,h=u.sibling,i=xn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=xn(h,o):(o=Ji(o,a,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,ar(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Vc(n):(a=o.cachePool,a!==null?(u=Bt._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=X_(),o={baseLanes:o.baseLanes|n,cachePool:a}),i.memoizedState=o,i.childLanes=Ic(e,r,n),t.memoizedState=Nc,ar(e.child,i)):(ti(t),n=e.child,e=n.sibling,n=xn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Uh(e,t){return t=Vo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vo(e,t){return e=xe(22,e,null,t),e.lanes=0,e}function Mc(e,t,n){return sa(t,e.child,null,n),e=Uh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Sh(e.return,t,n)}function Oc(e,t,n,i,a,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=a,r.treeForkCount=s)}function qv(e,t,n){var i=t.pendingProps,a=i.revealOrder,s=i.tail;i=i.children;var r=Mt.current,o=(r&2)!==0;if(o?(r=r&1|2,t.flags|=128):r&=1,vt(Mt,r),Wt(e,t,i,n),i=st?Mr:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,n,t);else if(e.tag===19)Wg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Co(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Oc(t,!1,a,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Co(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Oc(t,!0,n,null,s,i);break;case"together":Oc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Un(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wi|=t.lanes,!(n&t.childLanes))if(e!==null){if(Es(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function od(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&bo(e)))}function tS(e,t,n){switch(t.tag){case 3:yo(t,t.stateNode.containerInfo),Wn(t,Bt,e.memoizedState.cache),ia();break;case 27:case 5:ch(t);break;case 4:yo(t,t.stateNode.containerInfo);break;case 10:Wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,xh(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ti(t),t.flags|=128,null):n&t.child.childLanes?Pv(e,t,n):(ti(t),e=Un(e,t,n),e!==null?e.sibling:null);ti(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Es(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return qv(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),vt(Mt,Mt.current),i)break;return null;case 22:return t.lanes=0,kv(e,t,n,t.pendingProps);case 24:Wn(t,Bt,e.memoizedState.cache)}return Un(e,t,n)}function Hv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)kt=!0;else{if(!od(e,n)&&!(t.flags&128))return kt=!1,tS(e,t,n);kt=!!(e.flags&131072)}else kt=!1,st&&t.flags&1048576&&F_(t,Mr,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=Fi(t.elementType),t.type=e,typeof e=="function")kf(e)?(i=la(e,i),t.tag=1,t=Jg(null,t,e,i,n)):(t.tag=0,t=zh(null,t,e,i,n));else{if(e!=null){var a=e.$$typeof;if(a===Rf){t.tag=11,t=Fg(null,t,e,i,n);break t}else if(a===Cf){t.tag=14,t=Yg(null,t,e,i,n);break t}}throw t=oh(e)||e,Error(O(306,t,""))}}return t;case 0:return zh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=la(i,t.pendingProps),Jg(e,t,i,a,n);case 3:t:{if(yo(t,t.stateNode.containerInfo),e===null)throw Error(O(387));i=t.pendingProps;var s=t.memoizedState;a=s.element,Rh(e,t),yr(t,i,null,n);var r=t.memoizedState;if(i=r.cache,Wn(t,Bt,i),i!==s.cache&&bh(t,[Bt],n,!0),pr(),i=r.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=$g(e,t,i,n);break t}else if(i!==a){a=Ge(Error(O(424)),t),Or(a),t=$g(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(At=Ke(e.firstChild),ne=t,st=!0,ci=null,Qe=!0,n=$_(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ia(),i===a){t=Un(e,t,n);break t}Wt(e,t,i,n)}t=t.child}return t;case 26:return io(e,t),e===null?(n=vp(t.type,null,t.pendingProps,null))?t.memoizedState=n:st||(n=t.type,e=t.pendingProps,i=Bo(ui.current).createElement(n),i[ee]=t,i[be]=e,se(i,n,e),Jt(i),t.stateNode=i):t.memoizedState=vp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ch(t),e===null&&st&&(i=t.stateNode=M0(t.type,t.pendingProps,ui.current),ne=t,Qe=!0,a=At,Mi(t.type)?(Zh=a,At=Ke(i.firstChild)):At=a),Wt(e,t,t.pendingProps.children,n),io(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&st&&((a=i=At)&&(i=NS(i,t.type,t.pendingProps,Qe),i!==null?(t.stateNode=i,ne=t,At=Ke(i.firstChild),Qe=!1,a=!0):a=!1),a||Si(t)),ch(t),a=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,i=s.children,Fh(a,s)?i=null:r!==null&&Fh(a,r)&&(t.flags|=32),t.memoizedState!==null&&(a=Xf(e,t,QA,null,null,n),kr._currentValue=a),io(e,t),Wt(e,t,i,n),t.child;case 6:return e===null&&st&&((e=n=At)&&(n=VS(n,t.pendingProps,Qe),n!==null?(t.stateNode=n,ne=t,At=null,e=!0):e=!1),e||Si(t)),null;case 13:return Pv(e,t,n);case 4:return yo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=sa(t,null,i,n):Wt(e,t,i,n),t.child;case 11:return Fg(e,t,t.type,t.pendingProps,n);case 7:return Wt(e,t,t.pendingProps,n),t.child;case 8:return Wt(e,t,t.pendingProps.children,n),t.child;case 12:return Wt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Wn(t,t.type,i.value),Wt(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,aa(t),a=ae(a),i=i(a),t.flags|=1,Wt(e,t,i,n),t.child;case 14:return Yg(e,t,t.type,t.pendingProps,n);case 15:return Bv(e,t,t.type,t.pendingProps,n);case 19:return qv(e,t,n);case 31:return WA(e,t,n);case 22:return kv(e,t,n,t.pendingProps);case 24:return aa(t),i=ae(Bt),e===null?(a=Gf(),a===null&&(a=yt,s=Hf(),a.pooledCache=s,s.refCount++,s!==null&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:i,cache:a},Ff(t),Wn(t,Bt,a)):(e.lanes&n&&(Rh(e,t),yr(t,null,null,n),pr()),a=e.memoizedState,s=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Wn(t,Bt,i)):(i=s.cache,Wn(t,Bt,i),i!==a.cache&&bh(t,[Bt],n,!0))),Wt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(O(156,t.tag))}function vn(e){e.flags|=4}function zc(e,t,n,i,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(d0())e.flags|=8192;else throw Wi=wo,Qf}else e.flags&=-16777217}function tp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!U0(t))if(d0())e.flags|=8192;else throw Wi=wo,Qf}function Ll(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?m_():536870912,e.lanes|=t,ss|=t)}function Zs(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function eS(e,t,n){var i=t.pendingProps;switch(qf(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Tt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Nn(Bt),Wa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ta(t)?vn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rc())),Tt(t),null;case 26:var a=t.type,s=t.memoizedState;return e===null?(vn(t),s!==null?(Tt(t),tp(t,s)):(Tt(t),zc(t,a,null,i,n))):s?s!==e.memoizedState?(vn(t),Tt(t),tp(t,s)):(Tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&vn(t),Tt(t),zc(t,a,e,i,n)),null;case 27:if(_o(t),n=ui.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(!i){if(t.stateNode===null)throw Error(O(166));return Tt(t),null}e=cn.current,Ta(t)?xg(t):(e=M0(a,i,n),t.stateNode=e,vn(t))}return Tt(t),null;case 5:if(_o(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(!i){if(t.stateNode===null)throw Error(O(166));return Tt(t),null}if(s=cn.current,Ta(t))xg(t);else{var r=Bo(ui.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?r.createElement(a,{is:i.is}):r.createElement(a)}}s[ee]=t,s[be]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;t:switch(se(s,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&vn(t)}}return Tt(t),zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(O(166));if(e=ui.current,Ta(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=ne,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[ee]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||x0(e.nodeValue,n)),e||Si(t,!0)}else e=Bo(e).createTextNode(i),e[ee]=t,t.stateNode=e}return Tt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ta(t),n!==null){if(e===null){if(!i)throw Error(O(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(557));e[ee]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),e=!1}else n=Rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(De(t),t):(De(t),null);if(t.flags&128)throw Error(O(558))}return Tt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Ta(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(O(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(O(317));a[ee]=t}else ia(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),a=!1}else a=Rc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(De(t),t):(De(t),null)}return De(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ll(t,t.updateQueue),Tt(t),null);case 4:return Wa(),e===null&&gd(t.stateNode.containerInfo),Tt(t),null;case 10:return Nn(t.type),Tt(t),null;case 19:if($t(Mt),i=t.memoizedState,i===null)return Tt(t),null;if(a=(t.flags&128)!==0,s=i.rendering,s===null)if(a)Zs(i,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Co(e),s!==null){for(t.flags|=128,Zs(i,!1),e=s.updateQueue,t.updateQueue=e,Ll(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)G_(n,e),n=n.sibling;return vt(Mt,Mt.current&1|2),st&&bn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Ie()>Mo&&(t.flags|=128,a=!0,Zs(i,!1),t.lanes=4194304)}else{if(!a)if(e=Co(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ll(t,e),Zs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!st)return Tt(t),null}else 2*Ie()-i.renderingStartTime>Mo&&n!==536870912&&(t.flags|=128,a=!0,Zs(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ie(),e.sibling=null,n=Mt.current,vt(Mt,a?n&1|2:n&1),st&&bn(t,i.treeForkCount),e):(Tt(t),null);case 22:case 23:return De(t),Yf(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),n=t.updateQueue,n!==null&&Ll(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&$t($i),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Nn(Bt),Tt(t),null;case 25:return null;case 30:return null}throw Error(O(156,t.tag))}function nS(e,t){switch(qf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nn(Bt),Wa(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _o(t),null;case 31:if(t.memoizedState!==null){if(De(t),t.alternate===null)throw Error(O(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(De(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));ia()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $t(Mt),null;case 4:return Wa(),null;case 10:return Nn(t.type),null;case 22:case 23:return De(t),Yf(),e!==null&&$t($i),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Nn(Bt),null;case 25:return null;default:return null}}function Gv(e,t){switch(qf(t),t.tag){case 3:Nn(Bt),Wa();break;case 26:case 27:case 5:_o(t);break;case 4:Wa();break;case 31:t.memoizedState!==null&&De(t);break;case 13:De(t);break;case 19:$t(Mt);break;case 10:Nn(t.type);break;case 22:case 23:De(t),Yf(),e!==null&&$t($i);break;case 24:Nn(Bt)}}function rl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var s=n.create,r=n.inst;i=s(),r.destroy=i}n=n.next}while(n!==a)}}catch(o){dt(t,t.return,o)}}function bi(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var s=a.next;i=s;do{if((i.tag&e)===e){var r=i.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,a=t;var u=n,h=o;try{h()}catch(d){dt(a,u,d)}}}i=i.next}while(i!==s)}}catch(d){dt(t,t.return,d)}}function Qv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{tv(t,n)}catch(i){dt(e,e.return,i)}}}function Fv(e,t,n){n.props=la(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){dt(e,t,i)}}function vr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){dt(e,t,a)}}function un(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){dt(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){dt(e,t,a)}else n.current=null}function Yv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){dt(e,e.return,a)}}function Uc(e,t,n){try{var i=e.stateNode;bS(i,e.type,n,t),i[be]=t}catch(a){dt(e,e.return,a)}}function Kv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mi(e.type)||e.tag===4}function Lc(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Kv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cn));else if(i!==4&&(i===27&&Mi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Lh(e,t,n),e=e.sibling;e!==null;)Lh(e,t,n),e=e.sibling}function Io(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Mi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Io(e,t,n),e=e.sibling;e!==null;)Io(e,t,n),e=e.sibling}function Xv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);se(t,i,n),t[ee]=e,t[be]=n}catch(s){dt(e,e.return,s)}}var wn=!1,jt=!1,jc=!1,ep=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function iS(e,t){if(e=e.containerInfo,Gh=Ho,e=U_(e),Lf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var r=0,o=-1,u=-1,h=0,d=0,g=e,m=null;e:for(;;){for(var v;g!==n||a!==0&&g.nodeType!==3||(o=r+a),g!==s||i!==0&&g.nodeType!==3||(u=r+i),g.nodeType===3&&(r+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===e)break e;if(m===n&&++h===a&&(o=r),m===s&&++d===i&&(u=r),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qh={focusedElem:e,selectionRange:n},Ho=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){switch(t=Zt,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var D=la(n.type,a);e=i.getSnapshotBeforeUpdate(D,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(M){dt(n,n.return,M)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Yh(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(O(163))}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}}function Zv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Tn(e,n),i&4&&rl(5,n);break;case 1:if(Tn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){dt(n,n.return,r)}else{var a=la(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){dt(n,n.return,r)}}i&64&&Qv(n),i&512&&vr(n,n.return);break;case 3:if(Tn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{tv(e,t)}catch(r){dt(n,n.return,r)}}break;case 27:t===null&&i&4&&Xv(n);case 26:case 5:Tn(e,n),t===null&&i&4&&Yv(n),i&512&&vr(n,n.return);break;case 12:Tn(e,n);break;case 31:Tn(e,n),i&4&&Wv(e,n);break;case 13:Tn(e,n),i&4&&t0(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=fS.bind(null,n),IS(e,n))));break;case 22:if(i=n.memoizedState!==null||wn,!i){t=t!==null&&t.memoizedState!==null||jt,a=wn;var s=jt;wn=i,(jt=t)&&!s?Sn(e,n,(n.subtreeFlags&8772)!==0):Tn(e,n),wn=a,jt=s}break;case 30:break;default:Tn(e,n)}}function Jv(e){var t=e.alternate;t!==null&&(e.alternate=null,Jv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ct=null,ve=!1;function En(e,t,n){for(n=n.child;n!==null;)$v(e,t,n),n=n.sibling}function $v(e,t,n){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(Wr,n)}catch{}switch(n.tag){case 26:jt||un(n,t),En(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:jt||un(n,t);var i=Ct,a=ve;Mi(n.type)&&(Ct=n.stateNode,ve=!1),En(e,t,n),Sr(n.stateNode),Ct=i,ve=a;break;case 5:jt||un(n,t);case 6:if(i=Ct,a=ve,Ct=null,En(e,t,n),Ct=i,ve=a,Ct!==null)if(ve)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(n.stateNode)}catch(s){dt(n,t,s)}else try{Ct.removeChild(n.stateNode)}catch(s){dt(n,t,s)}break;case 18:Ct!==null&&(ve?(e=Ct,mp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),us(e)):mp(Ct,n.stateNode));break;case 4:i=Ct,a=ve,Ct=n.stateNode.containerInfo,ve=!0,En(e,t,n),Ct=i,ve=a;break;case 0:case 11:case 14:case 15:bi(2,n,t),jt||bi(4,n,t),En(e,t,n);break;case 1:jt||(un(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Fv(n,t,i)),En(e,t,n);break;case 21:En(e,t,n);break;case 22:jt=(i=jt)||n.memoizedState!==null,En(e,t,n),jt=i;break;default:En(e,t,n)}}function Wv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{us(e)}catch(n){dt(t,t.return,n)}}}function t0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{us(e)}catch(n){dt(t,t.return,n)}}function aS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ep),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ep),t;default:throw Error(O(435,e.tag))}}function jl(e,t){var n=aS(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var a=dS.bind(null,e,i);i.then(a,a)}})}function ye(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],s=e,r=t,o=r;t:for(;o!==null;){switch(o.tag){case 27:if(Mi(o.type)){Ct=o.stateNode,ve=!1;break t}break;case 5:Ct=o.stateNode,ve=!1;break t;case 3:case 4:Ct=o.stateNode.containerInfo,ve=!0;break t}o=o.return}if(Ct===null)throw Error(O(160));$v(s,r,a),Ct=null,ve=!1,s=a.alternate,s!==null&&(s.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)e0(t,e),t=t.sibling}var We=null;function e0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ye(t,e),_e(e),i&4&&(bi(3,e,e.return),rl(3,e),bi(5,e,e.return));break;case 1:ye(t,e),_e(e),i&512&&(jt||n===null||un(n,n.return)),i&64&&wn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=We;if(ye(t,e),_e(e),i&512&&(jt||n===null||un(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":s=a.getElementsByTagName("title")[0],(!s||s[nl]||s[ee]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),se(s,i,n),s[ee]=e,Jt(s),i=s;break t;case"link":var r=Tp("link","href",a).get(i+(n.href||""));if(r){for(var o=0;o<r.length;o++)if(s=r[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(o,1);break e}}s=a.createElement(i),se(s,i,n),a.head.appendChild(s);break;case"meta":if(r=Tp("meta","content",a).get(i+(n.content||""))){for(o=0;o<r.length;o++)if(s=r[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(o,1);break e}}s=a.createElement(i),se(s,i,n),a.head.appendChild(s);break;default:throw Error(O(468,i))}s[ee]=e,Jt(s),i=s}e.stateNode=i}else Ap(a,e.type,e.stateNode);else e.stateNode=Ep(a,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?Ap(a,e.type,e.stateNode):Ep(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Uc(e,e.memoizedProps,n.memoizedProps)}break;case 27:ye(t,e),_e(e),i&512&&(jt||n===null||un(n,n.return)),n!==null&&i&4&&Uc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ye(t,e),_e(e),i&512&&(jt||n===null||un(n,n.return)),e.flags&32){a=e.stateNode;try{es(a,"")}catch(D){dt(e,e.return,D)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,Uc(e,a,n!==null?n.memoizedProps:a)),i&1024&&(jc=!0);break;case 6:if(ye(t,e),_e(e),i&4){if(e.stateNode===null)throw Error(O(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(D){dt(e,e.return,D)}}break;case 3:if(ro=null,a=We,We=ko(t.containerInfo),ye(t,e),We=a,_e(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{us(t.containerInfo)}catch(D){dt(e,e.return,D)}jc&&(jc=!1,n0(e));break;case 4:i=We,We=ko(e.stateNode.containerInfo),ye(t,e),_e(e),We=i;break;case 12:ye(t,e),_e(e);break;case 31:ye(t,e),_e(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,jl(e,i)));break;case 13:ye(t,e),_e(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Tu=Ie()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,jl(e,i)));break;case 22:a=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=wn,d=jt;if(wn=h||a,jt=d||u,ye(t,e),jt=d,wn=h,_e(e),i&8192)t:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||u||wn||jt||Yi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,a)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(D){dt(u,u.return,D)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(D){dt(u,u.return,D)}}}else if(t.tag===18){if(n===null){u=t;try{var v=u.stateNode;a?gp(v,!0):gp(u.stateNode,!1)}catch(D){dt(u,u.return,D)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,jl(e,n))));break;case 19:ye(t,e),_e(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,jl(e,i)));break;case 30:break;case 21:break;default:ye(t,e),_e(e)}}function _e(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Kv(i)){n=i;break}i=i.return}if(n==null)throw Error(O(160));switch(n.tag){case 27:var a=n.stateNode,s=Lc(e);Io(e,s,a);break;case 5:var r=n.stateNode;n.flags&32&&(es(r,""),n.flags&=-33);var o=Lc(e);Io(e,o,r);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Lc(e);Lh(e,h,u);break;default:throw Error(O(161))}}catch(d){dt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function n0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;n0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zv(e,t.alternate,t),t=t.sibling}function Yi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bi(4,t,t.return),Yi(t);break;case 1:un(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Fv(t,t.return,n),Yi(t);break;case 27:Sr(t.stateNode);case 26:case 5:un(t,t.return),Yi(t);break;case 22:t.memoizedState===null&&Yi(t);break;case 30:Yi(t);break;default:Yi(t)}e=e.sibling}}function Sn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:Sn(a,s,n),rl(4,s);break;case 1:if(Sn(a,s,n),i=s,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){dt(i,i.return,h)}if(i=s,a=i.updateQueue,a!==null){var o=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)W_(u[a],o)}catch(h){dt(i,i.return,h)}}n&&r&64&&Qv(s),vr(s,s.return);break;case 27:Xv(s);case 26:case 5:Sn(a,s,n),n&&i===null&&r&4&&Yv(s),vr(s,s.return);break;case 12:Sn(a,s,n);break;case 31:Sn(a,s,n),n&&r&4&&Wv(a,s);break;case 13:Sn(a,s,n),n&&r&4&&t0(a,s);break;case 22:s.memoizedState===null&&Sn(a,s,n),vr(s,s.return);break;case 30:break;default:Sn(a,s,n)}t=t.sibling}}function ud(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&al(n))}function cd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e))}function Je(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)i0(e,t,n,i),t=t.sibling}function i0(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Je(e,t,n,i),a&2048&&rl(9,t);break;case 1:Je(e,t,n,i);break;case 3:Je(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e)));break;case 12:if(a&2048){Je(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,o=s.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){dt(t,t.return,u)}}else Je(e,t,n,i);break;case 31:Je(e,t,n,i);break;case 13:Je(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?Je(e,t,n,i):Er(e,t):s._visibility&2?Je(e,t,n,i):(s._visibility|=2,ba(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),a&2048&&ud(r,t);break;case 24:Je(e,t,n,i),a&2048&&cd(t.alternate,t);break;default:Je(e,t,n,i)}}function ba(e,t,n,i,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,o=n,u=i,h=r.flags;switch(r.tag){case 0:case 11:case 15:ba(s,r,o,u,a),rl(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?ba(s,r,o,u,a):Er(s,r):(d._visibility|=2,ba(s,r,o,u,a)),a&&h&2048&&ud(r.alternate,r);break;case 24:ba(s,r,o,u,a),a&&h&2048&&cd(r.alternate,r);break;default:ba(s,r,o,u,a)}t=t.sibling}}function Er(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:Er(n,i),a&2048&&ud(i.alternate,i);break;case 24:Er(n,i),a&2048&&cd(i.alternate,i);break;default:Er(n,i)}t=t.sibling}}var sr=8192;function Aa(e,t,n){if(e.subtreeFlags&sr)for(e=e.child;e!==null;)a0(e,t,n),e=e.sibling}function a0(e,t,n){switch(e.tag){case 26:Aa(e,t,n),e.flags&sr&&e.memoizedState!==null&&GS(n,We,e.memoizedState,e.memoizedProps);break;case 5:Aa(e,t,n);break;case 3:case 4:var i=We;We=ko(e.stateNode.containerInfo),Aa(e,t,n),We=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=sr,sr=16777216,Aa(e,t,n),sr=i):Aa(e,t,n));break;default:Aa(e,t,n)}}function s0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Js(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,l0(i,e)}s0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)r0(e),e=e.sibling}function r0(e){switch(e.tag){case 0:case 11:case 15:Js(e),e.flags&2048&&bi(9,e,e.return);break;case 3:Js(e);break;case 12:Js(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ao(e)):Js(e);break;default:Js(e)}}function ao(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,l0(i,e)}s0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:bi(8,t,t.return),ao(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ao(t));break;default:ao(t)}e=e.sibling}}function l0(e,t){for(;Zt!==null;){var n=Zt;switch(n.tag){case 0:case 11:case 15:bi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:al(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Zt=i;else t:for(n=e;Zt!==null;){i=Zt;var a=i.sibling,s=i.return;if(Jv(i),i===n){Zt=null;break t}if(a!==null){a.return=s,Zt=a;break t}Zt=s}}}var sS={getCacheForType:function(e){var t=ae(Bt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ae(Bt).controller.signal}},rS=typeof WeakMap=="function"?WeakMap:Map,ot=0,yt=null,et=null,at=0,ft=0,Ce=null,si=!1,As=!1,hd=!1,Ln=0,Vt=0,wi=0,ta=0,fd=0,Ne=0,ss=0,Tr=null,Ee=null,jh=!1,Tu=0,o0=0,Mo=1/0,Oo=null,di=null,Gt=0,mi=null,rs=null,Vn=0,Bh=0,kh=null,u0=null,Ar=0,Ph=null;function ze(){return ot&2&&at!==0?at&-at:F.T!==null?md():__()}function c0(){if(Ne===0)if(!(at&536870912)||st){var e=Nl;Nl<<=1,!(Nl&3932160)&&(Nl=262144),Ne=e}else Ne=536870912;return e=Le.current,e!==null&&(e.flags|=32),Ne}function Se(e,t,n){(e===yt&&(ft===2||ft===9)||e.cancelPendingCommit!==null)&&(ls(e,0),ri(e,at,Ne,!1)),el(e,n),(!(ot&2)||e!==yt)&&(e===yt&&(!(ot&2)&&(ta|=n),Vt===4&&ri(e,at,Ne,!1)),yn(e))}function h0(e,t,n){if(ot&6)throw Error(O(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||tl(e,t),a=i?uS(e,t):Bc(e,t,!0),s=i;do{if(a===0){As&&!i&&ri(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!lS(n)){a=Bc(e,t,!1),s=!1;continue}if(a===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;t:{var o=e;a=Tr;var u=o.current.memoizedState.isDehydrated;if(u&&(ls(o,r).flags|=256),r=Bc(o,r,!1),r!==2){if(hd&&!u){o.errorRecoveryDisabledLanes|=s,ta|=s,a=4;break t}s=Ee,Ee=a,s!==null&&(Ee===null?Ee=s:Ee.push.apply(Ee,s))}a=r}if(s=!1,a!==2)continue}}if(a===1){ls(e,0),ri(e,t,0,!0);break}t:{switch(i=e,s=a,s){case 0:case 1:throw Error(O(345));case 4:if((t&4194048)!==t)break;case 6:ri(i,t,Ne,!si);break t;case 2:Ee=null;break;case 3:case 5:break;default:throw Error(O(329))}if((t&62914560)===t&&(a=Tu+300-Ie(),10<a)){if(ri(i,t,Ne,!si),cu(i,0,!0)!==0)break t;Vn=t,i.timeoutHandle=V0(np.bind(null,i,n,Ee,Oo,jh,t,Ne,ta,ss,si,s,"Throttled",-0,0),a);break t}np(i,n,Ee,Oo,jh,t,Ne,ta,ss,si,s,null,-0,0)}}break}while(!0);yn(e)}function np(e,t,n,i,a,s,r,o,u,h,d,g,m,v){if(e.timeoutHandle=-1,g=t.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},a0(t,s,g);var D=(s&62914560)===s?Tu-Ie():(s&4194048)===s?o0-Ie():0;if(D=QS(g,D),D!==null){Vn=s,e.cancelPendingCommit=D(ap.bind(null,e,t,s,n,i,a,r,o,u,d,g,null,m,v)),ri(e,s,r,!h);return}}ap(e,t,s,n,i,a,r,o,u)}function lS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],s=a.getSnapshot;a=a.value;try{if(!Ue(s(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ri(e,t,n,i){t&=~fd,t&=~ta,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var s=31-Oe(a),r=1<<s;i[s]=-1,a&=~r}n!==0&&g_(e,n,t)}function Au(){return ot&6?!0:(ll(0),!1)}function dd(){if(et!==null){if(ft===0)var e=et.return;else e=et,Dn=ma=null,$f(e),Fa=null,zr=0,e=et;for(;e!==null;)Gv(e.alternate,e),e=e.return;et=null}}function ls(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,CS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Vn=0,dd(),yt=e,et=n=xn(e.current,null),at=t,ft=0,Ce=null,si=!1,As=tl(e,t),hd=!1,ss=Ne=fd=ta=wi=Vt=0,Ee=Tr=null,jh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-Oe(i),s=1<<a;t|=e[a],i&=~s}return Ln=t,mu(),n}function f0(e,t){J=null,F.H=Lr,t===Ts||t===pu?(t=Og(),ft=3):t===Qf?(t=Og(),ft=4):ft=t===ld?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ce=t,et===null&&(Vt=1,No(e,Ge(t,e.current)))}function d0(){var e=Le.current;return e===null?!0:(at&4194048)===at?Ye===null:(at&62914560)===at||at&536870912?e===Ye:!1}function m0(){var e=F.H;return F.H=Lr,e===null?Lr:e}function g0(){var e=F.A;return F.A=sS,e}function zo(){Vt=4,si||(at&4194048)!==at&&Le.current!==null||(As=!0),!(wi&134217727)&&!(ta&134217727)||yt===null||ri(yt,at,Ne,!1)}function Bc(e,t,n){var i=ot;ot|=2;var a=m0(),s=g0();(yt!==e||at!==t)&&(Oo=null,ls(e,t)),t=!1;var r=Vt;t:do try{if(ft!==0&&et!==null){var o=et,u=Ce;switch(ft){case 8:dd(),r=6;break t;case 3:case 2:case 9:case 6:Le.current===null&&(t=!0);var h=ft;if(ft=0,Ce=null,Pa(e,o,u,h),n&&As){r=0;break t}break;default:h=ft,ft=0,Ce=null,Pa(e,o,u,h)}}oS(),r=Vt;break}catch(d){f0(e,d)}while(!0);return t&&e.shellSuspendCounter++,Dn=ma=null,ot=i,F.H=a,F.A=s,et===null&&(yt=null,at=0,mu()),r}function oS(){for(;et!==null;)p0(et)}function uS(e,t){var n=ot;ot|=2;var i=m0(),a=g0();yt!==e||at!==t?(Oo=null,Mo=Ie()+500,ls(e,t)):As=tl(e,t);t:do try{if(ft!==0&&et!==null){t=et;var s=Ce;e:switch(ft){case 1:ft=0,Ce=null,Pa(e,t,s,1);break;case 2:case 9:if(Mg(s)){ft=0,Ce=null,ip(t);break}t=function(){ft!==2&&ft!==9||yt!==e||(ft=7),yn(e)},s.then(t,t);break t;case 3:ft=7;break t;case 4:ft=5;break t;case 7:Mg(s)?(ft=0,Ce=null,ip(t)):(ft=0,Ce=null,Pa(e,t,s,7));break;case 5:var r=null;switch(et.tag){case 26:r=et.memoizedState;case 5:case 27:var o=et;if(r?U0(r):o.stateNode.complete){ft=0,Ce=null;var u=o.sibling;if(u!==null)et=u;else{var h=o.return;h!==null?(et=h,Su(h)):et=null}break e}}ft=0,Ce=null,Pa(e,t,s,5);break;case 6:ft=0,Ce=null,Pa(e,t,s,6);break;case 8:dd(),Vt=6;break t;default:throw Error(O(462))}}cS();break}catch(d){f0(e,d)}while(!0);return Dn=ma=null,F.H=i,F.A=a,ot=n,et!==null?0:(yt=null,at=0,mu(),Vt)}function cS(){for(;et!==null&&!MT();)p0(et)}function p0(e){var t=Hv(e.alternate,e,Ln);e.memoizedProps=e.pendingProps,t===null?Su(e):et=t}function ip(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zg(n,t,t.pendingProps,t.type,void 0,at);break;case 11:t=Zg(n,t,t.pendingProps,t.type.render,t.ref,at);break;case 5:$f(t);default:Gv(n,t),t=et=G_(t,Ln),t=Hv(n,t,Ln)}e.memoizedProps=e.pendingProps,t===null?Su(e):et=t}function Pa(e,t,n,i){Dn=ma=null,$f(t),Fa=null,zr=0;var a=t.return;try{if($A(e,a,t,n,at)){Vt=1,No(e,Ge(n,e.current)),et=null;return}}catch(s){if(a!==null)throw et=a,s;Vt=1,No(e,Ge(n,e.current)),et=null;return}t.flags&32768?(st||i===1?e=!0:As||at&536870912?e=!1:(si=e=!0,(i===2||i===9||i===3||i===6)&&(i=Le.current,i!==null&&i.tag===13&&(i.flags|=16384))),y0(t,e)):Su(t)}function Su(e){var t=e;do{if(t.flags&32768){y0(t,si);return}e=t.return;var n=eS(t.alternate,t,Ln);if(n!==null){et=n;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);Vt===0&&(Vt=5)}function y0(e,t){do{var n=nS(e.alternate,e);if(n!==null){n.flags&=32767,et=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){et=e;return}et=e=n}while(e!==null);Vt=6,et=null}function ap(e,t,n,i,a,s,r,o,u){e.cancelPendingCommit=null;do bu();while(Gt!==0);if(ot&6)throw Error(O(327));if(t!==null){if(t===e.current)throw Error(O(177));if(s=t.lanes|t.childLanes,s|=jf,HT(e,n,s,r,o,u),e===yt&&(et=yt=null,at=0),rs=t,mi=e,Vn=n,Bh=s,kh=a,u0=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,mS(vo,function(){return A0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=F.T,F.T=null,a=ut.p,ut.p=2,r=ot,ot|=4;try{iS(e,t,n)}finally{ot=r,ut.p=a,F.T=i}}Gt=1,_0(),v0(),E0()}}function _0(){if(Gt===1){Gt=0;var e=mi,t=rs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=F.T,F.T=null;var i=ut.p;ut.p=2;var a=ot;ot|=4;try{e0(t,e);var s=Qh,r=U_(e.containerInfo),o=s.focusedElem,u=s.selectionRange;if(r!==o&&o&&o.ownerDocument&&z_(o.ownerDocument.documentElement,o)){if(u!==null&&Lf(o)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(d,o.value.length);else{var g=o.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var v=m.getSelection(),D=o.textContent.length,M=Math.min(u.start,D),L=u.end===void 0?M:Math.min(u.end,D);!v.extend&&M>L&&(r=L,L=M,M=r);var b=Rg(o,M),T=Rg(o,L);if(b&&T&&(v.rangeCount!==1||v.anchorNode!==b.node||v.anchorOffset!==b.offset||v.focusNode!==T.node||v.focusOffset!==T.offset)){var A=g.createRange();A.setStart(b.node,b.offset),v.removeAllRanges(),M>L?(v.addRange(A),v.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),v.addRange(A))}}}}for(g=[],v=o;v=v.parentNode;)v.nodeType===1&&g.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<g.length;o++){var C=g[o];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Ho=!!Gh,Qh=Gh=null}finally{ot=a,ut.p=i,F.T=n}}e.current=t,Gt=2}}function v0(){if(Gt===2){Gt=0;var e=mi,t=rs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=F.T,F.T=null;var i=ut.p;ut.p=2;var a=ot;ot|=4;try{Zv(e,t.alternate,t)}finally{ot=a,ut.p=i,F.T=n}}Gt=3}}function E0(){if(Gt===4||Gt===3){Gt=0,OT();var e=mi,t=rs,n=Vn,i=u0;t.subtreeFlags&10256||t.flags&10256?Gt=5:(Gt=0,rs=mi=null,T0(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(di=null),Nf(n),t=t.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(Wr,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=F.T,a=ut.p,ut.p=2,F.T=null;try{for(var s=e.onRecoverableError,r=0;r<i.length;r++){var o=i[r];s(o.value,{componentStack:o.stack})}}finally{F.T=t,ut.p=a}}Vn&3&&bu(),yn(e),a=e.pendingLanes,n&261930&&a&42?e===Ph?Ar++:(Ar=0,Ph=e):Ar=0,ll(0)}}function T0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,al(t)))}function bu(){return _0(),v0(),E0(),A0()}function A0(){if(Gt!==5)return!1;var e=mi,t=Bh;Bh=0;var n=Nf(Vn),i=F.T,a=ut.p;try{ut.p=32>n?32:n,F.T=null,n=kh,kh=null;var s=mi,r=Vn;if(Gt=0,rs=mi=null,Vn=0,ot&6)throw Error(O(331));var o=ot;if(ot|=4,r0(s.current),i0(s,s.current,r,n),ot=o,ll(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(Wr,s)}catch{}return!0}finally{ut.p=a,F.T=i,T0(e,t)}}function sp(e,t,n){t=Ge(n,t),t=Oh(e.stateNode,t,2),e=fi(e,t,2),e!==null&&(el(e,2),yn(e))}function dt(e,t,n){if(e.tag===3)sp(e,e,n);else for(;t!==null;){if(t.tag===3){sp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(di===null||!di.has(i))){e=Ge(n,e),n=Lv(2),i=fi(t,n,2),i!==null&&(jv(n,i,t,e),el(i,2),yn(i));break}}t=t.return}}function kc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new rS;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(hd=!0,a.add(n),e=hS.bind(null,e,t,n),t.then(e,e))}function hS(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,yt===e&&(at&n)===n&&(Vt===4||Vt===3&&(at&62914560)===at&&300>Ie()-Tu?!(ot&2)&&ls(e,0):fd|=n,ss===at&&(ss=0)),yn(e)}function S0(e,t){t===0&&(t=m_()),e=da(e,t),e!==null&&(el(e,t),yn(e))}function fS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),S0(e,n)}function dS(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(O(314))}i!==null&&i.delete(t),S0(e,n)}function mS(e,t){return Df(e,t)}var Uo=null,wa=null,qh=!1,Lo=!1,Pc=!1,li=0;function yn(e){e!==wa&&e.next===null&&(wa===null?Uo=wa=e:wa=wa.next=e),Lo=!0,qh||(qh=!0,pS())}function ll(e,t){if(!Pc&&Lo){Pc=!0;do for(var n=!1,i=Uo;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var s=0;else{var r=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-Oe(42|e)+1)-1,s&=a&~(r&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,rp(i,s))}else s=at,s=cu(i,i===yt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||tl(i,s)||(n=!0,rp(i,s));i=i.next}while(n);Pc=!1}}function gS(){b0()}function b0(){Lo=qh=!1;var e=0;li!==0&&RS()&&(e=li);for(var t=Ie(),n=null,i=Uo;i!==null;){var a=i.next,s=w0(i,t);s===0?(i.next=null,n===null?Uo=a:n.next=a,a===null&&(wa=n)):(n=i,(e!==0||s&3)&&(Lo=!0)),i=a}Gt!==0&&Gt!==5||ll(e),li!==0&&(li=0)}function w0(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-Oe(s),o=1<<r,u=a[r];u===-1?(!(o&n)||o&i)&&(a[r]=qT(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}if(t=yt,n=at,n=cu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&gc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||tl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&gc(i),Nf(n)){case 2:case 8:n=f_;break;case 32:n=vo;break;case 268435456:n=d_;break;default:n=vo}return i=R0.bind(null,e),n=Df(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&gc(i),e.callbackPriority=2,e.callbackNode=null,2}function R0(e,t){if(Gt!==0&&Gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var i=at;return i=cu(e,e===yt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(h0(e,i,t),w0(e,Ie()),e.callbackNode!=null&&e.callbackNode===n?R0.bind(null,e):null)}function rp(e,t){if(bu())return null;h0(e,t,!0)}function pS(){DS(function(){ot&6?Df(h_,gS):b0()})}function md(){if(li===0){var e=ns;e===0&&(e=xl,xl<<=1,!(xl&261888)&&(xl=256)),li=e}return li}function lp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xl(""+e)}function op(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function yS(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var s=lp((a[be]||null).action),r=i.submitter;r&&(t=(t=r[be]||null)?lp(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var o=new hu("action","action",null,i,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(li!==0){var u=r?op(a,r):new FormData(a);Ih(n,{pending:!0,data:u,method:a.method,action:s},null,u)}}else typeof s=="function"&&(o.preventDefault(),u=r?op(a,r):new FormData(a),Ih(n,{pending:!0,data:u,method:a.method,action:s},s,u))},currentTarget:a}]})}}for(var qc=0;qc<Eh.length;qc++){var Hc=Eh[qc],_S=Hc.toLowerCase(),vS=Hc[0].toUpperCase()+Hc.slice(1);nn(_S,"on"+vS)}nn(j_,"onAnimationEnd");nn(B_,"onAnimationIteration");nn(k_,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(zA,"onTransitionRun");nn(UA,"onTransitionStart");nn(LA,"onTransitionCancel");nn(P_,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jr));function C0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var r=i.length-1;0<=r;r--){var o=i[r],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==s&&a.isPropagationStopped())break t;s=o,a.currentTarget=h;try{s(a)}catch(d){To(d)}a.currentTarget=null,s=u}else for(r=0;r<i.length;r++){if(o=i[r],u=o.instance,h=o.currentTarget,o=o.listener,u!==s&&a.isPropagationStopped())break t;s=o,a.currentTarget=h;try{s(a)}catch(d){To(d)}a.currentTarget=null,s=u}}}}function tt(e,t){var n=t[fh];n===void 0&&(n=t[fh]=new Set);var i=e+"__bubble";n.has(i)||(D0(t,e,2,!1),n.add(i))}function Gc(e,t,n){var i=0;t&&(i|=4),D0(n,e,i,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[Bl]){e[Bl]=!0,v_.forEach(function(n){n!=="selectionchange"&&(ES.has(n)||Gc(n,!1,e),Gc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,Gc("selectionchange",!1,t))}}function D0(e,t,n,i){switch(P0(t)){case 2:var a=KS;break;case 8:a=XS;break;default:a=vd}n=a.bind(null,t,n,e),a=void 0,!yh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Qc(e,t,n,i,a){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var o=i.stateNode.containerInfo;if(o===a)break;if(r===4)for(r=i.return;r!==null;){var u=r.tag;if((u===3||u===4)&&r.stateNode.containerInfo===a)return;r=r.return}for(;o!==null;){if(r=Ia(o),r===null)return;if(u=r.tag,u===5||u===6||u===26||u===27){i=s=r;continue t}o=o.parentNode}}i=i.return}C_(function(){var h=s,d=Mf(n),g=[];t:{var m=q_.get(e);if(m!==void 0){var v=hu,D=e;switch(e){case"keypress":if(Jl(n)===0)break t;case"keydown":case"keyup":v=dA;break;case"focusin":D="focus",v=Ec;break;case"focusout":D="blur",v=Ec;break;case"beforeblur":case"afterblur":v=Ec;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=eA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=pA;break;case j_:case B_:case k_:v=aA;break;case P_:v=_A;break;case"scroll":case"scrollend":v=WT;break;case"wheel":v=EA;break;case"copy":case"cut":case"paste":v=rA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=_g;break;case"toggle":case"beforetoggle":v=AA}var M=(t&4)!==0,L=!M&&(e==="scroll"||e==="scrollend"),b=M?m!==null?m+"Capture":null:m;M=[];for(var T=h,A;T!==null;){var C=T;if(A=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||A===null||b===null||(C=Nr(T,b),C!=null&&M.push(Br(T,C,A))),L)break;T=T.return}0<M.length&&(m=new v(m,D,null,n,d),g.push({event:m,listeners:M}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==ph&&(D=n.relatedTarget||n.fromElement)&&(Ia(D)||D[_s]))break t;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(D=n.relatedTarget||n.toElement,v=h,D=D?Ia(D):null,D!==null&&(L=$r(D),M=D.tag,D!==L||M!==5&&M!==27&&M!==6)&&(D=null)):(v=null,D=h),v!==D)){if(M=pg,C="onMouseLeave",b="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(M=_g,C="onPointerLeave",b="onPointerEnter",T="pointer"),L=v==null?m:ir(v),A=D==null?m:ir(D),m=new M(C,T+"leave",v,n,d),m.target=L,m.relatedTarget=A,C=null,Ia(d)===h&&(M=new M(b,T+"enter",D,n,d),M.target=A,M.relatedTarget=L,C=M),L=C,v&&D)e:{for(M=TS,b=v,T=D,A=0,C=b;C;C=M(C))A++;C=0;for(var z=T;z;z=M(z))C++;for(;0<A-C;)b=M(b),A--;for(;0<C-A;)T=M(T),C--;for(;A--;){if(b===T||T!==null&&b===T.alternate){M=b;break e}b=M(b),T=M(T)}M=null}else M=null;v!==null&&up(g,m,v,M,!1),D!==null&&L!==null&&up(g,L,D,M,!0)}}t:{if(m=h?ir(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var B=Ag;else if(Tg(m))if(M_)B=IA;else{B=NA;var _=xA}else v=m.nodeName,!v||v.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&If(h.elementType)&&(B=Ag):B=VA;if(B&&(B=B(e,h))){I_(g,B,n,d);break t}_&&_(e,m,h),e==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&gh(m,"number",m.value)}switch(_=h?ir(h):window,e){case"focusin":(Tg(_)||_.contentEditable==="true")&&(za=_,_h=h,dr=null);break;case"focusout":dr=_h=za=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Cg(g,n,d);break;case"selectionchange":if(OA)break;case"keydown":case"keyup":Cg(g,n,d)}var y;if(Uf)t:{switch(e){case"compositionstart":var E="onCompositionStart";break t;case"compositionend":E="onCompositionEnd";break t;case"compositionupdate":E="onCompositionUpdate";break t}E=void 0}else Oa?N_(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(x_&&n.locale!=="ko"&&(Oa||E!=="onCompositionStart"?E==="onCompositionEnd"&&Oa&&(y=D_()):(ai=d,Of="value"in ai?ai.value:ai.textContent,Oa=!0)),_=jo(h,E),0<_.length&&(E=new yg(E,e,null,n,d),g.push({event:E,listeners:_}),y?E.data=y:(y=V_(n),y!==null&&(E.data=y)))),(y=bA?wA(e,n):RA(e,n))&&(E=jo(h,"onBeforeInput"),0<E.length&&(_=new yg("onBeforeInput","beforeinput",null,n,d),g.push({event:_,listeners:E}),_.data=y)),yS(g,e,h,n,d)}C0(g,t)})}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jo(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,s=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||s===null||(a=Nr(e,n),a!=null&&i.unshift(Br(e,a,s)),a=Nr(e,t),a!=null&&i.push(Br(e,a,s))),e.tag===3)return i;e=e.return}return[]}function TS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function up(e,t,n,i,a){for(var s=t._reactName,r=[];n!==null&&n!==i;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||h===null||(u=h,a?(h=Nr(n,s),h!=null&&r.unshift(Br(n,h,u))):a||(h=Nr(n,s),h!=null&&r.push(Br(n,h,u)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var AS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function cp(e){return(typeof e=="string"?e:""+e).replace(AS,`
`).replace(SS,"")}function x0(e,t){return t=cp(t),cp(e)===t}function mt(e,t,n,i,a,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||es(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&es(e,""+i);break;case"className":Il(e,"class",i);break;case"tabIndex":Il(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Il(e,n,i);break;case"style":R_(e,i,s);break;case"data":if(t!=="object"){Il(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Xl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&mt(e,t,"name",a.name,a,null),mt(e,t,"formEncType",a.formEncType,a,null),mt(e,t,"formMethod",a.formMethod,a,null),mt(e,t,"formTarget",a.formTarget,a,null)):(mt(e,t,"encType",a.encType,a,null),mt(e,t,"method",a.method,a,null),mt(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Xl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Cn);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(O(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(O(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Xl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":tt("beforetoggle",e),tt("toggle",e),Kl(e,"popover",i);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Kl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=JT.get(n)||n,Kl(e,n,i))}}function Hh(e,t,n,i,a,s){switch(n){case"style":R_(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(O(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(O(60));e.innerHTML=n}}break;case"children":typeof i=="string"?es(e,i):(typeof i=="number"||typeof i=="bigint")&&es(e,""+i);break;case"onScroll":i!=null&&tt("scroll",e);break;case"onScrollEnd":i!=null&&tt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!E_.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),s=e[be]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,a),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Kl(e,n,i)}}}function se(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",e),tt("load",e);var i=!1,a=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(O(137,t));default:mt(e,t,s,r,n,null)}}a&&mt(e,t,"srcSet",n.srcSet,n,null),i&&mt(e,t,"src",n.src,n,null);return;case"input":tt("invalid",e);var o=s=r=a=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":a=d;break;case"type":r=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(O(137,t));break;default:mt(e,t,i,d,n,null)}}S_(e,s,o,u,h,r,a,!1);return;case"select":tt("invalid",e),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":r=o;break;case"multiple":i=o;default:mt(e,t,a,o,n,null)}t=s,n=r,e.multiple=!!i,t!=null?Ha(e,!!i,t,!1):n!=null&&Ha(e,!!i,n,!0);return;case"textarea":tt("invalid",e),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":a=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(O(91));break;default:mt(e,t,r,o,n,null)}w_(e,i,a,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:mt(e,t,u,i,n,null)}return;case"dialog":tt("beforetoggle",e),tt("toggle",e),tt("cancel",e),tt("close",e);break;case"iframe":case"object":tt("load",e);break;case"video":case"audio":for(i=0;i<jr.length;i++)tt(jr[i],e);break;case"image":tt("error",e),tt("load",e);break;case"details":tt("toggle",e);break;case"embed":case"source":case"link":tt("error",e),tt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(O(137,t));default:mt(e,t,h,i,n,null)}return;default:if(If(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Hh(e,t,d,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&mt(e,t,o,i,n,null))}function bS(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,r=null,o=null,u=null,h=null,d=null;for(v in n){var g=n[v];if(n.hasOwnProperty(v)&&g!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(v)||mt(e,t,v,null,i,g)}}for(var m in i){var v=i[m];if(g=n[m],i.hasOwnProperty(m)&&(v!=null||g!=null))switch(m){case"type":s=v;break;case"name":a=v;break;case"checked":h=v;break;case"defaultChecked":d=v;break;case"value":r=v;break;case"defaultValue":o=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(O(137,t));break;default:v!==g&&mt(e,t,m,v,i,g)}}mh(e,r,o,u,h,d,s,a);return;case"select":v=r=o=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":v=u;default:i.hasOwnProperty(s)||mt(e,t,s,null,i,u)}for(a in i)if(s=i[a],u=n[a],i.hasOwnProperty(a)&&(s!=null||u!=null))switch(a){case"value":m=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:s!==u&&mt(e,t,a,s,i,u)}t=o,n=r,i=v,m!=null?Ha(e,!!n,m,!1):!!i!=!!n&&(t!=null?Ha(e,!!n,t,!0):Ha(e,!!n,n?[]:"",!1));return;case"textarea":v=m=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:mt(e,t,o,null,i,a)}for(r in i)if(a=i[r],s=n[r],i.hasOwnProperty(r)&&(a!=null||s!=null))switch(r){case"value":m=a;break;case"defaultValue":v=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(O(91));break;default:a!==s&&mt(e,t,r,a,i,s)}b_(e,m,v);return;case"option":for(var D in n)if(m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D))switch(D){case"selected":e.selected=!1;break;default:mt(e,t,D,null,i,m)}for(u in i)if(m=i[u],v=n[u],i.hasOwnProperty(u)&&m!==v&&(m!=null||v!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mt(e,t,u,m,i,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var M in n)m=n[M],n.hasOwnProperty(M)&&m!=null&&!i.hasOwnProperty(M)&&mt(e,t,M,null,i,m);for(h in i)if(m=i[h],v=n[h],i.hasOwnProperty(h)&&m!==v&&(m!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(O(137,t));break;default:mt(e,t,h,m,i,v)}return;default:if(If(t)){for(var L in n)m=n[L],n.hasOwnProperty(L)&&m!==void 0&&!i.hasOwnProperty(L)&&Hh(e,t,L,void 0,i,m);for(d in i)m=i[d],v=n[d],!i.hasOwnProperty(d)||m===v||m===void 0&&v===void 0||Hh(e,t,d,m,i,v);return}}for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b)&&mt(e,t,b,null,i,m);for(g in i)m=i[g],v=n[g],!i.hasOwnProperty(g)||m===v||m==null&&v==null||mt(e,t,g,m,i,v)}function hp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],s=a.transferSize,r=a.initiatorType,o=a.duration;if(s&&o&&hp(r)){for(r=0,o=a.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>o)break;var d=u.transferSize,g=u.initiatorType;d&&hp(g)&&(u=u.responseEnd,r+=d*(u<o?1:(o-h)/(u-h)))}if(--i,t+=8*(s+r)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gh=null,Qh=null;function Bo(e){return e.nodeType===9?e:e.ownerDocument}function fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fc=null;function RS(){var e=window.event;return e&&e.type==="popstate"?e===Fc?!1:(Fc=e,!0):(Fc=null,!1)}var V0=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(e){return dp.resolve(null).then(e).catch(xS)}:V0;function xS(e){setTimeout(function(){throw e})}function Mi(e){return e==="head"}function mp(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(a),us(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Sr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Sr(n);for(var s=n.firstChild;s;){var r=s.nextSibling,o=s.nodeName;s[nl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&Sr(e.ownerDocument.body);n=a}while(n);us(t)}function gp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Yh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Yh(n),Vf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function NS(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[nl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=Ke(e.nextSibling),e===null)break}return null}function VS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ke(e.nextSibling),e===null))return null;return e}function I0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ke(e.nextSibling),e===null))return null;return e}function Kh(e){return e.data==="$?"||e.data==="$~"}function Xh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function IS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ke(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Zh=null;function pp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ke(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function M0(e,t,n){switch(t=Bo(n),e){case"html":if(e=t.documentElement,!e)throw Error(O(452));return e;case"head":if(e=t.head,!e)throw Error(O(453));return e;case"body":if(e=t.body,!e)throw Error(O(454));return e;default:throw Error(O(451))}}function Sr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vf(e)}var Xe=new Map,_p=new Set;function ko(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=ut.d;ut.d={f:MS,r:OS,D:zS,C:US,L:LS,m:jS,X:kS,S:BS,M:PS};function MS(){var e=qn.f(),t=Au();return e||t}function OS(e){var t=vs(e);t!==null&&t.tag===5&&t.type==="form"?Rv(t):qn.r(e)}var Ss=typeof document>"u"?null:document;function O0(e,t,n){var i=Ss;if(i&&typeof t=="string"&&t){var a=He(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),_p.has(a)||(_p.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),se(t,"link",e),Jt(t),i.head.appendChild(t)))}}function zS(e){qn.D(e),O0("dns-prefetch",e,null)}function US(e,t){qn.C(e,t),O0("preconnect",e,t)}function LS(e,t,n){qn.L(e,t,n);var i=Ss;if(i&&e&&t){var a='link[rel="preload"][as="'+He(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+He(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+He(n.imageSizes)+'"]')):a+='[href="'+He(e)+'"]';var s=a;switch(t){case"style":s=os(e);break;case"script":s=bs(e)}Xe.has(s)||(e=Rt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Xe.set(s,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(ol(s))||t==="script"&&i.querySelector(ul(s))||(t=i.createElement("link"),se(t,"link",e),Jt(t),i.head.appendChild(t)))}}function jS(e,t){qn.m(e,t);var n=Ss;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+He(i)+'"][href="'+He(e)+'"]',s=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=bs(e)}if(!Xe.has(s)&&(e=Rt({rel:"modulepreload",href:e},t),Xe.set(s,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ul(s)))return}i=n.createElement("link"),se(i,"link",e),Jt(i),n.head.appendChild(i)}}}function BS(e,t,n){qn.S(e,t,n);var i=Ss;if(i&&e){var a=qa(i).hoistableStyles,s=os(e);t=t||"default";var r=a.get(s);if(!r){var o={loading:0,preload:null};if(r=i.querySelector(ol(s)))o.loading=5;else{e=Rt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Xe.get(s))&&pd(e,n);var u=r=i.createElement("link");Jt(u),se(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,so(r,t,i)}r={type:"stylesheet",instance:r,count:1,state:o},a.set(s,r)}}}function kS(e,t){qn.X(e,t);var n=Ss;if(n&&e){var i=qa(n).hoistableScripts,a=bs(e),s=i.get(a);s||(s=n.querySelector(ul(a)),s||(e=Rt({src:e,async:!0},t),(t=Xe.get(a))&&yd(e,t),s=n.createElement("script"),Jt(s),se(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}}function PS(e,t){qn.M(e,t);var n=Ss;if(n&&e){var i=qa(n).hoistableScripts,a=bs(e),s=i.get(a);s||(s=n.querySelector(ul(a)),s||(e=Rt({src:e,async:!0,type:"module"},t),(t=Xe.get(a))&&yd(e,t),s=n.createElement("script"),Jt(s),se(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}}function vp(e,t,n,i){var a=(a=ui.current)?ko(a):null;if(!a)throw Error(O(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=os(n.href),n=qa(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=os(n.href);var s=qa(a).hoistableStyles,r=s.get(e);if(r||(a=a.ownerDocument||a,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=a.querySelector(ol(e)))&&!s._p&&(r.instance=s,r.state.loading=5),Xe.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Xe.set(e,n),s||qS(a,e,n,r.state))),t&&i===null)throw Error(O(528,""));return r}if(t&&i!==null)throw Error(O(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=bs(n),n=qa(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(O(444,e))}}function os(e){return'href="'+He(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function z0(e){return Rt({},e,{"data-precedence":e.precedence,precedence:null})}function qS(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),se(t,"link",n),Jt(t),e.head.appendChild(t))}function bs(e){return'[src="'+He(e)+'"]'}function ul(e){return"script[async]"+e}function Ep(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+He(n.href)+'"]');if(i)return t.instance=i,Jt(i),i;var a=Rt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Jt(i),se(i,"style",a),so(i,n.precedence,e),t.instance=i;case"stylesheet":a=os(n.href);var s=e.querySelector(ol(a));if(s)return t.state.loading|=4,t.instance=s,Jt(s),s;i=z0(n),(a=Xe.get(a))&&pd(i,a),s=(e.ownerDocument||e).createElement("link"),Jt(s);var r=s;return r._p=new Promise(function(o,u){r.onload=o,r.onerror=u}),se(s,"link",i),t.state.loading|=4,so(s,n.precedence,e),t.instance=s;case"script":return s=bs(n.src),(a=e.querySelector(ul(s)))?(t.instance=a,Jt(a),a):(i=n,(a=Xe.get(s))&&(i=Rt({},n),yd(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),Jt(a),se(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(O(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,so(i,n.precedence,e));return t.instance}function so(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,s=a,r=0;r<i.length;r++){var o=i[r];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function pd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ro=null;function Tp(e,t,n){if(ro===null){var i=new Map,a=ro=new Map;a.set(n,i)}else a=ro,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[nl]||s[ee]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var o=i.get(r);o?o.push(s):i.set(r,[s])}}return i}function Ap(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function HS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function U0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function GS(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=os(i.href),s=t.querySelector(ol(a));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Po.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,Jt(s);return}s=t.ownerDocument||t,i=z0(i),(a=Xe.get(a))&&pd(i,a),s=s.createElement("link"),Jt(s);var r=s;r._p=new Promise(function(o,u){r.onload=o,r.onerror=u}),se(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Po.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Yc=0;function QS(e,t){return e.stylesheets&&e.count===0&&lo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&lo(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Yc===0&&(Yc=62500*wS());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&lo(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Yc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function Po(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qo=null;function lo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qo=new Map,t.forEach(FS,e),qo=null,Po.call(e))}function FS(e,t){if(!(t.state.loading&4)){var n=qo.get(e);if(n)var i=n.get(null);else{n=new Map,qo.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var r=a[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}a=t.instance,r=a.getAttribute("data-precedence"),s=n.get(r)||i,s===i&&n.set(null,a),n.set(r,a),this.count++,i=Po.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),s?s.parentNode.insertBefore(a,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var kr={$$typeof:Rn,Provider:null,Consumer:null,_currentValue:Zi,_currentValue2:Zi,_threadCount:0};function YS(e,t,n,i,a,s,r,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.hiddenUpdates=pc(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function L0(e,t,n,i,a,s,r,o,u,h,d,g){return e=new YS(e,t,n,r,u,h,d,g,o),t=1,s===!0&&(t|=24),s=xe(3,null,null,t),e.current=s,s.stateNode=e,t=Hf(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Ff(s),e}function j0(e){return e?(e=ja,e):ja}function B0(e,t,n,i,a,s){a=j0(a),i.context===null?i.context=a:i.pendingContext=a,i=hi(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=fi(e,i,t),n!==null&&(Se(n,e,t),gr(n,e,t))}function Sp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _d(e,t){Sp(e,t),(e=e.alternate)&&Sp(e,t)}function k0(e){if(e.tag===13||e.tag===31){var t=da(e,67108864);t!==null&&Se(t,e,67108864),_d(e,67108864)}}function bp(e){if(e.tag===13||e.tag===31){var t=ze();t=xf(t);var n=da(e,t);n!==null&&Se(n,e,t),_d(e,t)}}var Ho=!0;function KS(e,t,n,i){var a=F.T;F.T=null;var s=ut.p;try{ut.p=2,vd(e,t,n,i)}finally{ut.p=s,F.T=a}}function XS(e,t,n,i){var a=F.T;F.T=null;var s=ut.p;try{ut.p=8,vd(e,t,n,i)}finally{ut.p=s,F.T=a}}function vd(e,t,n,i){if(Ho){var a=Jh(i);if(a===null)Qc(e,t,i,Go,n),wp(e,i);else if(JS(a,e,t,n,i))i.stopPropagation();else if(wp(e,i),t&4&&-1<ZS.indexOf(e)){for(;a!==null;){var s=vs(a);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=Qi(s.pendingLanes);if(r!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var u=1<<31-Oe(r);o.entanglements[1]|=u,r&=~u}yn(s),!(ot&6)&&(Mo=Ie()+500,ll(0))}}break;case 31:case 13:o=da(s,2),o!==null&&Se(o,s,2),Au(),_d(s,2)}if(s=Jh(i),s===null&&Qc(e,t,i,Go,n),s===a)break;a=s}a!==null&&i.stopPropagation()}else Qc(e,t,i,null,n)}}function Jh(e){return e=Mf(e),Ed(e)}var Go=null;function Ed(e){if(Go=null,e=Ia(e),e!==null){var t=$r(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=r_(t),e!==null)return e;e=null}else if(n===31){if(e=l_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Go=e,null}function P0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zT()){case h_:return 2;case f_:return 8;case vo:case UT:return 32;case d_:return 268435456;default:return 32}default:return 32}}var $h=!1,gi=null,pi=null,yi=null,Pr=new Map,qr=new Map,ni=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wp(e,t){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qr.delete(t.pointerId)}}function $s(e,t,n,i,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[a]},t!==null&&(t=vs(t),t!==null&&k0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function JS(e,t,n,i,a){switch(t){case"focusin":return gi=$s(gi,e,t,n,i,a),!0;case"dragenter":return pi=$s(pi,e,t,n,i,a),!0;case"mouseover":return yi=$s(yi,e,t,n,i,a),!0;case"pointerover":var s=a.pointerId;return Pr.set(s,$s(Pr.get(s)||null,e,t,n,i,a)),!0;case"gotpointercapture":return s=a.pointerId,qr.set(s,$s(qr.get(s)||null,e,t,n,i,a)),!0}return!1}function q0(e){var t=Ia(e.target);if(t!==null){var n=$r(t);if(n!==null){if(t=n.tag,t===13){if(t=r_(n),t!==null){e.blockedOn=t,ug(e.priority,function(){bp(n)});return}}else if(t===31){if(t=l_(n),t!==null){e.blockedOn=t,ug(e.priority,function(){bp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jh(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);ph=i,n.target.dispatchEvent(i),ph=null}else return t=vs(n),t!==null&&k0(t),e.blockedOn=n,!1;t.shift()}return!0}function Rp(e,t,n){oo(e)&&n.delete(t)}function $S(){$h=!1,gi!==null&&oo(gi)&&(gi=null),pi!==null&&oo(pi)&&(pi=null),yi!==null&&oo(yi)&&(yi=null),Pr.forEach(Rp),qr.forEach(Rp)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,$h||($h=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,$S)))}var Pl=null;function Cp(e){Pl!==e&&(Pl=e,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,function(){Pl===e&&(Pl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(Ed(i||n)===null)continue;break}var s=vs(n);s!==null&&(e.splice(t,3),t-=3,Ih(s,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function us(e){function t(u){return kl(u,e)}gi!==null&&kl(gi,e),pi!==null&&kl(pi,e),yi!==null&&kl(yi,e),Pr.forEach(t),qr.forEach(t);for(var n=0;n<ni.length;n++){var i=ni[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ni.length&&(n=ni[0],n.blockedOn===null);)q0(n),n.blockedOn===null&&ni.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],s=n[i+1],r=a[be]||null;if(typeof s=="function")r||Cp(n);else if(r){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,r=s[be]||null)o=r.formAction;else if(Ed(a)!==null)continue}else o=r.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),Cp(n)}}}function H0(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return a=r})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Td(e){this._internalRoot=e}wu.prototype.render=Td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));var n=t.current,i=ze();B0(n,i,e,t,null,null)};wu.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;B0(e.current,2,null,e,null,null),Au(),t[_s]=null}};function wu(e){this._internalRoot=e}wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=__();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ni.length&&t!==0&&t<ni[n].priority;n++);ni.splice(n,0,e),n===0&&q0(e)}};var Dp=a_.version;if(Dp!=="19.2.4")throw Error(O(527,Dp,"19.2.4"));ut.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=DT(t),e=e!==null?o_(e):null,e=e===null?null:e.stateNode,e};var WS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Wr=ql.inject(WS),Me=ql}catch{}}ou.createRoot=function(e,t){if(!s_(e))throw Error(O(299));var n=!1,i="",a=Ov,s=zv,r=Uv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=L0(e,1,!1,null,null,n,i,null,a,s,r,H0),e[_s]=t.current,gd(e),new Td(t)};ou.hydrateRoot=function(e,t,n){if(!s_(e))throw Error(O(299));var i=!1,a="",s=Ov,r=zv,o=Uv,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=L0(e,1,!0,t,n??null,i,a,u,s,r,o,H0),t.context=j0(null),n=t.current,i=ze(),i=xf(i),a=hi(i),a.callback=null,fi(n,a,i),n=i,t.current.lanes=n,el(t,n),yn(t),e[_s]=t.current,gd(e),new wu(t)};ou.version="19.2.4";function G0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G0)}catch(e){console.error(e)}}G0(),$y.exports=ou;var tb=$y.exports;function eb({users:e,currentUser:t,onAddUser:n,onSelectUser:i,onUpdateUser:a,onDeleteUser:s}){var g,m,v;const[r,o]=ct.useState(""),[u,h]=ct.useState("#6366f1"),d=D=>{D.preventDefault(),r.trim()&&(n({name:r,color:u}),o(""))};return N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[N.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Active User"}),N.jsxs("div",{className:"flex items-center space-x-3",children:[N.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-inner",style:{backgroundColor:(g=e.find(D=>D.id===t))==null?void 0:g.color},children:(m=e.find(D=>D.id===t))==null?void 0:m.name[0].toUpperCase()}),N.jsxs("div",{children:[N.jsx("div",{className:"font-semibold text-gray-800",children:(v=e.find(D=>D.id===t))==null?void 0:v.name}),N.jsx("div",{className:"text-xs text-gray-400",children:"Ready to book"})]})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Switch User"}),N.jsx(nb,{users:e,currentUser:t,onSelect:i,onUpdateUser:a,onDeleteUser:s})]}),N.jsxs("form",{onSubmit:d,className:"pt-4 border-t border-gray-100",children:[N.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Create Profile"}),N.jsxs("div",{className:"space-y-3",children:[N.jsx("div",{children:N.jsx("input",{type:"text",value:r,onChange:D=>o(D.target.value),placeholder:"Enter name...",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all placeholder-gray-400"})}),N.jsxs("div",{className:"flex space-x-2",children:[N.jsx("input",{type:"color",value:u,onChange:D=>h(D.target.value),className:"h-9 w-12 p-0 border-0 rounded bg-transparent cursor-pointer"}),N.jsx("button",{type:"submit",disabled:!r.trim(),className:"flex-1 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add User"})]})]})]})]})}function nb({users:e,currentUser:t,onSelect:n,onUpdateUser:i,onDeleteUser:a}){const[s,r]=ct.useState(!1),[o,u]=ct.useState(null),[h,d]=ct.useState(null),[g,m]=ct.useState(""),v=ct.useRef(null),D=e.find(A=>A.id===t)||e[0],M=e.filter(A=>A.name.toLowerCase().includes(g.toLowerCase())),L=(A,C)=>{A.preventDefault();const z=A.clientX||A.touches&&A.touches[0].clientX||0,B=A.clientY||A.touches&&A.touches[0].clientY||0;u({x:z,y:B,userId:C})},b=(A,C)=>{const z=A.touches[0],B=setTimeout(()=>{L({preventDefault:()=>{},clientX:z.clientX,clientY:z.clientY},C)},800);d(B)},T=()=>{h&&(clearTimeout(h),d(null))};return ct.useEffect(()=>{s&&v.current&&v.current.focus()},[s]),ct.useEffect(()=>{const A=()=>u(null);return window.addEventListener("click",A),()=>window.removeEventListener("click",A)},[]),N.jsxs("div",{className:"relative",children:[N.jsxs("button",{type:"button",onClick:()=>r(!s),className:"w-full bg-white border border-gray-200 text-gray-700 py-2 px-3 rounded-lg flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:D==null?void 0:D.color}}),N.jsx("span",{className:"text-sm",children:D==null?void 0:D.name})]}),N.jsx("svg",{className:`fill-current h-4 w-4 text-gray-400 transform transition-transform ${s?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:N.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})]}),s&&N.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-100 rounded-lg shadow-xl max-h-60 overflow-hidden flex flex-col",children:[N.jsx("div",{className:"p-2 border-b border-gray-100",children:N.jsx("input",{ref:v,type:"text",placeholder:"Search users...",value:g,onChange:A=>m(A.target.value),className:"w-full px-2 py-1 text-sm bg-gray-50 border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",onClick:A=>A.stopPropagation()})}),N.jsx("div",{className:"overflow-y-auto flex-1",children:M.length>0?M.map(A=>N.jsxs("div",{onClick:()=>{n(A.id),r(!1),m("")},onContextMenu:C=>L(C,A.id),onTouchStart:C=>b(C,A.id),onTouchEnd:T,onTouchMove:T,className:`w-full flex items-center space-x-2 px-4 py-2 text-sm hover:bg-gray-50 text-left cursor-pointer group relative ${t===A.id?"bg-indigo-50 text-indigo-900 font-medium":"text-gray-700"}`,children:[N.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:A.color}}),N.jsx("span",{className:"flex-1",children:A.name}),N.jsx("span",{className:"text-xs text-gray-300 opacity-0 group-hover:opacity-100 hidden md:inline",children:"Right-click edit"})]},A.id)):N.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 text-center italic",children:"No users found"})})]}),s&&N.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>r(!1)}),o&&N.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 shadow-xl rounded-lg py-1 w-32 flex flex-col",style:{top:o.y,left:o.x},onClick:A=>A.stopPropagation(),children:[N.jsx("div",{className:"px-3 py-2 border-b border-gray-100 text-xs text-gray-400 font-bold uppercase tracking-wider",children:"Options"}),N.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer text-sm text-gray-700",children:[N.jsx("span",{className:"flex-1",children:"Color"}),N.jsx("input",{type:"color",className:"w-4 h-4 p-0 border-0 rounded overflow-hidden",onChange:A=>{i(o.userId,A.target.value),u(null)}})]}),N.jsx("button",{className:"text-left px-3 py-2 hover:bg-red-50 text-red-600 text-sm w-full",onClick:()=>{a(o.userId),u(null)},children:"Delete User"})]})]})}function ib({bookings:e,users:t,filterUserIds:n}){const[i,a]=ct.useState(0),s=ct.useMemo(()=>{const d={};Object.entries(e).forEach(([M,L])=>{d[M]=new Set(L)});let g=Object.keys(d);if(n&&n.length>0&&(g=g.filter(M=>{const L=d[M];return n.every(b=>L.has(b))})),g.length===0)return null;let m=0;return g.forEach(M=>{const L=d[M].size;L>m&&(m=L)}),m===0?null:g.filter(M=>d[M].size===m).sort().map(M=>{const[L,b,T]=M.split("-").map(Number),A=new Date(L,b-1,T),C=d[M],z=t.filter(B=>!C.has(B.id));return{dateObj:A,dateStr:M,count:m,missing:z,total:C.size}})},[e,t,n]);if(ct.useEffect(()=>{a(0)},[s]),!s||s.length===0)return N.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No data available for current selection."});const r=s[i],o=r.dateObj.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"}),u=()=>{a(d=>(d-1+s.length)%s.length)},h=()=>{a(d=>(d+1)%s.length)};return N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100 relative",children:[N.jsxs("div",{className:"flex items-center justify-between mb-1",children:[N.jsx("div",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider",children:"Best Date"}),s.length>1&&N.jsxs("div",{className:"text-[10px] font-bold text-indigo-300 bg-white px-2 py-0.5 rounded-full",children:[i+1," / ",s.length]})]}),N.jsxs("div",{className:"flex items-center justify-between",children:[s.length>1&&N.jsx("button",{onClick:u,className:"p-1 hover:bg-white/50 rounded-full text-indigo-400 transition-colors",children:N.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),N.jsxs("div",{className:"text-center flex-1",children:[N.jsx("div",{className:"text-xl font-bold text-indigo-900",children:o}),N.jsxs("div",{className:"text-sm text-indigo-600 font-medium mt-1",children:[r.count," ",r.count===1?"person":"people"," available"]})]}),s.length>1&&N.jsx("button",{onClick:h,className:"p-1 hover:bg-white/50 rounded-full text-indigo-400 transition-colors",children:N.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),r.missing.length>0?N.jsxs("div",{children:[N.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Who's Missing"}),N.jsx("div",{className:"flex flex-wrap gap-2",children:r.missing.map(d=>N.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-red-50 text-red-700 rounded-md text-xs font-medium border border-red-100",children:[N.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:d.color}}),N.jsx("span",{children:d.name})]},d.id))})]}):N.jsxs("div",{className:"flex items-center space-x-2 text-green-600 text-sm font-medium bg-green-50 p-3 rounded-lg border border-green-100",children:[N.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),N.jsx("span",{children:"Everyone is available!"})]})]})}function ab({users:e,selectedUserIds:t,onChange:n}){const[i,a]=ct.useState(!1),s=ct.useRef(null);ct.useEffect(()=>{const o=u=>{s.current&&!s.current.contains(u.target)&&a(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const r=o=>{const u=t.includes(o)?t.filter(h=>h!==o):[...t,o];n(u)};return N.jsxs("div",{className:"relative",ref:s,children:[N.jsxs("button",{onClick:()=>a(!i),className:"w-full bg-white border border-gray-200 text-gray-700 py-2 px-3 rounded-lg flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-indigo-500 text-xs font-medium",children:[N.jsx("div",{className:"flex items-center gap-1 truncate",children:t.length===0?N.jsx("span",{className:"text-gray-400",children:"No filter (Everyone)"}):N.jsx("div",{className:"flex -space-x-1",children:t.map(o=>{const u=e.find(h=>h.id===o);return u?N.jsx("div",{className:"w-4 h-4 rounded-full border border-white",style:{backgroundColor:u.color},title:u.name},o):null})})}),N.jsx("svg",{className:`fill-current h-3 w-3 text-gray-400 transform transition-transform ${i?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:N.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})]}),i&&N.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-100 rounded-lg shadow-xl max-h-60 overflow-auto",children:[N.jsx("div",{className:"px-3 py-2 text-[10px] uppercase font-bold text-gray-400 tracking-wider bg-gray-50 border-b border-gray-50",children:"Require Attendance"}),e.map(o=>{const u=t.includes(o.id);return N.jsxs("div",{onClick:()=>r(o.id),className:`flex items-center justify-between px-3 py-2 cursor-pointer hover:bg-indigo-50 transition-colors ${u?"bg-indigo-50/50":""}`,children:[N.jsxs("div",{className:"flex items-center space-x-2",children:[N.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),N.jsx("span",{className:`text-sm ${u?"font-semibold text-indigo-900":"text-gray-600"}`,children:o.name})]}),u&&N.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},o.id)}),t.length>0&&N.jsx("div",{onClick:()=>{n([]),a(!1)},className:"text-center text-xs text-red-500 py-2 border-t border-gray-100 font-medium cursor-pointer hover:bg-red-50",children:"Clear Filter"})]})]})}function sb({currentDate:e,bookings:t,bookingsMap:n,onDateClick:i,users:a}){const s=ct.useMemo(()=>{const o=e.getFullYear(),u=e.getMonth(),h=new Date(o,u,1),d=new Date(o,u+1,0),g=h.getDay(),m=[];for(let D=0;D<g;D++){const M=new Date(o,u,1-(g-D));m.push({date:M,isCurrentMonth:!1})}for(let D=1;D<=d.getDate();D++){const M=new Date(o,u,D);m.push({date:M,isCurrentMonth:!0})}const v=42-m.length;for(let D=1;D<=v;D++){const M=new Date(o,u+1,D);m.push({date:M,isCurrentMonth:!1})}return m},[e]),r=o=>{const u=new Date;return o.getDate()===u.getDate()&&o.getMonth()===u.getMonth()&&o.getFullYear()===u.getFullYear()};return N.jsxs("div",{className:"h-full flex flex-col",children:[N.jsx("div",{className:"grid grid-cols-7 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(o=>N.jsxs("div",{className:"text-center text-[10px] md:text-xs font-semibold text-gray-400 uppercase tracking-wider py-2",children:[N.jsx("span",{className:"md:hidden",children:o.charAt(0)}),N.jsx("span",{className:"hidden md:block",children:o})]},o))}),N.jsx("div",{className:"flex-1 grid grid-cols-7 gap-2 auto-rows-fr",children:s.map((o,u)=>{const h=o.date.toISOString().split("T")[0],d=n[h]||[];return N.jsxs("div",{onClick:()=>i(h),className:`
                            relative p-0.5 md:p-1 rounded-lg md:rounded-xl border transition-all cursor-pointer flex flex-col items-start justify-start overflow-hidden group
                            ${o.isCurrentMonth?"bg-white border-gray-100":"bg-gray-50 border-transparent text-gray-300"}
                            ${r(o.date)?"ring-2 ring-indigo-500 ring-offset-1 md:ring-offset-2 z-10":"hover:border-indigo-200 hover:shadow-md"}
                        `,children:[N.jsx("span",{className:`text-[10px] md:text-sm font-semibold ml-1 mt-0.5 md:mt-1 ${r(o.date)?"text-indigo-600":"text-gray-700"}`,children:o.date.getDate()}),N.jsx("div",{className:"flex-1 w-full p-1 flex flex-wrap content-start gap-1 overflow-y-auto mt-1 custom-scrollbar",children:d.map(g=>{const m=a.find(v=>v.id===g);return m?N.jsx("div",{className:"h-1.5 w-1.5 md:h-2 md:w-2 rounded-full",style:{backgroundColor:m.color},title:m.name},g):null})})]},u)})})]})}function xp({currentDate:e,bookingsMap:t,onDateClick:n,users:i,daysToShow:a=7}){const s=ct.useMemo(()=>{const o=new Date(e);if(a===7){const h=o.getDay();o.setDate(o.getDate()-h)}const u=[];for(let h=0;h<a;h++){const d=new Date(o);d.setDate(o.getDate()+h),u.push(d)}return u},[e,a]),r=o=>{const u=new Date;return o.getDate()===u.getDate()&&o.getMonth()===u.getMonth()&&o.getFullYear()===u.getFullYear()};return N.jsx("div",{className:"h-full overflow-x-auto",children:N.jsx("div",{className:`h-full grid gap-2 md:gap-4 min-w-[800px] md:min-w-0 ${a===7?"grid-cols-7":"grid-cols-3"}`,children:s.map((o,u)=>{const h=o.toISOString().split("T")[0],d=t[h]||[];return N.jsxs("div",{onClick:()=>n(h),className:`
                            rounded-xl md:rounded-2xl border flex flex-col group transition-all cursor-pointer
                            ${r(o)?"bg-indigo-50/50 border-indigo-200":"bg-white border-gray-100 hover:border-indigo-200 hover:shadow-lg"}
                        `,children:[N.jsxs("div",{className:`p-2 md:p-4 text-center border-b border-gray-50 ${r(o)?"bg-indigo-100/50 text-indigo-700":""} rounded-t-xl md:rounded-t-2xl`,children:[N.jsx("div",{className:"text-[10px] md:text-xs uppercase tracking-wider font-bold opacity-60",children:o.toLocaleDateString("default",{weekday:"short"})}),N.jsx("div",{className:"text-xl md:text-2xl font-black mt-1",children:o.getDate()})]}),N.jsx("div",{className:"flex-1 p-2 md:p-3 space-y-1 md:space-y-2 overflow-y-auto",children:d.length>0?d.map(g=>{const m=i.find(v=>v.id===g);return m?N.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 p-1.5 md:p-2 rounded-lg bg-white shadow-sm border border-gray-100",children:[N.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full flex-shrink-0",style:{backgroundColor:m.color}}),N.jsx("span",{className:"text-[10px] md:text-xs font-semibold text-gray-700 truncate max-w-full",children:m.name})]},g):null}):N.jsx("div",{className:"h-full flex items-center justify-center",children:N.jsx("span",{className:"text-[10px] md:text-xs text-gray-300 font-medium italic group-hover:text-indigo-300 transition-colors",children:"Join"})})})]},u)})})})}function rb({view:e,currentDate:t,bookings:n,bookingsMap:i,onDateClick:a,users:s}){return e==="month"?N.jsx(sb,{currentDate:t,bookingsMap:i,onDateClick:a,users:s}):e==="week"?N.jsx(xp,{currentDate:t,bookingsMap:i,onDateClick:a,users:s,daysToShow:7}):e==="3day"?N.jsx(xp,{currentDate:t,bookingsMap:i,onDateClick:a,users:s,daysToShow:3}):null}const lb=()=>{};var Np={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},ob=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[i++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[n++],r=e[n++],o=e[n++],u=((a&7)<<18|(s&63)<<12|(r&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],r=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(s&63)<<6|r&63)}}return t.join("")},F0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const s=e[a],r=a+1<e.length,o=r?e[a+1]:0,u=a+2<e.length,h=u?e[a+2]:0,d=s>>2,g=(s&3)<<4|o>>4;let m=(o&15)<<2|h>>6,v=h&63;u||(v=64,r||(m=64)),i.push(n[d],n[g],n[m],n[v])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Q0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ob(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const s=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const h=a<e.length?n[e.charAt(a)]:64;++a;const g=a<e.length?n[e.charAt(a)]:64;if(++a,s==null||o==null||h==null||g==null)throw new ub;const m=s<<2|o>>4;if(i.push(m),h!==64){const v=o<<4&240|h>>2;if(i.push(v),g!==64){const D=h<<6&192|g;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cb=function(e){const t=Q0(e);return F0.encodeByteArray(t,!0)},Qo=function(e){return cb(e).replace(/\./g,"")},hb=function(e){try{return F0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=()=>fb().__FIREBASE_DEFAULTS__,mb=()=>{if(typeof process>"u"||typeof Np>"u")return;const e=Np.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gb=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hb(e[1]);return t&&JSON.parse(t)},Ad=()=>{try{return lb()||db()||mb()||gb()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},pb=e=>{var t,n;return(n=(t=Ad())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},yb=e=>{const t=pb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Y0=()=>{var e;return(e=Ad())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vb(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Qo(JSON.stringify(n)),Qo(JSON.stringify(r)),""].join(".")}const br={};function Tb(){const e={prod:[],emulator:[]};for(const t of Object.keys(br))br[t]?e.emulator.push(t):e.prod.push(t);return e}function Ab(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Vp=!1;function Sb(e,t){if(typeof window>"u"||typeof document>"u"||!Sd(window.location.host)||br[e]===t||br[e]||Vp)return;br[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=Tb().prod.length>0;function r(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Vp=!0,r()},m}function d(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=Ab(i),v=n("text"),D=document.getElementById(v)||document.createElement("span"),M=n("learnmore"),L=document.getElementById(M)||document.createElement("a"),b=n("preprendIcon"),T=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;o(A),d(L,M);const C=h();u(T,b),A.append(T,D,L,C),document.body.appendChild(A)}s?(D.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wb(){var t;const e=(t=Ad())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rb(){return!wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cb(){try{return typeof indexedDB=="object"}catch{return!1}}function Db(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;t(((s=a.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="FirebaseError";class ws extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=xb,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,K0.prototype.create)}}class K0{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,s=this.errors[t],r=s?Nb(s,i):"Error",o=`${this.serviceName}: ${r} (${a}).`;return new ws(a,o,i)}}function Nb(e,t){return e.replace(Vb,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const Vb=/\{\$([^}]+)}/g;function Fo(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const s=e[a],r=t[a];if(Ip(s)&&Ip(r)){if(!Fo(s,r))return!1}else if(s!==r)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Ip(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(e){return e&&e._delegate?e._delegate:e}class Hr{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new _b;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ob(t))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});i.resolve(s)}catch{}}}}clearInstance(t=Ki){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ki){return this.instances.has(t)}getOptions(t=Ki){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&r.resolve(a)}return a}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&t(s,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Mb(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ki){return this.component?this.component.multipleInstances?t:Ki:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Mb(e){return e===Ki?void 0:e}function Ob(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Ib(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(lt||(lt={}));const Ub={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},Lb=lt.INFO,jb={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},Bb=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=jb[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class X0{constructor(t){this.name=t,this._logLevel=Lb,this._logHandler=Bb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ub[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...t),this._logHandler(this,lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...t),this._logHandler(this,lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...t),this._logHandler(this,lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...t),this._logHandler(this,lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...t),this._logHandler(this,lt.ERROR,...t)}}const kb=(e,t)=>t.some(n=>e instanceof n);let Mp,Op;function Pb(){return Mp||(Mp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qb(){return Op||(Op=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z0=new WeakMap,Wh=new WeakMap,J0=new WeakMap,Kc=new WeakMap,bd=new WeakMap;function Hb(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",r)},s=()=>{n(_i(e.result)),a()},r=()=>{i(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",r)});return t.then(n=>{n instanceof IDBCursor&&Z0.set(n,e)}).catch(()=>{}),bd.set(t,e),t}function Gb(e){if(Wh.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",r),e.removeEventListener("abort",r)},s=()=>{n(),a()},r=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",r),e.addEventListener("abort",r)});Wh.set(e,t)}let tf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Wh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||J0.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Qb(e){tf=e(tf)}function Fb(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Xc(this),t,...n);return J0.set(i,t.sort?t.sort():[t]),_i(i)}:qb().includes(e)?function(...t){return e.apply(Xc(this),t),_i(Z0.get(this))}:function(...t){return _i(e.apply(Xc(this),t))}}function Yb(e){return typeof e=="function"?Fb(e):(e instanceof IDBTransaction&&Gb(e),kb(e,Pb())?new Proxy(e,tf):e)}function _i(e){if(e instanceof IDBRequest)return Hb(e);if(Kc.has(e))return Kc.get(e);const t=Yb(e);return t!==e&&(Kc.set(e,t),bd.set(t,e)),t}const Xc=e=>bd.get(e);function Kb(e,t,{blocked:n,upgrade:i,blocking:a,terminated:s}={}){const r=indexedDB.open(e,t),o=_i(r);return i&&r.addEventListener("upgradeneeded",u=>{i(_i(r.result),u.oldVersion,u.newVersion,_i(r.transaction),u)}),n&&r.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const Xb=["get","getKey","getAll","getAllKeys","count"],Zb=["put","add","delete","clear"],Zc=new Map;function zp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zc.get(t))return Zc.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=Zb.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Xb.includes(n)))return;const s=async function(r,...o){const u=this.transaction(r,a?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&u.done]))[0]};return Zc.set(t,s),s}Qb(e=>({...e,get:(t,n,i)=>zp(t,n)||e.get(t,n,i),has:(t,n)=>!!zp(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($b(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $b(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ef="@firebase/app",Up="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=new X0("@firebase/app"),Wb="@firebase/app-compat",t2="@firebase/analytics-compat",e2="@firebase/analytics",n2="@firebase/app-check-compat",i2="@firebase/app-check",a2="@firebase/auth",s2="@firebase/auth-compat",r2="@firebase/database",l2="@firebase/data-connect",o2="@firebase/database-compat",u2="@firebase/functions",c2="@firebase/functions-compat",h2="@firebase/installations",f2="@firebase/installations-compat",d2="@firebase/messaging",m2="@firebase/messaging-compat",g2="@firebase/performance",p2="@firebase/performance-compat",y2="@firebase/remote-config",_2="@firebase/remote-config-compat",v2="@firebase/storage",E2="@firebase/storage-compat",T2="@firebase/firestore",A2="@firebase/ai",S2="@firebase/firestore-compat",b2="firebase",w2="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="[DEFAULT]",R2={[ef]:"fire-core",[Wb]:"fire-core-compat",[e2]:"fire-analytics",[t2]:"fire-analytics-compat",[i2]:"fire-app-check",[n2]:"fire-app-check-compat",[a2]:"fire-auth",[s2]:"fire-auth-compat",[r2]:"fire-rtdb",[l2]:"fire-data-connect",[o2]:"fire-rtdb-compat",[u2]:"fire-fn",[c2]:"fire-fn-compat",[h2]:"fire-iid",[f2]:"fire-iid-compat",[d2]:"fire-fcm",[m2]:"fire-fcm-compat",[g2]:"fire-perf",[p2]:"fire-perf-compat",[y2]:"fire-rc",[_2]:"fire-rc-compat",[v2]:"fire-gcs",[E2]:"fire-gcs-compat",[T2]:"fire-fst",[S2]:"fire-fst-compat",[A2]:"fire-vertex","fire-js":"fire-js",[b2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Map,C2=new Map,af=new Map;function Lp(e,t){try{e.container.addComponent(t)}catch(n){Bn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ko(e){const t=e.name;if(af.has(t))return Bn.debug(`There were multiple attempts to register component ${t}.`),!1;af.set(t,e);for(const n of Yo.values())Lp(n,e);for(const n of C2.values())Lp(n,e);return!0}function D2(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function x2(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new K0("app","Firebase",N2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=w2;function $0(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:nf,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw vi.create("bad-app-name",{appName:String(a)});if(n||(n=Y0()),!n)throw vi.create("no-options");const s=Yo.get(a);if(s){if(Fo(n,s.options)&&Fo(i,s.config))return s;throw vi.create("duplicate-app",{appName:a})}const r=new zb(a);for(const u of af.values())r.addComponent(u);const o=new V2(n,i,r);return Yo.set(a,o),o}function M2(e=nf){const t=Yo.get(e);if(!t&&e===nf&&Y0())return $0();if(!t)throw vi.create("no-app",{appName:e});return t}function Xa(e,t,n){let i=R2[e]??e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const r=[`Unable to register library "${i}" with version "${t}":`];a&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&r.push("and"),s&&r.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bn.warn(r.join(" "));return}Ko(new Hr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebase-heartbeat-database",z2=1,Gr="firebase-heartbeat-store";let Jc=null;function W0(){return Jc||(Jc=Kb(O2,z2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Gr)}catch(n){console.warn(n)}}}}).catch(e=>{throw vi.create("idb-open",{originalErrorMessage:e.message})})),Jc}async function U2(e){try{const n=(await W0()).transaction(Gr),i=await n.objectStore(Gr).get(tE(e));return await n.done,i}catch(t){if(t instanceof ws)Bn.warn(t.message);else{const n=vi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bn.warn(n.message)}}}async function jp(e,t){try{const i=(await W0()).transaction(Gr,"readwrite");await i.objectStore(Gr).put(t,tE(e)),await i.done}catch(n){if(n instanceof ws)Bn.warn(n.message);else{const i=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bn.warn(i.message)}}}function tE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=1024,j2=30;class B2{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Bp();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>j2){const r=q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Bn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bp(),{heartbeatsToSend:i,unsentEntries:a}=k2(this._heartbeatsCache.heartbeats),s=Qo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Bn.warn(n),""}}}function Bp(){return new Date().toISOString().substring(0,10)}function k2(e,t=L2){const n=[];let i=e.slice();for(const a of e){const s=n.find(r=>r.agent===a.agent);if(s){if(s.dates.push(a.date),kp(n)>t){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),kp(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class P2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cb()?Db().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return jp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return jp(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function kp(e){return Qo(JSON.stringify({version:2,heartbeats:e})).length}function q2(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(e){Ko(new Hr("platform-logger",t=>new Jb(t),"PRIVATE")),Ko(new Hr("heartbeat",t=>new B2(t),"PRIVATE")),Xa(ef,Up,e),Xa(ef,Up,"esm2020"),Xa("fire-js","")}H2("");var G2="firebase",Q2="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xa(G2,Q2,"app");var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,eE;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,y){function E(){}E.prototype=y.prototype,_.F=y.prototype,_.prototype=new E,_.prototype.constructor=_,_.D=function(w,R,x){for(var S=Array(arguments.length-2),le=2;le<arguments.length;le++)S[le-2]=arguments[le];return y.prototype[R].apply(w,S)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(_,y,E){E||(E=0);const w=Array(16);if(typeof y=="string")for(var R=0;R<16;++R)w[R]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(R=0;R<16;++R)w[R]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=_.g[0],E=_.g[1],R=_.g[2];let x=_.g[3],S;S=y+(x^E&(R^x))+w[0]+3614090360&4294967295,y=E+(S<<7&4294967295|S>>>25),S=x+(R^y&(E^R))+w[1]+3905402710&4294967295,x=y+(S<<12&4294967295|S>>>20),S=R+(E^x&(y^E))+w[2]+606105819&4294967295,R=x+(S<<17&4294967295|S>>>15),S=E+(y^R&(x^y))+w[3]+3250441966&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(x^E&(R^x))+w[4]+4118548399&4294967295,y=E+(S<<7&4294967295|S>>>25),S=x+(R^y&(E^R))+w[5]+1200080426&4294967295,x=y+(S<<12&4294967295|S>>>20),S=R+(E^x&(y^E))+w[6]+2821735955&4294967295,R=x+(S<<17&4294967295|S>>>15),S=E+(y^R&(x^y))+w[7]+4249261313&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(x^E&(R^x))+w[8]+1770035416&4294967295,y=E+(S<<7&4294967295|S>>>25),S=x+(R^y&(E^R))+w[9]+2336552879&4294967295,x=y+(S<<12&4294967295|S>>>20),S=R+(E^x&(y^E))+w[10]+4294925233&4294967295,R=x+(S<<17&4294967295|S>>>15),S=E+(y^R&(x^y))+w[11]+2304563134&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(x^E&(R^x))+w[12]+1804603682&4294967295,y=E+(S<<7&4294967295|S>>>25),S=x+(R^y&(E^R))+w[13]+4254626195&4294967295,x=y+(S<<12&4294967295|S>>>20),S=R+(E^x&(y^E))+w[14]+2792965006&4294967295,R=x+(S<<17&4294967295|S>>>15),S=E+(y^R&(x^y))+w[15]+1236535329&4294967295,E=R+(S<<22&4294967295|S>>>10),S=y+(R^x&(E^R))+w[1]+4129170786&4294967295,y=E+(S<<5&4294967295|S>>>27),S=x+(E^R&(y^E))+w[6]+3225465664&4294967295,x=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(x^y))+w[11]+643717713&4294967295,R=x+(S<<14&4294967295|S>>>18),S=E+(x^y&(R^x))+w[0]+3921069994&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^x&(E^R))+w[5]+3593408605&4294967295,y=E+(S<<5&4294967295|S>>>27),S=x+(E^R&(y^E))+w[10]+38016083&4294967295,x=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(x^y))+w[15]+3634488961&4294967295,R=x+(S<<14&4294967295|S>>>18),S=E+(x^y&(R^x))+w[4]+3889429448&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^x&(E^R))+w[9]+568446438&4294967295,y=E+(S<<5&4294967295|S>>>27),S=x+(E^R&(y^E))+w[14]+3275163606&4294967295,x=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(x^y))+w[3]+4107603335&4294967295,R=x+(S<<14&4294967295|S>>>18),S=E+(x^y&(R^x))+w[8]+1163531501&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(R^x&(E^R))+w[13]+2850285829&4294967295,y=E+(S<<5&4294967295|S>>>27),S=x+(E^R&(y^E))+w[2]+4243563512&4294967295,x=y+(S<<9&4294967295|S>>>23),S=R+(y^E&(x^y))+w[7]+1735328473&4294967295,R=x+(S<<14&4294967295|S>>>18),S=E+(x^y&(R^x))+w[12]+2368359562&4294967295,E=R+(S<<20&4294967295|S>>>12),S=y+(E^R^x)+w[5]+4294588738&4294967295,y=E+(S<<4&4294967295|S>>>28),S=x+(y^E^R)+w[8]+2272392833&4294967295,x=y+(S<<11&4294967295|S>>>21),S=R+(x^y^E)+w[11]+1839030562&4294967295,R=x+(S<<16&4294967295|S>>>16),S=E+(R^x^y)+w[14]+4259657740&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^x)+w[1]+2763975236&4294967295,y=E+(S<<4&4294967295|S>>>28),S=x+(y^E^R)+w[4]+1272893353&4294967295,x=y+(S<<11&4294967295|S>>>21),S=R+(x^y^E)+w[7]+4139469664&4294967295,R=x+(S<<16&4294967295|S>>>16),S=E+(R^x^y)+w[10]+3200236656&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^x)+w[13]+681279174&4294967295,y=E+(S<<4&4294967295|S>>>28),S=x+(y^E^R)+w[0]+3936430074&4294967295,x=y+(S<<11&4294967295|S>>>21),S=R+(x^y^E)+w[3]+3572445317&4294967295,R=x+(S<<16&4294967295|S>>>16),S=E+(R^x^y)+w[6]+76029189&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(E^R^x)+w[9]+3654602809&4294967295,y=E+(S<<4&4294967295|S>>>28),S=x+(y^E^R)+w[12]+3873151461&4294967295,x=y+(S<<11&4294967295|S>>>21),S=R+(x^y^E)+w[15]+530742520&4294967295,R=x+(S<<16&4294967295|S>>>16),S=E+(R^x^y)+w[2]+3299628645&4294967295,E=R+(S<<23&4294967295|S>>>9),S=y+(R^(E|~x))+w[0]+4096336452&4294967295,y=E+(S<<6&4294967295|S>>>26),S=x+(E^(y|~R))+w[7]+1126891415&4294967295,x=y+(S<<10&4294967295|S>>>22),S=R+(y^(x|~E))+w[14]+2878612391&4294967295,R=x+(S<<15&4294967295|S>>>17),S=E+(x^(R|~y))+w[5]+4237533241&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~x))+w[12]+1700485571&4294967295,y=E+(S<<6&4294967295|S>>>26),S=x+(E^(y|~R))+w[3]+2399980690&4294967295,x=y+(S<<10&4294967295|S>>>22),S=R+(y^(x|~E))+w[10]+4293915773&4294967295,R=x+(S<<15&4294967295|S>>>17),S=E+(x^(R|~y))+w[1]+2240044497&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~x))+w[8]+1873313359&4294967295,y=E+(S<<6&4294967295|S>>>26),S=x+(E^(y|~R))+w[15]+4264355552&4294967295,x=y+(S<<10&4294967295|S>>>22),S=R+(y^(x|~E))+w[6]+2734768916&4294967295,R=x+(S<<15&4294967295|S>>>17),S=E+(x^(R|~y))+w[13]+1309151649&4294967295,E=R+(S<<21&4294967295|S>>>11),S=y+(R^(E|~x))+w[4]+4149444226&4294967295,y=E+(S<<6&4294967295|S>>>26),S=x+(E^(y|~R))+w[11]+3174756917&4294967295,x=y+(S<<10&4294967295|S>>>22),S=R+(y^(x|~E))+w[2]+718787259&4294967295,R=x+(S<<15&4294967295|S>>>17),S=E+(x^(R|~y))+w[9]+3951481745&4294967295,_.g[0]=_.g[0]+y&4294967295,_.g[1]=_.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,_.g[2]=_.g[2]+R&4294967295,_.g[3]=_.g[3]+x&4294967295}i.prototype.v=function(_,y){y===void 0&&(y=_.length);const E=y-this.blockSize,w=this.C;let R=this.h,x=0;for(;x<y;){if(R==0)for(;x<=E;)a(this,_,x),x+=this.blockSize;if(typeof _=="string"){for(;x<y;)if(w[R++]=_.charCodeAt(x++),R==this.blockSize){a(this,w),R=0;break}}else for(;x<y;)if(w[R++]=_[x++],R==this.blockSize){a(this,w),R=0;break}}this.h=R,this.o+=y},i.prototype.A=function(){var _=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);_[0]=128;for(var y=1;y<_.length-8;++y)_[y]=0;y=this.o*8;for(var E=_.length-8;E<_.length;++E)_[E]=y&255,y/=256;for(this.v(_),_=Array(16),y=0,E=0;E<4;++E)for(let w=0;w<32;w+=8)_[y++]=this.g[E]>>>w&255;return _};function s(_,y){var E=o;return Object.prototype.hasOwnProperty.call(E,_)?E[_]:E[_]=y(_)}function r(_,y){this.h=y;const E=[];let w=!0;for(let R=_.length-1;R>=0;R--){const x=_[R]|0;w&&x==y||(E[R]=x,w=!1)}this.g=E}var o={};function u(_){return-128<=_&&_<128?s(_,function(y){return new r([y|0],y<0?-1:0)}):new r([_|0],_<0?-1:0)}function h(_){if(isNaN(_)||!isFinite(_))return g;if(_<0)return L(h(-_));const y=[];let E=1;for(let w=0;_>=E;w++)y[w]=_/E|0,E*=4294967296;return new r(y,0)}function d(_,y){if(_.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(_.charAt(0)=="-")return L(d(_.substring(1),y));if(_.indexOf("-")>=0)throw Error('number format error: interior "-" character');const E=h(Math.pow(y,8));let w=g;for(let x=0;x<_.length;x+=8){var R=Math.min(8,_.length-x);const S=parseInt(_.substring(x,x+R),y);R<8?(R=h(Math.pow(y,R)),w=w.j(R).add(h(S))):(w=w.j(E),w=w.add(h(S)))}return w}var g=u(0),m=u(1),v=u(16777216);e=r.prototype,e.m=function(){if(M(this))return-L(this).m();let _=0,y=1;for(let E=0;E<this.g.length;E++){const w=this.i(E);_+=(w>=0?w:4294967296+w)*y,y*=4294967296}return _},e.toString=function(_){if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(D(this))return"0";if(M(this))return"-"+L(this).toString(_);const y=h(Math.pow(_,6));var E=this;let w="";for(;;){const R=C(E,y).g;E=b(E,R.j(y));let x=((E.g.length>0?E.g[0]:E.h)>>>0).toString(_);if(E=R,D(E))return x+w;for(;x.length<6;)x="0"+x;w=x+w}},e.i=function(_){return _<0?0:_<this.g.length?this.g[_]:this.h};function D(_){if(_.h!=0)return!1;for(let y=0;y<_.g.length;y++)if(_.g[y]!=0)return!1;return!0}function M(_){return _.h==-1}e.l=function(_){return _=b(this,_),M(_)?-1:D(_)?0:1};function L(_){const y=_.g.length,E=[];for(let w=0;w<y;w++)E[w]=~_.g[w];return new r(E,~_.h).add(m)}e.abs=function(){return M(this)?L(this):this},e.add=function(_){const y=Math.max(this.g.length,_.g.length),E=[];let w=0;for(let R=0;R<=y;R++){let x=w+(this.i(R)&65535)+(_.i(R)&65535),S=(x>>>16)+(this.i(R)>>>16)+(_.i(R)>>>16);w=S>>>16,x&=65535,S&=65535,E[R]=S<<16|x}return new r(E,E[E.length-1]&-2147483648?-1:0)};function b(_,y){return _.add(L(y))}e.j=function(_){if(D(this)||D(_))return g;if(M(this))return M(_)?L(this).j(L(_)):L(L(this).j(_));if(M(_))return L(this.j(L(_)));if(this.l(v)<0&&_.l(v)<0)return h(this.m()*_.m());const y=this.g.length+_.g.length,E=[];for(var w=0;w<2*y;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(let R=0;R<_.g.length;R++){const x=this.i(w)>>>16,S=this.i(w)&65535,le=_.i(R)>>>16,Ze=_.i(R)&65535;E[2*w+2*R]+=S*Ze,T(E,2*w+2*R),E[2*w+2*R+1]+=x*Ze,T(E,2*w+2*R+1),E[2*w+2*R+1]+=S*le,T(E,2*w+2*R+1),E[2*w+2*R+2]+=x*le,T(E,2*w+2*R+2)}for(_=0;_<y;_++)E[_]=E[2*_+1]<<16|E[2*_];for(_=y;_<2*y;_++)E[_]=0;return new r(E,0)};function T(_,y){for(;(_[y]&65535)!=_[y];)_[y+1]+=_[y]>>>16,_[y]&=65535,y++}function A(_,y){this.g=_,this.h=y}function C(_,y){if(D(y))throw Error("division by zero");if(D(_))return new A(g,g);if(M(_))return y=C(L(_),y),new A(L(y.g),L(y.h));if(M(y))return y=C(_,L(y)),new A(L(y.g),y.h);if(_.g.length>30){if(M(_)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var E=m,w=y;w.l(_)<=0;)E=z(E),w=z(w);var R=B(E,1),x=B(w,1);for(w=B(w,2),E=B(E,2);!D(w);){var S=x.add(w);S.l(_)<=0&&(R=R.add(E),x=S),w=B(w,1),E=B(E,1)}return y=b(_,R.j(y)),new A(R,y)}for(R=g;_.l(y)>=0;){for(E=Math.max(1,Math.floor(_.m()/y.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),x=h(E),S=x.j(y);M(S)||S.l(_)>0;)E-=w,x=h(E),S=x.j(y);D(x)&&(x=m),R=R.add(x),_=b(_,S)}return new A(R,_)}e.B=function(_){return C(this,_).h},e.and=function(_){const y=Math.max(this.g.length,_.g.length),E=[];for(let w=0;w<y;w++)E[w]=this.i(w)&_.i(w);return new r(E,this.h&_.h)},e.or=function(_){const y=Math.max(this.g.length,_.g.length),E=[];for(let w=0;w<y;w++)E[w]=this.i(w)|_.i(w);return new r(E,this.h|_.h)},e.xor=function(_){const y=Math.max(this.g.length,_.g.length),E=[];for(let w=0;w<y;w++)E[w]=this.i(w)^_.i(w);return new r(E,this.h^_.h)};function z(_){const y=_.g.length+1,E=[];for(let w=0;w<y;w++)E[w]=_.i(w)<<1|_.i(w-1)>>>31;return new r(E,_.h)}function B(_,y){const E=y>>5;y%=32;const w=_.g.length-E,R=[];for(let x=0;x<w;x++)R[x]=y>0?_.i(x+E)>>>y|_.i(x+E+1)<<32-y:_.i(x+E);return new r(R,_.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,eE=i,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=h,r.fromString=d,Ei=r}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,rr,iE,uo,sf,aE,sE,rE;(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hl=="object"&&Hl];for(var c=0;c<l.length;++c){var f=l[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function a(l,c){if(c)t:{var f=i;l=l.split(".");for(var p=0;p<l.length-1;p++){var V=l[p];if(!(V in f))break t;f=f[V]}l=l[l.length-1],p=f[l],c=c(p),c!=p&&c!=null&&t(f,l,{configurable:!0,writable:!0,value:c})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(c){var f=[],p;for(p in c)Object.prototype.hasOwnProperty.call(c,p)&&f.push([p,c[p]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},r=this||self;function o(l){var c=typeof l;return c=="object"&&l!=null||c=="function"}function u(l,c,f){return l.call.apply(l.bind,arguments)}function h(l,c,f){return h=u,h.apply(null,arguments)}function d(l,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),l.apply(this,p)}}function g(l,c){function f(){}f.prototype=c.prototype,l.Z=c.prototype,l.prototype=new f,l.prototype.constructor=l,l.Ob=function(p,V,I){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return c.prototype[V].apply(p,k)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function v(l){const c=l.length;if(c>0){const f=Array(c);for(let p=0;p<c;p++)f[p]=l[p];return f}return[]}function D(l,c){for(let p=1;p<arguments.length;p++){const V=arguments[p];var f=typeof V;if(f=f!="object"?f:V?Array.isArray(V)?"array":f:"null",f=="array"||f=="object"&&typeof V.length=="number"){f=l.length||0;const I=V.length||0;l.length=f+I;for(let k=0;k<I;k++)l[f+k]=V[k]}else l.push(V)}}class M{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function L(l){r.setTimeout(()=>{throw l},0)}function b(){var l=_;let c=null;return l.g&&(c=l.g,l.g=l.g.next,l.g||(l.h=null),c.next=null),c}class T{constructor(){this.h=this.g=null}add(c,f){const p=A.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var A=new M(()=>new C,l=>l.reset());class C{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let z,B=!1,_=new T,y=()=>{const l=Promise.resolve(void 0);z=()=>{l.then(E)}};function E(){for(var l;l=b();){try{l.h.call(l.g)}catch(f){L(f)}var c=A;c.j(l),c.h<100&&(c.h++,l.next=c.g,c.g=l)}B=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(l,c){this.type=l,this.g=this.target=c,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var x=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var l=!1,c=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};r.addEventListener("test",f,c),r.removeEventListener("test",f,c)}catch{}return l}();function S(l){return/^[\s\xa0]*$/.test(l)}function le(l,c){R.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,c)}g(le,R),le.prototype.init=function(l,c){const f=this.type=l.type,p=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=c,c=l.relatedTarget,c||(f=="mouseover"?c=l.fromElement:f=="mouseout"&&(c=l.toElement)),this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),P=0;function W(l,c,f,p,V){this.listener=l,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=V,this.key=++P,this.da=this.fa=!1}function X(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function _t(l,c,f){for(const p in l)c.call(f,l[p],p,l)}function zt(l,c){for(const f in l)c.call(void 0,l[f],f,l)}function Ui(l){const c={};for(const f in l)c[f]=l[f];return c}const Li="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ya(l,c){let f,p;for(let V=1;V<arguments.length;V++){p=arguments[V];for(f in p)l[f]=p[f];for(let I=0;I<Li.length;I++)f=Li[I],Object.prototype.hasOwnProperty.call(p,f)&&(l[f]=p[f])}}function je(l){this.src=l,this.g={},this.h=0}je.prototype.add=function(l,c,f,p,V){const I=l.toString();l=this.g[I],l||(l=this.g[I]=[],this.h++);const k=qu(l,c,p,V);return k>-1?(c=l[k],f||(c.fa=!1)):(c=new W(c,this.src,I,!!p,V),c.fa=f,l.push(c)),c};function Hn(l,c){const f=c.type;if(f in l.g){var p=l.g[f],V=Array.prototype.indexOf.call(p,c,void 0),I;(I=V>=0)&&Array.prototype.splice.call(p,V,1),I&&(X(c),l.g[f].length==0&&(delete l.g[f],l.h--))}}function qu(l,c,f,p){for(let V=0;V<l.length;++V){const I=l[V];if(!I.da&&I.listener==c&&I.capture==!!f&&I.ha==p)return V}return-1}var Hu="closure_lm_"+(Math.random()*1e6|0),Gu={};function im(l,c,f,p,V){if(Array.isArray(c)){for(let I=0;I<c.length;I++)im(l,c[I],f,p,V);return null}return f=rm(f),l&&l[Ze]?l.J(c,f,o(p)?!!p.capture:!1,V):x1(l,c,f,!1,p,V)}function x1(l,c,f,p,V,I){if(!c)throw Error("Invalid event type");const k=o(V)?!!V.capture:!!V;let $=Fu(l);if($||(l[Hu]=$=new je(l)),f=$.add(c,f,p,k,I),f.proxy)return f;if(p=N1(),f.proxy=p,p.src=l,p.listener=f,l.addEventListener)x||(V=k),V===void 0&&(V=!1),l.addEventListener(c.toString(),p,V);else if(l.attachEvent)l.attachEvent(sm(c.toString()),p);else if(l.addListener&&l.removeListener)l.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function N1(){function l(f){return c.call(l.src,l.listener,f)}const c=V1;return l}function am(l,c,f,p,V){if(Array.isArray(c))for(var I=0;I<c.length;I++)am(l,c[I],f,p,V);else p=o(p)?!!p.capture:!!p,f=rm(f),l&&l[Ze]?(l=l.i,I=String(c).toString(),I in l.g&&(c=l.g[I],f=qu(c,f,p,V),f>-1&&(X(c[f]),Array.prototype.splice.call(c,f,1),c.length==0&&(delete l.g[I],l.h--)))):l&&(l=Fu(l))&&(c=l.g[c.toString()],l=-1,c&&(l=qu(c,f,p,V)),(f=l>-1?c[l]:null)&&Qu(f))}function Qu(l){if(typeof l!="number"&&l&&!l.da){var c=l.src;if(c&&c[Ze])Hn(c.i,l);else{var f=l.type,p=l.proxy;c.removeEventListener?c.removeEventListener(f,p,l.capture):c.detachEvent?c.detachEvent(sm(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=Fu(c))?(Hn(f,l),f.h==0&&(f.src=null,c[Hu]=null)):X(l)}}}function sm(l){return l in Gu?Gu[l]:Gu[l]="on"+l}function V1(l,c){if(l.da)l=!0;else{c=new le(c,this);const f=l.listener,p=l.ha||l.src;l.fa&&Qu(l),l=f.call(p,c)}return l}function Fu(l){return l=l[Hu],l instanceof je?l:null}var Yu="__closure_events_fn_"+(Math.random()*1e9>>>0);function rm(l){return typeof l=="function"?l:(l[Yu]||(l[Yu]=function(c){return l.handleEvent(c)}),l[Yu])}function oe(){w.call(this),this.i=new je(this),this.M=this,this.G=null}g(oe,w),oe.prototype[Ze]=!0,oe.prototype.removeEventListener=function(l,c,f,p){am(this,l,c,f,p)};function fe(l,c){var f,p=l.G;if(p)for(f=[];p;p=p.G)f.push(p);if(l=l.M,p=c.type||c,typeof c=="string")c=new R(c,l);else if(c instanceof R)c.target=c.target||l;else{var V=c;c=new R(p,l),ya(c,V)}V=!0;let I,k;if(f)for(k=f.length-1;k>=0;k--)I=c.g=f[k],V=gl(I,p,!0,c)&&V;if(I=c.g=l,V=gl(I,p,!0,c)&&V,V=gl(I,p,!1,c)&&V,f)for(k=0;k<f.length;k++)I=c.g=f[k],V=gl(I,p,!1,c)&&V}oe.prototype.N=function(){if(oe.Z.N.call(this),this.i){var l=this.i;for(const c in l.g){const f=l.g[c];for(let p=0;p<f.length;p++)X(f[p]);delete l.g[c],l.h--}}this.G=null},oe.prototype.J=function(l,c,f,p){return this.i.add(String(l),c,!1,f,p)},oe.prototype.K=function(l,c,f,p){return this.i.add(String(l),c,!0,f,p)};function gl(l,c,f,p){if(c=l.i.g[String(c)],!c)return!0;c=c.concat();let V=!0;for(let I=0;I<c.length;++I){const k=c[I];if(k&&!k.da&&k.capture==f){const $=k.listener,Ht=k.ha||k.src;k.fa&&Hn(l.i,k),V=$.call(Ht,p)!==!1&&V}}return V&&!p.defaultPrevented}function I1(l,c){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:r.setTimeout(l,c||0)}function lm(l){l.g=I1(()=>{l.g=null,l.i&&(l.i=!1,lm(l))},l.l);const c=l.h;l.h=null,l.m.apply(null,c)}class M1 extends w{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:lm(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(l){w.call(this),this.h=l,this.g={}}g(Ns,w);var om=[];function um(l){_t(l.g,function(c,f){this.g.hasOwnProperty(f)&&Qu(c)},l),l.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),um(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ku=r.JSON.stringify,O1=r.JSON.parse,z1=class{stringify(l){return r.JSON.stringify(l,void 0)}parse(l){return r.JSON.parse(l,void 0)}};function cm(){}function hm(){}var Vs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xu(){R.call(this,"d")}g(Xu,R);function Zu(){R.call(this,"c")}g(Zu,R);var ji={},fm=null;function pl(){return fm=fm||new oe}ji.Ia="serverreachability";function dm(l){R.call(this,ji.Ia,l)}g(dm,R);function Is(l){const c=pl();fe(c,new dm(c))}ji.STAT_EVENT="statevent";function mm(l,c){R.call(this,ji.STAT_EVENT,l),this.stat=c}g(mm,R);function de(l){const c=pl();fe(c,new mm(c,l))}ji.Ja="timingevent";function gm(l,c){R.call(this,ji.Ja,l),this.size=c}g(gm,R);function Ms(l,c){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return r.setTimeout(function(){l()},c)}function Os(){this.g=!0}Os.prototype.ua=function(){this.g=!1};function U1(l,c,f,p,V,I){l.info(function(){if(l.g)if(I){var k="",$=I.split("&");for(let pt=0;pt<$.length;pt++){var Ht=$[pt].split("=");if(Ht.length>1){const Kt=Ht[0];Ht=Ht[1];const sn=Kt.split("_");k=sn.length>=2&&sn[1]=="type"?k+(Kt+"="+Ht+"&"):k+(Kt+"=redacted&")}}}else k=null;else k=I;return"XMLHTTP REQ ("+p+") [attempt "+V+"]: "+c+`
`+f+`
`+k})}function L1(l,c,f,p,V,I,k){l.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+V+"]: "+c+`
`+f+`
`+I+" "+k})}function _a(l,c,f,p){l.info(function(){return"XMLHTTP TEXT ("+c+"): "+B1(l,f)+(p?" "+p:"")})}function j1(l,c){l.info(function(){return"TIMEOUT: "+c})}Os.prototype.info=function(){};function B1(l,c){if(!l.g)return c;if(!c)return null;try{const I=JSON.parse(c);if(I){for(l=0;l<I.length;l++)if(Array.isArray(I[l])){var f=I[l];if(!(f.length<2)){var p=f[1];if(Array.isArray(p)&&!(p.length<1)){var V=p[0];if(V!="noop"&&V!="stop"&&V!="close")for(let k=1;k<p.length;k++)p[k]=""}}}}return Ku(I)}catch{return c}}var yl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pm={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ym;function Ju(){}g(Ju,cm),Ju.prototype.g=function(){return new XMLHttpRequest},ym=new Ju;function zs(l){return encodeURIComponent(String(l))}function k1(l){var c=1;l=l.split(":");const f=[];for(;c>0&&l.length;)f.push(l.shift()),c--;return l.length&&f.push(l.join(":")),f}function Gn(l,c,f,p){this.j=l,this.i=c,this.l=f,this.S=p||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _m}function _m(){this.i=null,this.g="",this.h=!1}var vm={},$u={};function Wu(l,c,f){l.M=1,l.A=vl(an(c)),l.u=f,l.R=!0,Em(l,null)}function Em(l,c){l.F=Date.now(),_l(l),l.B=an(l.A);var f=l.B,p=l.S;Array.isArray(p)||(p=[String(p)]),Mm(f.i,"t",p),l.C=0,f=l.j.L,l.h=new _m,l.g=Jm(l.j,f?c:null,!l.u),l.P>0&&(l.O=new M1(h(l.Y,l,l.g),l.P)),c=l.V,f=l.g,p=l.ba;var V="readystatechange";Array.isArray(V)||(V&&(om[0]=V.toString()),V=om);for(let I=0;I<V.length;I++){const k=im(f,V[I],p||c.handleEvent,!1,c.h||c);if(!k)break;c.g[k.key]=k}c=l.J?Ui(l.J):{},l.u?(l.v||(l.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,c)):(l.v="GET",l.g.ea(l.B,l.v,null,c)),Is(),U1(l.i,l.v,l.B,l.l,l.S,l.u)}Gn.prototype.ba=function(l){l=l.target;const c=this.O;c&&Yn(l)==3?c.j():this.Y(l)},Gn.prototype.Y=function(l){try{if(l==this.g)t:{const $=Yn(this.g),Ht=this.g.ya(),pt=this.g.ca();if(!($<3)&&($!=3||this.g&&(this.h.h||this.g.la()||km(this.g)))){this.K||$!=4||Ht==7||(Ht==8||pt<=0?Is(3):Is(2)),tc(this);var c=this.g.ca();this.X=c;var f=P1(this);if(this.o=c==200,L1(this.i,this.v,this.B,this.l,this.S,$,c),this.o){if(this.U&&!this.L){e:{if(this.g){var p,V=this.g;if((p=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(p)){var I=p;break e}}I=null}if(l=I)_a(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ec(this,l);else{this.o=!1,this.m=3,de(12),Bi(this),Us(this);break t}}if(this.R){l=!0;let Kt;for(;!this.K&&this.C<f.length;)if(Kt=q1(this,f),Kt==$u){$==4&&(this.m=4,de(14),l=!1),_a(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==vm){this.m=4,de(15),_a(this.i,this.l,f,"[Invalid Chunk]"),l=!1;break}else _a(this.i,this.l,Kt,null),ec(this,Kt);if(Tm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$!=4||f.length!=0||this.h.h||(this.m=1,de(16),l=!1),this.o=this.o&&l,!l)_a(this.i,this.l,f,"[Invalid Chunked Response]"),Bi(this),Us(this);else if(f.length>0&&!this.W){this.W=!0;var k=this.j;k.g==this&&k.aa&&!k.P&&(k.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),uc(k),k.P=!0,de(11))}}else _a(this.i,this.l,f,null),ec(this,f);$==4&&Bi(this),this.o&&!this.K&&($==4?Ym(this.j,this):(this.o=!1,_l(this)))}else nT(this.g),c==400&&f.indexOf("Unknown SID")>0?(this.m=3,de(12)):(this.m=0,de(13)),Bi(this),Us(this)}}}catch{}finally{}};function P1(l){if(!Tm(l))return l.g.la();const c=km(l.g);if(c==="")return"";let f="";const p=c.length,V=Yn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Bi(l),Us(l),"";l.h.i=new r.TextDecoder}for(let I=0;I<p;I++)l.h.h=!0,f+=l.h.i.decode(c[I],{stream:!(V&&I==p-1)});return c.length=0,l.h.g+=f,l.C=0,l.h.g}function Tm(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function q1(l,c){var f=l.C,p=c.indexOf(`
`,f);return p==-1?$u:(f=Number(c.substring(f,p)),isNaN(f)?vm:(p+=1,p+f>c.length?$u:(c=c.slice(p,p+f),l.C=p+f,c)))}Gn.prototype.cancel=function(){this.K=!0,Bi(this)};function _l(l){l.T=Date.now()+l.H,Am(l,l.H)}function Am(l,c){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Ms(h(l.aa,l),c)}function tc(l){l.D&&(r.clearTimeout(l.D),l.D=null)}Gn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(j1(this.i,this.B),this.M!=2&&(Is(),de(17)),Bi(this),this.m=2,Us(this)):Am(this,this.T-l)};function Us(l){l.j.I==0||l.K||Ym(l.j,l)}function Bi(l){tc(l);var c=l.O;c&&typeof c.dispose=="function"&&c.dispose(),l.O=null,um(l.V),l.g&&(c=l.g,l.g=null,c.abort(),c.dispose())}function ec(l,c){try{var f=l.j;if(f.I!=0&&(f.g==l||nc(f.h,l))){if(!l.L&&nc(f.h,l)&&f.I==3){try{var p=f.Ba.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var V=p;if(V[0]==0){t:if(!f.v){if(f.g)if(f.g.F+3e3<l.F)bl(f),Al(f);else break t;oc(f),de(18)}}else f.xa=V[1],0<f.xa-f.K&&V[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Ms(h(f.Va,f),6e3));wm(f.h)<=1&&f.ta&&(f.ta=void 0)}else Pi(f,11)}else if((l.L||f.g==l)&&bl(f),!S(c))for(V=f.Ba.g.parse(c),c=0;c<V.length;c++){let pt=V[c];const Kt=pt[0];if(!(Kt<=f.K))if(f.K=Kt,pt=pt[1],f.I==2)if(pt[0]=="c"){f.M=pt[1],f.ba=pt[2];const sn=pt[3];sn!=null&&(f.ka=sn,f.j.info("VER="+f.ka));const qi=pt[4];qi!=null&&(f.za=qi,f.j.info("SVER="+f.za));const Kn=pt[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(p=1.5*Kn,f.O=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const Xn=l.g;if(Xn){const Rl=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rl){var I=p.h;I.g||Rl.indexOf("spdy")==-1&&Rl.indexOf("quic")==-1&&Rl.indexOf("h2")==-1||(I.j=I.l,I.g=new Set,I.h&&(ic(I,I.h),I.h=null))}if(p.G){const cc=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;cc&&(p.wa=cc,Et(p.J,p.G,cc))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-l.F,f.j.info("Handshake RTT: "+f.T+"ms")),p=f;var k=l;if(p.na=Zm(p,p.L?p.ba:null,p.W),k.L){Rm(p.h,k);var $=k,Ht=p.O;Ht&&($.H=Ht),$.D&&(tc($),_l($)),p.g=k}else Qm(p);f.i.length>0&&Sl(f)}else pt[0]!="stop"&&pt[0]!="close"||Pi(f,7);else f.I==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?Pi(f,7):lc(f):pt[0]!="noop"&&f.l&&f.l.qa(pt),f.A=0)}}Is(4)}catch{}}var H1=class{constructor(l,c){this.g=l,this.map=c}};function Sm(l){this.l=l||10,r.PerformanceNavigationTiming?(l=r.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bm(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function wm(l){return l.h?1:l.g?l.g.size:0}function nc(l,c){return l.h?l.h==c:l.g?l.g.has(c):!1}function ic(l,c){l.g?l.g.add(c):l.h=c}function Rm(l,c){l.h&&l.h==c?l.h=null:l.g&&l.g.has(c)&&l.g.delete(c)}Sm.prototype.cancel=function(){if(this.i=Cm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Cm(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let c=l.i;for(const f of l.g.values())c=c.concat(f.G);return c}return v(l.i)}var Dm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function G1(l,c){if(l){l=l.split("&");for(let f=0;f<l.length;f++){const p=l[f].indexOf("=");let V,I=null;p>=0?(V=l[f].substring(0,p),I=l[f].substring(p+1)):V=l[f],c(V,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}function Qn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;l instanceof Qn?(this.l=l.l,Ls(this,l.j),this.o=l.o,this.g=l.g,js(this,l.u),this.h=l.h,ac(this,Om(l.i)),this.m=l.m):l&&(c=String(l).match(Dm))?(this.l=!1,Ls(this,c[1]||"",!0),this.o=Bs(c[2]||""),this.g=Bs(c[3]||"",!0),js(this,c[4]),this.h=Bs(c[5]||"",!0),ac(this,c[6]||"",!0),this.m=Bs(c[7]||"")):(this.l=!1,this.i=new Ps(null,this.l))}Qn.prototype.toString=function(){const l=[];var c=this.j;c&&l.push(ks(c,xm,!0),":");var f=this.g;return(f||c=="file")&&(l.push("//"),(c=this.o)&&l.push(ks(c,xm,!0),"@"),l.push(zs(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&l.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(ks(f,f.charAt(0)=="/"?Y1:F1,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",ks(f,X1)),l.join("")},Qn.prototype.resolve=function(l){const c=an(this);let f=!!l.j;f?Ls(c,l.j):f=!!l.o,f?c.o=l.o:f=!!l.g,f?c.g=l.g:f=l.u!=null;var p=l.h;if(f)js(c,l.u);else if(f=!!l.h){if(p.charAt(0)!="/")if(this.g&&!this.h)p="/"+p;else{var V=c.h.lastIndexOf("/");V!=-1&&(p=c.h.slice(0,V+1)+p)}if(V=p,V==".."||V==".")p="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){p=V.lastIndexOf("/",0)==0,V=V.split("/");const I=[];for(let k=0;k<V.length;){const $=V[k++];$=="."?p&&k==V.length&&I.push(""):$==".."?((I.length>1||I.length==1&&I[0]!="")&&I.pop(),p&&k==V.length&&I.push("")):(I.push($),p=!0)}p=I.join("/")}else p=V}return f?c.h=p:f=l.i.toString()!=="",f?ac(c,Om(l.i)):f=!!l.m,f&&(c.m=l.m),c};function an(l){return new Qn(l)}function Ls(l,c,f){l.j=f?Bs(c,!0):c,l.j&&(l.j=l.j.replace(/:$/,""))}function js(l,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);l.u=c}else l.u=null}function ac(l,c,f){c instanceof Ps?(l.i=c,Z1(l.i,l.l)):(f||(c=ks(c,K1)),l.i=new Ps(c,l.l))}function Et(l,c,f){l.i.set(c,f)}function vl(l){return Et(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Bs(l,c){return l?c?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ks(l,c,f){return typeof l=="string"?(l=encodeURI(l).replace(c,Q1),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Q1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var xm=/[#\/\?@]/g,F1=/[#\?:]/g,Y1=/[#\?]/g,K1=/[#\?@]/g,X1=/#/g;function Ps(l,c){this.h=this.g=null,this.i=l||null,this.j=!!c}function ki(l){l.g||(l.g=new Map,l.h=0,l.i&&G1(l.i,function(c,f){l.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Ps.prototype,e.add=function(l,c){ki(this),this.i=null,l=va(this,l);let f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(c),this.h+=1,this};function Nm(l,c){ki(l),c=va(l,c),l.g.has(c)&&(l.i=null,l.h-=l.g.get(c).length,l.g.delete(c))}function Vm(l,c){return ki(l),c=va(l,c),l.g.has(c)}e.forEach=function(l,c){ki(this),this.g.forEach(function(f,p){f.forEach(function(V){l.call(c,V,p,this)},this)},this)};function Im(l,c){ki(l);let f=[];if(typeof c=="string")Vm(l,c)&&(f=f.concat(l.g.get(va(l,c))));else for(l=Array.from(l.g.values()),c=0;c<l.length;c++)f=f.concat(l[c]);return f}e.set=function(l,c){return ki(this),this.i=null,l=va(this,l),Vm(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[c]),this.h+=1,this},e.get=function(l,c){return l?(l=Im(this,l),l.length>0?String(l[0]):c):c};function Mm(l,c,f){Nm(l,c),f.length>0&&(l.i=null,l.g.set(va(l,c),v(f)),l.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],c=Array.from(this.g.keys());for(let p=0;p<c.length;p++){var f=c[p];const V=zs(f);f=Im(this,f);for(let I=0;I<f.length;I++){let k=V;f[I]!==""&&(k+="="+zs(f[I])),l.push(k)}}return this.i=l.join("&")};function Om(l){const c=new Ps;return c.i=l.i,l.g&&(c.g=new Map(l.g),c.h=l.h),c}function va(l,c){return c=String(c),l.j&&(c=c.toLowerCase()),c}function Z1(l,c){c&&!l.j&&(ki(l),l.i=null,l.g.forEach(function(f,p){const V=p.toLowerCase();p!=V&&(Nm(this,p),Mm(this,V,f))},l)),l.j=c}function J1(l,c){const f=new Os;if(r.Image){const p=new Image;p.onload=d(Fn,f,"TestLoadImage: loaded",!0,c,p),p.onerror=d(Fn,f,"TestLoadImage: error",!1,c,p),p.onabort=d(Fn,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=d(Fn,f,"TestLoadImage: timeout",!1,c,p),r.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=l}else c(!1)}function $1(l,c){const f=new Os,p=new AbortController,V=setTimeout(()=>{p.abort(),Fn(f,"TestPingServer: timeout",!1,c)},1e4);fetch(l,{signal:p.signal}).then(I=>{clearTimeout(V),I.ok?Fn(f,"TestPingServer: ok",!0,c):Fn(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(V),Fn(f,"TestPingServer: error",!1,c)})}function Fn(l,c,f,p,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),p(f)}catch{}}function W1(){this.g=new z1}function sc(l){this.i=l.Sb||null,this.h=l.ab||!1}g(sc,cm),sc.prototype.g=function(){return new El(this.i,this.h)};function El(l,c){oe.call(this),this.H=l,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(El,oe),e=El.prototype,e.open=function(l,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=c,this.readyState=1,Hs(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(c.body=l),(this.H||r).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof r.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zm(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function zm(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var c=l.value?l.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!l.done}))&&(this.response=this.responseText+=c)}l.done?qs(this):Hs(this),this.readyState==3&&zm(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,qs(this))},e.Na=function(l){this.g&&(this.response=l,qs(this))},e.ga=function(){this.g&&qs(this)};function qs(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Hs(l)}e.setRequestHeader=function(l,c){this.A.append(l,c)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=c.next();return l.join(`\r
`)};function Hs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(El.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Um(l){let c="";return _t(l,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function rc(l,c,f){t:{for(p in f){var p=!1;break t}p=!0}p||(f=Um(f),typeof l=="string"?f!=null&&zs(f):Et(l,c,f))}function xt(l){oe.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(xt,oe);var tT=/^https?$/i,eT=["POST","PUT"];e=xt.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);c=c?c.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ym.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(l),!0),this.B=!1}catch(I){Lm(this,I);return}if(l=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var V in p)f.set(V,p[V]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const I of p.keys())f.set(I,p.get(I));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(I=>I.toLowerCase()=="content-type"),V=r.FormData&&l instanceof r.FormData,!(Array.prototype.indexOf.call(eT,c,void 0)>=0)||p||V||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[I,k]of f)this.g.setRequestHeader(I,k);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(I){Lm(this,I)}};function Lm(l,c){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=c,l.o=5,jm(l),Tl(l)}function jm(l){l.A||(l.A=!0,fe(l,"complete"),fe(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,fe(this,"complete"),fe(this,"abort"),Tl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tl(this,!0)),xt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Bm(this):this.Xa())},e.Xa=function(){Bm(this)};function Bm(l){if(l.h&&typeof s<"u"){if(l.v&&Yn(l)==4)setTimeout(l.Ca.bind(l),0);else if(fe(l,"readystatechange"),Yn(l)==4){l.h=!1;try{const I=l.ca();t:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var f;if(!(f=c)){var p;if(p=I===0){let k=String(l.D).match(Dm)[1]||null;!k&&r.self&&r.self.location&&(k=r.self.location.protocol.slice(0,-1)),p=!tT.test(k?k.toLowerCase():"")}f=p}if(f)fe(l,"complete"),fe(l,"success");else{l.o=6;try{var V=Yn(l)>2?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.ca()+"]",jm(l)}}finally{Tl(l)}}}}function Tl(l,c){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const f=l.g;l.g=null,c||fe(l,"ready");try{f.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Yn(l){return l.g?l.g.readyState:0}e.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var c=this.g.responseText;return l&&c.indexOf(l)==0&&(c=c.substring(l.length)),O1(c)}};function km(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function nT(l){const c={};l=(l.g&&Yn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<l.length;p++){if(S(l[p]))continue;var f=k1(l[p]);const V=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const I=c[V]||[];c[V]=I,I.push(f)}zt(c,function(p){return p.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(l,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||c}function Pm(l){this.za=0,this.i=[],this.j=new Os,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gs("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gs("baseRetryDelayMs",5e3,l),this.Za=Gs("retryDelaySeedMs",1e4,l),this.Ta=Gs("forwardChannelMaxRetries",2,l),this.va=Gs("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Sm(l&&l.concurrentRequestLimit),this.Ba=new W1,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Pm.prototype,e.ka=8,e.I=1,e.connect=function(l,c,f,p){de(0),this.W=l,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.J=Zm(this,null,this.W),Sl(this)};function lc(l){if(qm(l),l.I==3){var c=l.V++,f=an(l.J);if(Et(f,"SID",l.M),Et(f,"RID",c),Et(f,"TYPE","terminate"),Qs(l,f),c=new Gn(l,l.j,c),c.M=2,c.A=vl(an(f)),f=!1,r.navigator&&r.navigator.sendBeacon)try{f=r.navigator.sendBeacon(c.A.toString(),"")}catch{}!f&&r.Image&&(new Image().src=c.A,f=!0),f||(c.g=Jm(c.j,null),c.g.ea(c.A)),c.F=Date.now(),_l(c)}Xm(l)}function Al(l){l.g&&(uc(l),l.g.cancel(),l.g=null)}function qm(l){Al(l),l.v&&(r.clearTimeout(l.v),l.v=null),bl(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&r.clearTimeout(l.m),l.m=null)}function Sl(l){if(!bm(l.h)&&!l.m){l.m=!0;var c=l.Ea;z||y(),B||(z(),B=!0),_.add(c,l),l.D=0}}function iT(l,c){return wm(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=c.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Ms(h(l.Ea,l,c),Km(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const V=new Gn(this,this.j,l);let I=this.o;if(this.U&&(I?(I=Ui(I),ya(I,this.U)):I=this.U),this.u!==null||this.R||(V.J=I,I=null),this.S)t:{for(var c=0,f=0;f<this.i.length;f++){e:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(c+=p,c>4096){c=f;break t}if(c===4096||f===this.i.length-1){c=f+1;break t}}c=1e3}else c=1e3;c=Gm(this,V,c),f=an(this.J),Et(f,"RID",l),Et(f,"CVER",22),this.G&&Et(f,"X-HTTP-Session-Id",this.G),Qs(this,f),I&&(this.R?c="headers="+zs(Um(I))+"&"+c:this.u&&rc(f,this.u,I)),ic(this.h,V),this.Ra&&Et(f,"TYPE","init"),this.S?(Et(f,"$req",c),Et(f,"SID","null"),V.U=!0,Wu(V,f,null)):Wu(V,f,c),this.I=2}}else this.I==3&&(l?Hm(this,l):this.i.length==0||bm(this.h)||Hm(this))};function Hm(l,c){var f;c?f=c.l:f=l.V++;const p=an(l.J);Et(p,"SID",l.M),Et(p,"RID",f),Et(p,"AID",l.K),Qs(l,p),l.u&&l.o&&rc(p,l.u,l.o),f=new Gn(l,l.j,f,l.D+1),l.u===null&&(f.J=l.o),c&&(l.i=c.G.concat(l.i)),c=Gm(l,f,1e3),f.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),ic(l.h,f),Wu(f,p,c)}function Qs(l,c){l.H&&_t(l.H,function(f,p){Et(c,p,f)}),l.l&&_t({},function(f,p){Et(c,p,f)})}function Gm(l,c,f){f=Math.min(l.i.length,f);const p=l.l?h(l.l.Ka,l.l,l):null;t:{var V=l.i;let $=-1;for(;;){const Ht=["count="+f];$==-1?f>0?($=V[0].g,Ht.push("ofs="+$)):$=0:Ht.push("ofs="+$);let pt=!0;for(let Kt=0;Kt<f;Kt++){var I=V[Kt].g;const sn=V[Kt].map;if(I-=$,I<0)$=Math.max(0,V[Kt].g-100),pt=!1;else try{I="req"+I+"_"||"";try{var k=sn instanceof Map?sn:Object.entries(sn);for(const[qi,Kn]of k){let Xn=Kn;o(Kn)&&(Xn=Ku(Kn)),Ht.push(I+qi+"="+encodeURIComponent(Xn))}}catch(qi){throw Ht.push(I+"type="+encodeURIComponent("_badmap")),qi}}catch{p&&p(sn)}}if(pt){k=Ht.join("&");break t}}k=void 0}return l=l.i.splice(0,f),c.G=l,k}function Qm(l){if(!l.g&&!l.v){l.Y=1;var c=l.Da;z||y(),B||(z(),B=!0),_.add(c,l),l.A=0}}function oc(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Ms(h(l.Da,l),Km(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,Fm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Ms(h(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,de(10),Al(this),Fm(this))};function uc(l){l.B!=null&&(r.clearTimeout(l.B),l.B=null)}function Fm(l){l.g=new Gn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var c=an(l.na);Et(c,"RID","rpc"),Et(c,"SID",l.M),Et(c,"AID",l.K),Et(c,"CI",l.F?"0":"1"),!l.F&&l.ia&&Et(c,"TO",l.ia),Et(c,"TYPE","xmlhttp"),Qs(l,c),l.u&&l.o&&rc(c,l.u,l.o),l.O&&(l.g.H=l.O);var f=l.g;l=l.ba,f.M=1,f.A=vl(an(c)),f.u=null,f.R=!0,Em(f,l)}e.Va=function(){this.C!=null&&(this.C=null,Al(this),oc(this),de(19))};function bl(l){l.C!=null&&(r.clearTimeout(l.C),l.C=null)}function Ym(l,c){var f=null;if(l.g==c){bl(l),uc(l),l.g=null;var p=2}else if(nc(l.h,c))f=c.G,Rm(l.h,c),p=1;else return;if(l.I!=0){if(c.o)if(p==1){f=c.u?c.u.length:0,c=Date.now()-c.F;var V=l.D;p=pl(),fe(p,new gm(p,f)),Sl(l)}else Qm(l);else if(V=c.m,V==3||V==0&&c.X>0||!(p==1&&iT(l,c)||p==2&&oc(l)))switch(f&&f.length>0&&(c=l.h,c.i=c.i.concat(f)),V){case 1:Pi(l,5);break;case 4:Pi(l,10);break;case 3:Pi(l,6);break;default:Pi(l,2)}}}function Km(l,c){let f=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(f*=2),f*c}function Pi(l,c){if(l.j.info("Error code "+c),c==2){var f=h(l.bb,l),p=l.Ua;const V=!p;p=new Qn(p||"//www.google.com/images/cleardot.gif"),r.location&&r.location.protocol=="http"||Ls(p,"https"),vl(p),V?J1(p.toString(),f):$1(p.toString(),f)}else de(2);l.I=0,l.l&&l.l.pa(c),Xm(l),qm(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function Xm(l){if(l.I=0,l.ja=[],l.l){const c=Cm(l.h);(c.length!=0||l.i.length!=0)&&(D(l.ja,c),D(l.ja,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.oa()}}function Zm(l,c,f){var p=f instanceof Qn?an(f):new Qn(f);if(p.g!="")c&&(p.g=c+"."+p.g),js(p,p.u);else{var V=r.location;p=V.protocol,c=c?c+"."+V.hostname:V.hostname,V=+V.port;const I=new Qn(null);p&&Ls(I,p),c&&(I.g=c),V&&js(I,V),f&&(I.h=f),p=I}return f=l.G,c=l.wa,f&&c&&Et(p,f,c),Et(p,"VER",l.ka),Qs(l,p),p}function Jm(l,c,f){if(c&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=l.Aa&&!l.ma?new xt(new sc({ab:f})):new xt(l.ma),c.Fa(l.L),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function $m(){}e=$m.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function wl(){}wl.prototype.g=function(l,c){return new Re(l,c)};function Re(l,c){oe.call(this),this.g=new Pm(c),this.l=l,this.h=c&&c.messageUrlParams||null,l=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(l?l["X-WebChannel-Content-Type"]=c.messageContentType:l={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(l?l["X-WebChannel-Client-Profile"]=c.sa:l={"X-WebChannel-Client-Profile":c.sa}),this.g.U=l,(l=c&&c.Qb)&&!S(l)&&(this.g.u=l),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!S(c)&&(this.g.G=c,l=this.h,l!==null&&c in l&&(l=this.h,c in l&&delete l[c])),this.j=new Ea(this)}g(Re,oe),Re.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Re.prototype.close=function(){lc(this.g)},Re.prototype.o=function(l){var c=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.v&&(f={},f.__data__=Ku(l),l=f);c.i.push(new H1(c.Ya++,l)),c.I==3&&Sl(c)},Re.prototype.N=function(){this.g.l=null,delete this.j,lc(this.g),delete this.g,Re.Z.N.call(this)};function Wm(l){Xu.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var c=l.__sm__;if(c){t:{for(const f in c){l=f;break t}l=void 0}(this.i=l)&&(l=this.i,c=c!==null&&l in c?c[l]:void 0),this.data=c}else this.data=l}g(Wm,Xu);function tg(){Zu.call(this),this.status=1}g(tg,Zu);function Ea(l){this.g=l}g(Ea,$m),Ea.prototype.ra=function(){fe(this.g,"a")},Ea.prototype.qa=function(l){fe(this.g,new Wm(l))},Ea.prototype.pa=function(l){fe(this.g,new tg)},Ea.prototype.oa=function(){fe(this.g,"b")},wl.prototype.createWebChannel=wl.prototype.g,Re.prototype.send=Re.prototype.o,Re.prototype.open=Re.prototype.m,Re.prototype.close=Re.prototype.close,rE=function(){return new wl},sE=function(){return pl()},aE=ji,sf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yl.NO_ERROR=0,yl.TIMEOUT=8,yl.HTTP_ERROR=6,uo=yl,pm.COMPLETE="complete",iE=pm,hm.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",oe.prototype.listen=oe.prototype.J,rr=hm,xt.prototype.listenOnce=xt.prototype.K,xt.prototype.getLastError=xt.prototype.Ha,xt.prototype.getLastErrorCode=xt.prototype.ya,xt.prototype.getStatus=xt.prototype.ca,xt.prototype.getResponseJson=xt.prototype.La,xt.prototype.getResponseText=xt.prototype.la,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Fa,nE=xt}).apply(typeof Hl<"u"?Hl:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ce.UNAUTHENTICATED=new ce(null),ce.GOOGLE_CREDENTIALS=new ce("google-credentials-uid"),ce.FIRST_PARTY=new ce("first-party-uid"),ce.MOCK_USER=new ce("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rs="12.8.0";function F2(e){Rs=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new X0("@firebase/firestore");function Ra(){return oa.logLevel}function q(e,...t){if(oa.logLevel<=lt.DEBUG){const n=t.map(wd);oa.debug(`Firestore (${Rs}): ${e}`,...n)}}function kn(e,...t){if(oa.logLevel<=lt.ERROR){const n=t.map(wd);oa.error(`Firestore (${Rs}): ${e}`,...n)}}function cs(e,...t){if(oa.logLevel<=lt.WARN){const n=t.map(wd);oa.warn(`Firestore (${Rs}): ${e}`,...n)}}function wd(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,lE(e,i,n)}function lE(e,t,n){let i=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw kn(i),new Error(i)}function ht(e,t,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,e||lE(t,a,i)}function K(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends ws{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ce.UNAUTHENTICATED))}shutdown(){}}class K2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class X2{constructor(t){this.t=t,this.currentUser=ce.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ht(this.o===void 0,42304);let i=this.i;const a=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ea,t.enqueueRetryable(()=>a(this.currentUser))};const r=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),r())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ea)}},0),r()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string",31837,{l:i}),new oE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string",2055,{h:t}),new ce(t)}}class Z2{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=ce.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class J2{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new Z2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(ce.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qp{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,x2(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ht(this.o===void 0,3512);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const r=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const a=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qp(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=W2(40);for(let s=0;s<a.length;++s)i.length<20&&a[s]<n&&(i+=t.charAt(a[s]%62))}return i}}function nt(e,t){return e<t?-1:e>t?1:0}function rf(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=e.charAt(i),s=t.charAt(i);if(a!==s)return $c(a)===$c(s)?nt(a,s):$c(a)?1:-1}return nt(e.length,t.length)}const tw=55296,ew=57343;function $c(e){const t=e.charCodeAt(0);return t>=tw&&t<=ew}function hs(e,t,n){return e.length===t.length&&e.every((i,a)=>n(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="__name__";class rn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Q(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Q(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return rn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof rn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const s=rn.compareSegments(t.get(a),n.get(a));if(s!==0)return s}return nt(t.length,n.length)}static compareSegments(t,n){const i=rn.isNumericId(t),a=rn.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?rn.extractNumericId(t).compare(rn.extractNumericId(n)):rf(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ei.fromString(t.substring(4,t.length-2))}}class St extends rn{construct(t,n,i){return new St(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new H(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new St(n)}static emptyPath(){return new St([])}}const nw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ie extends rn{construct(t,n,i){return new ie(t,n,i)}static isValidIdentifier(t){return nw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ie.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hp}static keyField(){return new ie([Hp])}static fromServerFormat(t){const n=[];let i="",a=0;const s=()=>{if(i.length===0)throw new H(j.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let r=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new H(j.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,a+=2}else o==="`"?(r=!r,a++):o!=="."||r?(i+=o,a++):(s(),a++)}if(s(),r)throw new H(j.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ie(n)}static emptyPath(){return new ie([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(St.fromString(t))}static fromName(t){return new G(St.fromString(t).popFirst(5))}static empty(){return new G(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&St.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return St.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new St(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(e,t,n){if(!n)throw new H(j.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function iw(e,t,n,i){if(t===!0&&i===!0)throw new H(j.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Gp(e){if(!G.isDocumentKey(e))throw new H(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Qp(e){if(G.isDocumentKey(e))throw new H(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function cE(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Cd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q(12329,{type:typeof e})}function In(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cd(e);throw new H(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e,t){const n={typeString:e};return t&&(n.value=t),n}function cl(e,t){if(!cE(e))throw new H(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const a=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const r=e[i];if(a&&typeof r!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(s!==void 0&&r!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new H(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-62135596800,Yp=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(t){return bt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Yp);return new bt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Fp)throw new H(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yp}_compareTo(t){return this.seconds===t.seconds?nt(this.nanoseconds,t.nanoseconds):nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(cl(t,bt._jsonSchema))return new bt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Fp;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:Pt("string",bt._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{static fromTimestamp(t){return new Y(t)}static min(){return new Y(new bt(0,0))}static max(){return new Y(new bt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=-1;function aw(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=Y.fromTimestamp(i===1e9?new bt(n+1,0):new bt(n,i));return new Ri(a,G.empty(),t)}function sw(e){return new Ri(e.readTime,e.key,Qr)}class Ri{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ri(Y.min(),G.empty(),Qr)}static max(){return new Ri(Y.max(),G.empty(),Qr)}}function rw(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:nt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ow{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==lw)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U((i,a)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):U.reject(n)}static resolve(t){return new U((n,i)=>{n(t)})}static reject(t){return new U((n,i)=>{i(t)})}static waitFor(t){return new U((n,i)=>{let a=0,s=0,r=!1;t.forEach(o=>{++a,o.next(()=>{++s,r&&s===a&&n()},u=>i(u))}),r=!0,s===a&&n()})}static or(t){let n=U.resolve(!1);for(const i of t)n=n.next(a=>a?U.resolve(a):i());return n}static forEach(t,n){const i=[];return t.forEach((a,s)=>{i.push(n.call(this,a,s))}),this.waitFor(i)}static mapArray(t,n){return new U((i,a)=>{const s=t.length,r=new Array(s);let o=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(d=>{r[h]=d,++o,o===s&&i(r)},d=>a(d))}})}static doWhile(t,n){return new U((i,a)=>{const s=()=>{t()===!0?n().next(()=>{s()},a):i()};s()})}}function uw(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ds(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ru.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=-1;function Cu(e){return e==null}function Xo(e){return e===0&&1/e==-1/0}function cw(e){return typeof e=="number"&&Number.isInteger(e)&&!Xo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="";function hw(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Kp(t)),t=fw(e.get(n),t);return Kp(t)}function fw(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const s=e.charAt(a);switch(s){case"\0":n+="";break;case hE:n+="";break;default:n+=s}}return n}function Kp(e){return e+hE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Oi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,n){this.comparator=t,this.root=n||te.EMPTY}insert(t,n){return new Dt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,te.BLACK,null,null))}remove(t){return new Dt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,te.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gl(this.root,t,this.comparator,!0)}}class Gl{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&a&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class te{constructor(t,n,i,a,s){this.key=t,this.value=n,this.color=i??te.RED,this.left=a??te.EMPTY,this.right=s??te.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,s){return new te(t??this.key,n??this.value,i??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const s=i(t,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(t,n,i),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return te.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return te.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Q(27949);return t+(this.isRed()?0:1)}}te.EMPTY=null,te.RED=!0,te.BLACK=!1;te.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(t,n,i,a,s){return this}insert(t,n,i){return new te(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(t){this.comparator=t,this.data=new Dt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zp(this.data.getIterator())}getIteratorFrom(t){return new Zp(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ft)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=i.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ft(this.comparator);return n.data=t,n}}class Zp{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.fields=t,t.sort(ie.comparator)}static empty(){return new Ve([])}unionWith(t){let n=new Ft(ie.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Ve(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return hs(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dE("Invalid base64 string: "+s):s}}(t);return new re(n)}static fromUint8Array(t){const n=function(a){let s="";for(let r=0;r<a.length;++r)s+=String.fromCharCode(a[r]);return s}(t);return new re(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}re.EMPTY_BYTE_STRING=new re("");const dw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(e){if(ht(!!e,39018),typeof e=="string"){let t=0;const n=dw.exec(e);if(ht(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:It(e.seconds),nanos:It(e.nanos)}}function It(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Di(e){return typeof e=="string"?re.fromBase64String(e):re.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="server_timestamp",gE="__type__",pE="__previous_value__",yE="__local_write_time__";function xd(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[gE])==null?void 0:i.stringValue)===mE}function Du(e){const t=e.mapValue.fields[pE];return xd(t)?Du(t):t}function Fr(e){const t=Ci(e.mapValue.fields[yE].timestampValue);return new bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,n,i,a,s,r,o,u,h,d,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=s,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d,this.apiKey=g}}const Zo="(default)";class Yr{constructor(t,n){this.projectId=t,this.database=n||Zo}static empty(){return new Yr("","")}get isDefaultDatabase(){return this.database===Zo}isEqual(t){return t instanceof Yr&&t.projectId===this.projectId&&t.database===this.database}}function gw(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new H(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yr(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="__type__",pw="__max__",Ql={mapValue:{}},vE="__vector__",Jo="value";function xi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?xd(e)?4:_w(e)?9007199254740991:yw(e)?10:11:Q(28295,{value:e})}function mn(e,t){if(e===t)return!0;const n=xi(e);if(n!==xi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fr(e).isEqual(Fr(t));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const r=Ci(a.timestampValue),o=Ci(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,s){return Di(a.bytesValue).isEqual(Di(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,s){return It(a.geoPointValue.latitude)===It(s.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(s.geoPointValue.longitude)}(e,t);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return It(a.integerValue)===It(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const r=It(a.doubleValue),o=It(s.doubleValue);return r===o?Xo(r)===Xo(o):isNaN(r)&&isNaN(o)}return!1}(e,t);case 9:return hs(e.arrayValue.values||[],t.arrayValue.values||[],mn);case 10:case 11:return function(a,s){const r=a.mapValue.fields||{},o=s.mapValue.fields||{};if(Xp(r)!==Xp(o))return!1;for(const u in r)if(r.hasOwnProperty(u)&&(o[u]===void 0||!mn(r[u],o[u])))return!1;return!0}(e,t);default:return Q(52216,{left:e})}}function Kr(e,t){return(e.values||[]).find(n=>mn(n,t))!==void 0}function fs(e,t){if(e===t)return 0;const n=xi(e),i=xi(t);if(n!==i)return nt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(e.booleanValue,t.booleanValue);case 2:return function(s,r){const o=It(s.integerValue||s.doubleValue),u=It(r.integerValue||r.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Jp(e.timestampValue,t.timestampValue);case 4:return Jp(Fr(e),Fr(t));case 5:return rf(e.stringValue,t.stringValue);case 6:return function(s,r){const o=Di(s),u=Di(r);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,r){const o=s.split("/"),u=r.split("/");for(let h=0;h<o.length&&h<u.length;h++){const d=nt(o[h],u[h]);if(d!==0)return d}return nt(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,r){const o=nt(It(s.latitude),It(r.latitude));return o!==0?o:nt(It(s.longitude),It(r.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $p(e.arrayValue,t.arrayValue);case 10:return function(s,r){var m,v,D,M;const o=s.fields||{},u=r.fields||{},h=(m=o[Jo])==null?void 0:m.arrayValue,d=(v=u[Jo])==null?void 0:v.arrayValue,g=nt(((D=h==null?void 0:h.values)==null?void 0:D.length)||0,((M=d==null?void 0:d.values)==null?void 0:M.length)||0);return g!==0?g:$p(h,d)}(e.mapValue,t.mapValue);case 11:return function(s,r){if(s===Ql.mapValue&&r===Ql.mapValue)return 0;if(s===Ql.mapValue)return 1;if(r===Ql.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),h=r.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=rf(u[g],d[g]);if(m!==0)return m;const v=fs(o[u[g]],h[d[g]]);if(v!==0)return v}return nt(u.length,d.length)}(e.mapValue,t.mapValue);default:throw Q(23264,{he:n})}}function Jp(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return nt(e,t);const n=Ci(e),i=Ci(t),a=nt(n.seconds,i.seconds);return a!==0?a:nt(n.nanos,i.nanos)}function $p(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const s=fs(n[a],i[a]);if(s)return s}return nt(n.length,i.length)}function ds(e){return lf(e)}function lf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ci(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Di(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",a=!0;for(const s of n.values||[])a?a=!1:i+=",",i+=lf(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const r of i)s?s=!1:a+=",",a+=`${r}:${lf(n.fields[r])}`;return a+"}"}(e.mapValue):Q(61005,{value:e})}function co(e){switch(xi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Du(e);return t?16+co(t):16;case 5:return 2*e.stringValue.length;case 6:return Di(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,s)=>a+co(s),0)}(e.arrayValue);case 10:case 11:return function(i){let a=0;return Oi(i.fields,(s,r)=>{a+=s.length+co(r)}),a}(e.mapValue);default:throw Q(13486,{value:e})}}function of(e){return!!e&&"integerValue"in e}function Nd(e){return!!e&&"arrayValue"in e}function Wp(e){return!!e&&"nullValue"in e}function ty(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ho(e){return!!e&&"mapValue"in e}function yw(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[_E])==null?void 0:i.stringValue)===vE}function wr(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Oi(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=wr(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wr(e.arrayValue.values[n]);return t}return{...e}}function _w(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===pw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.value=t}static empty(){return new Ae({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!ho(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wr(n)}setAll(t){let n=ie.emptyPath(),i={},a=[];t.forEach((r,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,a),i={},a=[],n=o.popLast()}r?i[o.lastSegment()]=wr(r):a.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,a)}delete(t){const n=this.field(t.popLast());ho(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return mn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];ho(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){Oi(n,(a,s)=>t[a]=s);for(const a of i)delete t[a]}clone(){return new Ae(wr(this.value))}}function EE(e){const t=[];return Oi(e.fields,(n,i)=>{const a=new ie([n]);if(ho(i)){const s=EE(i.mapValue).fields;if(s.length===0)t.push(a);else for(const r of s)t.push(a.child(r))}else t.push(a)}),new Ve(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n,i,a,s,r,o){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=s,this.data=r,this.documentState=o}static newInvalidDocument(t){return new he(t,0,Y.min(),Y.min(),Y.min(),Ae.empty(),0)}static newFoundDocument(t,n,i,a){return new he(t,1,n,Y.min(),i,a,0)}static newNoDocument(t,n){return new he(t,2,n,Y.min(),Y.min(),Ae.empty(),0)}static newUnknownDocument(t,n){return new he(t,3,n,Y.min(),Y.min(),Ae.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ae.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ae.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof he&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new he(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(t,n){this.position=t,this.inclusive=n}}function ey(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const s=t[a],r=e.position[a];if(s.field.isKeyField()?i=G.comparator(G.fromName(r.referenceValue),n.key):i=fs(r,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function ny(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,n="asc"){this.field=t,this.dir=n}}function vw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{}class Qt extends TE{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new Tw(t,n,i):n==="array-contains"?new bw(t,i):n==="in"?new ww(t,i):n==="not-in"?new Rw(t,i):n==="array-contains-any"?new Cw(t,i):new Qt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new Aw(t,i):new Sw(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fs(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(fs(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends TE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new gn(t,n)}matches(t){return AE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AE(e){return e.op==="and"}function SE(e){return Ew(e)&&AE(e)}function Ew(e){for(const t of e.filters)if(t instanceof gn)return!1;return!0}function uf(e){if(e instanceof Qt)return e.field.canonicalString()+e.op.toString()+ds(e.value);if(SE(e))return e.filters.map(t=>uf(t)).join(",");{const t=e.filters.map(n=>uf(n)).join(",");return`${e.op}(${t})`}}function bE(e,t){return e instanceof Qt?function(i,a){return a instanceof Qt&&i.op===a.op&&i.field.isEqual(a.field)&&mn(i.value,a.value)}(e,t):e instanceof gn?function(i,a){return a instanceof gn&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((s,r,o)=>s&&bE(r,a.filters[o]),!0):!1}(e,t):void Q(19439)}function wE(e){return e instanceof Qt?function(n){return`${n.field.canonicalString()} ${n.op} ${ds(n.value)}`}(e):e instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(wE).join(" ,")+"}"}(e):"Filter"}class Tw extends Qt{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class Aw extends Qt{constructor(t,n){super(t,"in",n),this.keys=RE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Sw extends Qt{constructor(t,n){super(t,"not-in",n),this.keys=RE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function RE(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class bw extends Qt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Nd(n)&&Kr(n.arrayValue,this.value)}}class ww extends Qt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Kr(this.value.arrayValue,n)}}class Rw extends Qt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Kr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kr(this.value.arrayValue,n)}}class Cw extends Qt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Kr(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n=null,i=[],a=[],s=null,r=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=s,this.startAt=r,this.endAt=o,this.Te=null}}function iy(e,t=null,n=[],i=[],a=null,s=null,r=null){return new Dw(e,t,n,i,a,s,r)}function Vd(e){const t=K(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>uf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Cu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ds(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ds(i)).join(",")),t.Te=n}return t.Te}function Id(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!vw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ny(e.startAt,t.startAt)&&ny(e.endAt,t.endAt)}function cf(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t,n=null,i=[],a=[],s=null,r="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=s,this.limitType=r,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function xw(e,t,n,i,a,s,r,o){return new xu(e,t,n,i,a,s,r,o)}function Md(e){return new xu(e)}function ay(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Nw(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function Vw(e){return e.collectionGroup!==null}function Rr(e){const t=K(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(r){let o=new Ft(ie.comparator);return r.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Wo(s,i))}),n.has(ie.keyField().canonicalString())||t.Ie.push(new Wo(ie.keyField(),i))}return t.Ie}function hn(e){const t=K(e);return t.Ee||(t.Ee=Iw(t,Rr(e))),t.Ee}function Iw(e,t){if(e.limitType==="F")return iy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new Wo(a.field,s)});const n=e.endAt?new $o(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new $o(e.startAt.position,e.startAt.inclusive):null;return iy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function hf(e,t,n){return new xu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nu(e,t){return Id(hn(e),hn(t))&&e.limitType===t.limitType}function CE(e){return`${Vd(hn(e))}|lt:${e.limitType}`}function Ca(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>wE(a)).join(", ")}]`),Cu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>ds(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>ds(a)).join(",")),`Target(${i})`}(hn(e))}; limitType=${e.limitType})`}function Vu(e,t){return t.isFoundDocument()&&function(i,a){const s=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,a){for(const s of Rr(i))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,a){for(const s of i.filters)if(!s.matches(a))return!1;return!0}(e,t)&&function(i,a){return!(i.startAt&&!function(r,o,u){const h=ey(r,o,u);return r.inclusive?h<=0:h<0}(i.startAt,Rr(i),a)||i.endAt&&!function(r,o,u){const h=ey(r,o,u);return r.inclusive?h>=0:h>0}(i.endAt,Rr(i),a))}(e,t)}function Mw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function DE(e){return(t,n)=>{let i=!1;for(const a of Rr(e)){const s=Ow(a,t,n);if(s!==0)return s;i=i||a.field.isKeyField()}return 0}}function Ow(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(s,r,o){const u=r.data.field(s),h=o.data.field(s);return u!==null&&h!==null?fs(u,h):Q(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,s]of i)if(this.equalsFn(a,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],t))return void(a[s]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Oi(this.inner,(n,i)=>{for(const[a,s]of i)t(a,s)})}isEmpty(){return fE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Dt(G.comparator);function Pn(){return zw}const xE=new Dt(G.comparator);function lr(...e){let t=xE;for(const n of e)t=t.insert(n.key,n);return t}function NE(e){let t=xE;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Xi(){return Cr()}function VE(){return Cr()}function Cr(){return new ga(e=>e.toString(),(e,t)=>e.isEqual(t))}const Uw=new Dt(G.comparator),Lw=new Ft(G.comparator);function it(...e){let t=Lw;for(const n of e)t=t.add(n);return t}const jw=new Ft(nt);function Bw(){return jw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xo(t)?"-0":t}}function IE(e){return{integerValue:""+e}}function kw(e,t){return cw(t)?IE(t):Od(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this._=void 0}}function Pw(e,t,n){return e instanceof tu?function(a,s){const r={fields:{[gE]:{stringValue:mE},[yE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&xd(s)&&(s=Du(s)),s&&(r.fields[pE]=s),{mapValue:r}}(n,t):e instanceof Xr?OE(e,t):e instanceof Zr?zE(e,t):function(a,s){const r=ME(a,s),o=sy(r)+sy(a.Ae);return of(r)&&of(a.Ae)?IE(o):Od(a.serializer,o)}(e,t)}function qw(e,t,n){return e instanceof Xr?OE(e,t):e instanceof Zr?zE(e,t):n}function ME(e,t){return e instanceof eu?function(i){return of(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class tu extends Iu{}class Xr extends Iu{constructor(t){super(),this.elements=t}}function OE(e,t){const n=UE(t);for(const i of e.elements)n.some(a=>mn(a,i))||n.push(i);return{arrayValue:{values:n}}}class Zr extends Iu{constructor(t){super(),this.elements=t}}function zE(e,t){let n=UE(t);for(const i of e.elements)n=n.filter(a=>!mn(a,i));return{arrayValue:{values:n}}}class eu extends Iu{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function sy(e){return It(e.integerValue||e.doubleValue)}function UE(e){return Nd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Hw(e,t){return e.field.isEqual(t.field)&&function(i,a){return i instanceof Xr&&a instanceof Xr||i instanceof Zr&&a instanceof Zr?hs(i.elements,a.elements,mn):i instanceof eu&&a instanceof eu?mn(i.Ae,a.Ae):i instanceof tu&&a instanceof tu}(e.transform,t.transform)}class Gw{constructor(t,n){this.version=t,this.transformResults=n}}class tn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new tn}static exists(t){return new tn(void 0,t)}static updateTime(t){return new tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fo(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Mu{}function LE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new zd(e.key,tn.none()):new hl(e.key,e.data,tn.none());{const n=e.data,i=Ae.empty();let a=new Ft(ie.comparator);for(let s of t.fields)if(!a.has(s)){let r=n.field(s);r===null&&s.length>1&&(s=s.popLast(),r=n.field(s)),r===null?i.delete(s):i.set(s,r),a=a.add(s)}return new zi(e.key,i,new Ve(a.toArray()),tn.none())}}function Qw(e,t,n){e instanceof hl?function(a,s,r){const o=a.value.clone(),u=ly(a.fieldTransforms,s,r.transformResults);o.setAll(u),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(e,t,n):e instanceof zi?function(a,s,r){if(!fo(a.precondition,s))return void s.convertToUnknownDocument(r.version);const o=ly(a.fieldTransforms,s,r.transformResults),u=s.data;u.setAll(jE(a)),u.setAll(o),s.convertToFoundDocument(r.version,u).setHasCommittedMutations()}(e,t,n):function(a,s,r){s.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,n)}function Dr(e,t,n,i){return e instanceof hl?function(s,r,o,u){if(!fo(s.precondition,r))return o;const h=s.value.clone(),d=oy(s.fieldTransforms,u,r);return h.setAll(d),r.convertToFoundDocument(r.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof zi?function(s,r,o,u){if(!fo(s.precondition,r))return o;const h=oy(s.fieldTransforms,u,r),d=r.data;return d.setAll(jE(s)),d.setAll(h),r.convertToFoundDocument(r.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(s,r,o){return fo(s.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(e,t,n)}function Fw(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),s=ME(i.transform,a||null);s!=null&&(n===null&&(n=Ae.empty()),n.set(i.field,s))}return n||null}function ry(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&hs(i,a,(s,r)=>Hw(s,r))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class hl extends Mu{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class zi extends Mu{constructor(t,n,i,a,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function jE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function ly(e,t,n){const i=new Map;ht(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const s=e[a],r=s.transform,o=t.data.field(s.field);i.set(s.field,qw(r,o,n[a]))}return i}function oy(e,t,n){const i=new Map;for(const a of e){const s=a.transform,r=n.data.field(a.field);i.set(a.field,Pw(s,r,t))}return i}class zd extends Mu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yw extends Mu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(t.key)&&Qw(s,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Dr(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Dr(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=VE();return this.mutations.forEach(a=>{const s=t.get(a.key),r=s.overlayedDocument;let o=this.applyToLocalView(r,s.mutatedFields);o=n.has(a.key)?null:o;const u=LE(r,o);u!==null&&i.set(a.key,u),r.isValidDocument()||r.convertToNoDocument(Y.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),it())}isEqual(t){return this.batchId===t.batchId&&hs(this.mutations,t.mutations,(n,i)=>ry(n,i))&&hs(this.baseMutations,t.baseMutations,(n,i)=>ry(n,i))}}class Ud{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){ht(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=function(){return Uw}();const s=t.mutations;for(let r=0;r<s.length;r++)a=a.insert(s[r].key,i[r].version);return new Ud(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,rt;function Jw(e){switch(e){case j.OK:return Q(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return Q(15467,{code:e})}}function BE(e){if(e===void 0)return kn("GRPC error has no .code"),j.UNKNOWN;switch(e){case Ut.OK:return j.OK;case Ut.CANCELLED:return j.CANCELLED;case Ut.UNKNOWN:return j.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return j.INTERNAL;case Ut.UNAVAILABLE:return j.UNAVAILABLE;case Ut.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Ut.NOT_FOUND:return j.NOT_FOUND;case Ut.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Ut.ABORTED:return j.ABORTED;case Ut.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Ut.DATA_LOSS:return j.DATA_LOSS;default:return Q(39323,{code:e})}}(rt=Ut||(Ut={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Ei([4294967295,4294967295],0);function uy(e){const t=$w().encode(e),n=new eE;return n.update(t),new Uint8Array(n.digest())}function cy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ei([n,i],0),new Ei([a,s],0)]}class Ld{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new or(`Invalid padding: ${n}`);if(i<0)throw new or(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new or(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new or(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ei.fromNumber(this.ge)}ye(t,n,i){let a=t.add(n.multiply(Ei.fromNumber(i)));return a.compare(Ww)===1&&(a=new Ei([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=uy(t),[i,a]=cy(n);for(let s=0;s<this.hashCount;s++){const r=this.ye(i,a,s);if(!this.we(r))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),r=new Ld(s,a,n);return i.forEach(o=>r.insert(o)),r}insert(t){if(this.ge===0)return;const n=uy(t),[i,a]=cy(n);for(let s=0;s<this.hashCount;s++){const r=this.ye(i,a,s);this.be(r)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class or extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,n,i,a,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,fl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Ou(Y.min(),a,new Dt(nt),Pn(),it())}}class fl{constructor(t,n,i,a,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new fl(i,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n,i,a){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=a}}class kE{constructor(t,n){this.targetId=t,this.Ce=n}}class PE{constructor(t,n,i=re.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class hy{constructor(){this.ve=0,this.Fe=fy(),this.Me=re.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=it(),n=it(),i=it();return this.Fe.forEach((a,s)=>{switch(s){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Q(38017,{changeType:s})}}),new fl(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=fy()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class tR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Pn(),this.He=Fl(),this.Je=Fl(),this.Ze=new Dt(nt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Q(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,a)=>{this.rt(a)&&n(a)})}st(t){const n=t.targetId,i=t.Ce.count,a=this.ot(n);if(a){const s=a.target;if(cf(s))if(i===0){const r=new G(s.path);this.et(n,r,he.newNoDocument(r,Y.min()))}else ht(i===1,20013,{expectedCount:i});else{const r=this._t(n);if(r!==i){const o=this.ut(t),u=o?this.ct(o,t,r):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:s=0}=n;let r,o;try{r=Di(i).toUint8Array()}catch(u){if(u instanceof dE)return cs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Ld(r,a,s)}catch(u){return cs(u instanceof or?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach(s=>{const r=this.Ge.ht(),o=`projects/${r.projectId}/databases/${r.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.et(n,s,null),a++)}),a}Tt(t){const n=new Map;this.ze.forEach((s,r)=>{const o=this.ot(r);if(o){if(s.current&&cf(o.target)){const u=new G(o.target.path);this.It(u).has(r)||this.Et(r,u)||this.et(r,u,he.newNoDocument(u,t))}s.Be&&(n.set(r,s.ke()),s.Ke())}});let i=it();this.Je.forEach((s,r)=>{let o=!0;r.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(s))}),this.je.forEach((s,r)=>r.setReadTime(t));const a=new Ou(t,n,this.Ze,this.je,i);return this.je=Pn(),this.He=Fl(),this.Je=Fl(),this.Ze=new Dt(nt),a}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new hy,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Ft(nt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Ft(nt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new hy),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Fl(){return new Dt(G.comparator)}function fy(){return new Dt(G.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},nR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iR={and:"AND",or:"OR"};class aR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ff(e,t){return e.useProto3Json||Cu(t)?t:{value:t}}function nu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function qE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sR(e,t){return nu(e,t.toTimestamp())}function fn(e){return ht(!!e,49232),Y.fromTimestamp(function(n){const i=Ci(n);return new bt(i.seconds,i.nanos)}(e))}function jd(e,t){return df(e,t).canonicalString()}function df(e,t){const n=function(a){return new St(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function HE(e){const t=St.fromString(e);return ht(KE(t),10190,{key:t.toString()}),t}function mf(e,t){return jd(e.databaseId,t.path)}function Wc(e,t){const n=HE(t);if(n.get(1)!==e.databaseId.projectId)throw new H(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new H(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(QE(n))}function GE(e,t){return jd(e.databaseId,t)}function rR(e){const t=HE(e);return t.length===4?St.emptyPath():QE(t)}function gf(e){return new St(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function QE(e){return ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function dy(e,t,n){return{name:mf(e,t),fields:n.value.mapValue.fields}}function lR(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Q(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(ht(d===void 0||typeof d=="string",58123),re.fromBase64String(d||"")):(ht(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),re.fromUint8Array(d||new Uint8Array))}(e,t.targetChange.resumeToken),r=t.targetChange.cause,o=r&&function(h){const d=h.code===void 0?j.UNKNOWN:BE(h.code);return new H(d,h.message||"")}(r);n=new PE(i,a,s,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Wc(e,i.document.name),s=fn(i.document.updateTime),r=i.document.createTime?fn(i.document.createTime):Y.min(),o=new Ae({mapValue:{fields:i.document.fields}}),u=he.newFoundDocument(a,s,r,o),h=i.targetIds||[],d=i.removedTargetIds||[];n=new mo(h,d,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Wc(e,i.document),s=i.readTime?fn(i.readTime):Y.min(),r=he.newNoDocument(a,s),o=i.removedTargetIds||[];n=new mo([],o,r.key,r)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Wc(e,i.document),s=i.removedTargetIds||[];n=new mo([],s,a,null)}else{if(!("filter"in t))return Q(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:s}=i,r=new Zw(a,s),o=i.targetId;n=new kE(o,r)}}return n}function oR(e,t){let n;if(t instanceof hl)n={update:dy(e,t.key,t.value)};else if(t instanceof zd)n={delete:mf(e,t.key)};else if(t instanceof zi)n={update:dy(e,t.key,t.data),updateMask:yR(t.fieldMask)};else{if(!(t instanceof Yw))return Q(16599,{dt:t.type});n={verify:mf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,r){const o=r.transform;if(o instanceof tu)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Xr)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Zr)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof eu)return{fieldPath:r.field.canonicalString(),increment:o.Ae};throw Q(20930,{transform:r.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:sR(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(e,t.precondition)),n}function uR(e,t){return e&&e.length>0?(ht(t!==void 0,14353),e.map(n=>function(a,s){let r=a.updateTime?fn(a.updateTime):fn(s);return r.isEqual(Y.min())&&(r=fn(s)),new Gw(r,a.transformResults||[])}(n,t))):[]}function cR(e,t){return{documents:[GE(e,t.path)]}}function hR(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=GE(e,a);const s=function(h){if(h.length!==0)return YE(gn.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const r=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:Da(m.field),direction:mR(m.dir)}}(d))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=ff(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ft:n,parent:a}}function fR(e){let t=rR(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ht(i===1,65062);const d=n.from[0];d.allDescendants?a=d.collectionId:t=t.child(d.collectionId)}let s=[];n.where&&(s=function(g){const m=FE(g);return m instanceof gn&&SE(m)?m.getFilters():[m]}(n.where));let r=[];n.orderBy&&(r=function(g){return g.map(m=>function(D){return new Wo(xa(D.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(g){let m;return m=typeof g=="object"?g.value:g,Cu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,v=g.values||[];return new $o(v,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,v=g.values||[];return new $o(v,m)}(n.endAt)),xw(t,a,r,s,o,"F",u,h)}function dR(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function FE(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=xa(n.unaryFilter.field);return Qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=xa(n.unaryFilter.field);return Qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xa(n.unaryFilter.field);return Qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=xa(n.unaryFilter.field);return Qt.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(e):e.fieldFilter!==void 0?function(n){return Qt.create(xa(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(i=>FE(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(e):Q(30097,{filter:e})}function mR(e){return eR[e]}function gR(e){return nR[e]}function pR(e){return iR[e]}function Da(e){return{fieldPath:e.canonicalString()}}function xa(e){return ie.fromServerFormat(e.fieldPath)}function YE(e){return e instanceof Qt?function(n){if(n.op==="=="){if(ty(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NAN"}};if(Wp(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ty(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NAN"}};if(Wp(n.value))return{unaryFilter:{field:Da(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Da(n.field),op:gR(n.op),value:n.value}}}(e):e instanceof gn?function(n){const i=n.getFilters().map(a=>YE(a));return i.length===1?i[0]:{compositeFilter:{op:pR(n.op),filters:i}}}(e):Q(54877,{filter:e})}function yR(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function KE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function XE(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,n,i,a,s=Y.min(),r=Y.min(),o=re.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=r,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new oi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.yt=t}}function vR(e){const t=fR({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?hf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.Sn=new TR}addToCollectionParentIndex(t,n){return this.Sn.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(Ri.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(Ri.min())}updateCollectionGroup(t,n,i){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class TR{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new Ft(St.comparator),s=!a.has(i);return this.index[n]=a.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Ft(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZE=41943040;class Te{static withCacheSize(t){return new Te(t,Te.DEFAULT_COLLECTION_PERCENTILE,Te.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Te.DEFAULT_COLLECTION_PERCENTILE=10,Te.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Te.DEFAULT=new Te(ZE,Te.DEFAULT_COLLECTION_PERCENTILE,Te.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Te.DISABLED=new Te(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ms(0)}static ar(){return new ms(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="LruGarbageCollector",AR=1048576;function py([e,t],[n,i]){const a=nt(e,n);return a===0?nt(t,i):a}class SR{constructor(t){this.Pr=t,this.buffer=new Ft(py),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();py(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bR{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){q(gy,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ds(n)?q(gy,"Ignoring IndexedDB error during garbage collection: ",n):await Cs(n)}await this.Ar(3e5)})}}class wR{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return U.resolve(Ru.ce);const i=new SR(n);return this.Vr.forEachTarget(t,a=>i.Er(a.sequenceNumber)).next(()=>this.Vr.mr(t,a=>i.Er(a))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(my)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),my):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,a,s,r,o,u,h;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,r=Date.now(),this.nthSequenceNumber(t,a))).next(g=>(i=g,o=Date.now(),this.removeTargets(t,i,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(h=Date.now(),Ra()<=lt.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${r-d}ms
	Determined least recently used ${a} in `+(o-r)+`ms
	Removed ${s} targets in `+(u-o)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g})))}}function RR(e,t){return new wR(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.changes=new ga(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,he.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(i!==null&&Dr(i.mutation,a,Ve.empty(),bt.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,it()).next(()=>i))}getLocalViewOfDocuments(t,n,i=it()){const a=Xi();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,i).next(s=>{let r=lr();return s.forEach((o,u)=>{r=r.insert(o,u.overlayedDocument)}),r}))}getOverlayedDocuments(t,n){const i=Xi();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,it()))}populateOverlays(t,n,i){const a=[];return i.forEach(s=>{n.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(t,a).next(s=>{s.forEach((r,o)=>{n.set(r,o)})})}computeViews(t,n,i,a){let s=Pn();const r=Cr(),o=function(){return Cr()}();return n.forEach((u,h)=>{const d=i.get(h.key);a.has(h.key)&&(d===void 0||d.mutation instanceof zi)?s=s.insert(h.key,h):d!==void 0?(r.set(h.key,d.mutation.getFieldMask()),Dr(d.mutation,h,d.mutation.getFieldMask(),bt.now())):r.set(h.key,Ve.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,d)=>r.set(h,d)),n.forEach((h,d)=>o.set(h,new DR(d,r.get(h)??null))),o))}recalculateAndSaveOverlays(t,n){const i=Cr();let a=new Dt((r,o)=>r-o),s=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(r=>{for(const o of r)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Ve.empty();d=o.applyToLocalView(h,d),i.set(u,d);const g=(a.get(o.batchId)||it()).add(u);a=a.insert(o.batchId,g)})}).next(()=>{const r=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,d=u.value,g=VE();d.forEach(m=>{if(!s.has(m)){const v=LE(n.get(m),i.get(m));v!==null&&g.set(m,v),s=s.add(m)}}),r.push(this.documentOverlayCache.saveOverlays(t,h,g))}return U.waitFor(r)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,a){return Nw(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Vw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next(s=>{const r=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-s.size):U.resolve(Xi());let o=Qr,u=s;return r.next(h=>U.forEach(h,(d,g)=>(o<g.largestBatchId&&(o=g.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(t,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,it())).next(d=>({batchId:o,changes:NE(d)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let a=lr();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const s=n.collectionGroup;let r=lr();return this.indexManager.getCollectionParents(t,s).next(o=>U.forEach(o,u=>{const h=function(g,m){return new xu(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,a).next(d=>{d.forEach((g,m)=>{r=r.insert(g,m)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,n,i,a){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,a))).next(r=>{s.forEach((u,h)=>{const d=h.getKey();r.get(d)===null&&(r=r.insert(d,he.newInvalidDocument(d)))});let o=lr();return r.forEach((u,h)=>{const d=s.get(u);d!==void 0&&Dr(d.mutation,h,Ve.empty(),bt.now()),Vu(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return U.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:fn(a.createTime)}}(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(a){return{name:a.name,query:vR(a.bundledQuery),readTime:fn(a.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.overlays=new Dt(G.comparator),this.Lr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Xi();return U.forEach(n,a=>this.getOverlay(t,a).next(s=>{s!==null&&i.set(a,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((a,s)=>{this.bt(t,n,s)}),U.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(i)),U.resolve()}getOverlaysForCollection(t,n,i){const a=Xi(),s=n.length+1,r=new G(n.child("")),o=this.overlays.getIteratorFrom(r);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&a.set(u.getKey(),u)}return U.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let s=new Dt((h,d)=>h-d);const r=this.overlays.getIterator();for(;r.hasNext();){const h=r.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=s.get(h.largestBatchId);d===null&&(d=Xi(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const o=Xi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>o.set(h,d)),!(o.size()>=a)););return U.resolve(o)}bt(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const r=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,r)}this.overlays=this.overlays.insert(i.key,new Xw(n,i));let s=this.Lr.get(n);s===void 0&&(s=it(),this.Lr.set(n,s)),this.Lr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.sessionToken=re.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.kr=new Ft(Xt.Kr),this.qr=new Ft(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new Xt(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new Xt(t,n))}Qr(t,n){t.forEach(i=>this.removeReference(i,n))}Gr(t){const n=new G(new St([])),i=new Xt(n,t),a=new Xt(n,t+1),s=[];return this.qr.forEachInRange([i,a],r=>{this.Wr(r),s.push(r.key)}),s}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new G(new St([])),i=new Xt(n,t),a=new Xt(n,t+1);let s=it();return this.qr.forEachInRange([i,a],r=>{s=s.add(r.key)}),s}containsKey(t){const n=new Xt(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Xt{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return G.comparator(t.key,n.key)||nt(t.Hr,n.Hr)}static Ur(t,n){return nt(t.Hr,n.Hr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Xt.Kr)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new Kw(s,n,i,a);this.mutationQueue.push(r);for(const o of a)this.Jr=this.Jr.add(new Xt(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return U.resolve(r)}lookupMutationBatch(t,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.Xr(i),s=a<0?0:a;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Dd:this.Yn-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Xt(n,0),a=new Xt(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([i,a],r=>{const o=this.Zr(r.Hr);s.push(o)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ft(nt);return n.forEach(a=>{const s=new Xt(a,0),r=new Xt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,r],o=>{i=i.add(o.Hr)})}),U.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const r=new Xt(new G(s),0);let o=new Ft(nt);return this.Jr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===a&&(o=o.add(u.Hr)),!0)},r),U.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(i=>{const a=this.Zr(i);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){ht(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return U.forEach(n.mutations,a=>{const s=new Xt(a.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Jr=i})}nr(t){}containsKey(t,n){const i=new Xt(n,0),a=this.Jr.firstAfterOrEqual(i);return U.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t){this.ti=t,this.docs=function(){return new Dt(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),s=a?a.size:0,r=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:r}),this.size+=r-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():he.newInvalidDocument(n))}getEntries(t,n){let i=Pn();return n.forEach(a=>{const s=this.docs.get(a);i=i.insert(a,s?s.document.mutableCopy():he.newInvalidDocument(a))}),U.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let s=Pn();const r=n.path,o=new G(r.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!r.isPrefixOf(h.path))break;h.path.length>r.length+1||rw(sw(d),i)<=0||(a.has(d.key)||Vu(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(t,n,i,a){Q(9500)}ni(t,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new zR(this)}getSize(t){return U.resolve(this.size)}}class zR extends CR{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)}),U.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t){this.persistence=t,this.ri=new ga(n=>Vd(n),Id),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.ii=0,this.si=new Bd,this.targetCount=0,this.oi=ms._r()}forEachTarget(t,n){return this.ri.forEach((i,a)=>n(a)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),U.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ms(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.lr(n),U.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,i){let a=0;const s=[];return this.ri.forEach((r,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.ri.delete(r),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),U.waitFor(s).next(()=>a)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return U.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),U.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach(r=>{s.push(a.markPotentiallyOrphaned(t,r))}),U.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return U.resolve(i)}containsKey(t,n){return U.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,n){this._i={},this.overlays={},this.ai=new Ru(0),this.ui=!1,this.ui=!0,this.ci=new IR,this.referenceDelegate=t(this),this.li=new UR(this),this.indexManager=new ER,this.remoteDocumentCache=function(a){return new OR(a)}(i=>this.referenceDelegate.hi(i)),this.serializer=new _R(n),this.Pi=new NR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new VR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new MR(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const a=new LR(this.ai.next());return this.referenceDelegate.Ti(),i(a).next(s=>this.referenceDelegate.Ii(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ei(t,n){return U.or(Object.values(this._i).map(i=>()=>i.containsKey(t,n)))}}class LR extends ow{constructor(t){super(),this.currentSequenceNumber=t}}class kd{constructor(t){this.persistence=t,this.Ri=new Bd,this.Ai=null}static Vi(t){return new kd(t)}get di(){if(this.Ai)return this.Ai;throw Q(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),U.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),U.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(s=>this.di.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,i=>{const a=G.fromPath(i);return this.mi(t,a).next(s=>{s||n.removeEntry(a,Y.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class iu{constructor(t,n){this.persistence=t,this.fi=new ga(i=>hw(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=RR(this,n)}static Vi(t,n){return new iu(t,n)}Ti(){}Ii(t){return U.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(a=>i+a))}pr(t){let n=0;return this.mr(t,i=>{n++}).next(()=>n)}mr(t,n){return U.forEach(this.fi,(i,a)=>this.wr(t,i,a).next(s=>s?U.resolve():n(a)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ni(t,r=>this.wr(t,r,n).next(o=>{o||(i++,s.removeEntry(r,Y.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),U.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),U.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),U.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=co(t.data.value)),n}wr(t,n,i){return U.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return U.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=a}static Es(t,n){let i=it(),a=it();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new Pd(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return Rb()?8:uw(bb())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,a){const s={result:null};return this.gs(t,n).next(r=>{s.result=r}).next(()=>{if(!s.result)return this.ps(t,n,a,i).next(r=>{s.result=r})}).next(()=>{if(s.result)return;const r=new jR;return this.ys(t,n,r).next(o=>{if(s.result=o,this.As)return this.ws(t,n,r,o.size)})}).next(()=>s.result)}ws(t,n,i,a){return i.documentReadCount<this.Vs?(Ra()<=lt.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Ra()<=lt.DEBUG&&q("QueryEngine","Query:",Ca(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Ra()<=lt.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hn(n))):U.resolve())}gs(t,n){if(ay(n))return U.resolve(null);let i=hn(n);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=hf(n,null,"F"),i=hn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const r=it(...s);return this.fs.getDocuments(t,r).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.bs(n,o);return this.Ss(n,h,r,u.readTime)?this.gs(t,hf(n,null,"F")):this.Ds(t,h,n,u)}))})))}ps(t,n,i,a){return ay(n)||a.isEqual(Y.min())?U.resolve(null):this.fs.getDocuments(t,i).next(s=>{const r=this.bs(n,s);return this.Ss(n,r,i,a)?U.resolve(null):(Ra()<=lt.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ca(n)),this.Ds(t,r,n,aw(a,Qr)).next(o=>o))})}bs(t,n){let i=new Ft(DE(t));return n.forEach((a,s)=>{Vu(t,s)&&(i=i.add(s))}),i}Ss(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}ys(t,n,i){return Ra()<=lt.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.fs.getDocumentsMatchingQuery(t,n,Ri.min(),i)}Ds(t,n,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next(s=>(n.forEach(r=>{s=s.insert(r.key,r)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="LocalStore",kR=3e8;class PR{constructor(t,n,i,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new Dt(nt),this.Fs=new ga(s=>Vd(s),Id),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function qR(e,t,n,i){return new PR(e,t,n,i)}async function $E(e,t){const n=K(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(s=>(a=s,n.Os(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const r=[],o=[];let u=it();for(const h of a){r.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of s){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Ns:h,removedBatchIds:r,addedBatchIds:o}))})})}function HR(e,t){const n=K(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,u,h,d){const g=h.batch,m=g.keys();let v=U.resolve();return m.forEach(D=>{v=v.next(()=>d.getEntry(u,D)).next(M=>{const L=h.docVersions.get(D);ht(L!==null,48541),M.version.compareTo(L)<0&&(g.applyToRemoteDocument(M,h),M.isValidDocument()&&(M.setReadTime(h.commitVersion),d.addEntry(M)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(u,g))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=it();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,a))})}function WE(e){const t=K(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function GR(e,t){const n=K(e),i=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const r=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const o=[];t.targetChanges.forEach((d,g)=>{const m=a.get(g);if(!m)return;o.push(n.li.removeMatchingKeys(s,d.removedDocuments,g).next(()=>n.li.addMatchingKeys(s,d.addedDocuments,g)));let v=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(g)!==null?v=v.withResumeToken(re.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,i)),a=a.insert(g,v),function(M,L,b){return M.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=kR?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,v,d)&&o.push(n.li.updateTargetData(s,v))});let u=Pn(),h=it();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(QR(s,r,t.documentUpdates).next(d=>{u=d.Bs,h=d.Ls})),!i.isEqual(Y.min())){const d=n.li.getLastRemoteSnapshotVersion(s).next(g=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,i));o.push(d)}return U.waitFor(o).next(()=>r.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.vs=a,s))}function QR(e,t,n){let i=it(),a=it();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let r=Pn();return n.forEach((o,u)=>{const h=s.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(Y.min())?(t.removeEntry(o,u.readTime),r=r.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),r=r.insert(o,u)):q(qd,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{Bs:r,Ls:a}})}function FR(e,t){const n=K(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Dd),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function YR(e,t){const n=K(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.li.getTargetData(i,t).next(s=>s?(a=s,U.resolve(a)):n.li.allocateTargetId(i).next(r=>(a=new oi(t,r,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i})}async function pf(e,t,n){const i=K(e),a=i.vs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,r=>i.persistence.referenceDelegate.removeTarget(r,a))}catch(r){if(!Ds(r))throw r;q(qd,`Failed to update sequence numbers for target ${t}: ${r}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function yy(e,t,n){const i=K(e);let a=Y.min(),s=it();return i.persistence.runTransaction("Execute query","readwrite",r=>function(u,h,d){const g=K(u),m=g.Fs.get(d);return m!==void 0?U.resolve(g.vs.get(m)):g.li.getTargetData(h,d)}(i,r,hn(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(r,o.targetId).next(u=>{s=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(r,t,n?a:Y.min(),n?s:it())).next(o=>(KR(i,Mw(t),o),{documents:o,ks:s})))}function KR(e,t,n){let i=e.Ms.get(t)||Y.min();n.forEach((a,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Ms.set(t,i)}class _y{constructor(){this.activeTargetIds=Bw()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XR{constructor(){this.vo=new _y,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new _y,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="ConnectivityMonitor";class Ey{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q(vy,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){q(vy,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl=null;function yf(){return Yl===null?Yl=function(){return 268435456+Math.round(2147483648*Math.random())}():Yl++,"0x"+Yl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th="RestConnection",JR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class $R{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Zo?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,n,i,a,s){const r=yf(),o=this.Qo(t,n.toUriEncodedString());q(th,`Sending RPC '${t}' ${r}:`,o,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,a,s);const{host:h}=new URL(o),d=Sd(h);return this.zo(t,o,u,i,d).then(g=>(q(th,`Received RPC '${t}' ${r}: `,g),g),g=>{throw cs(th,`RPC '${t}' ${r} failed with error: `,g,"url: ",o,"request:",i),g})}jo(t,n,i,a,s,r){return this.Wo(t,n,i,a,s)}Go(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>t[s]=a),i&&i.headers.forEach((a,s)=>t[s]=a)}Qo(t,n){const i=JR[t];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue="WebChannelConnection",Ws=(e,t,n)=>{e.listen(t,i=>{try{n(i)}catch(a){setTimeout(()=>{throw a},0)}})};class Za extends $R{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Za.c_){const t=sE();Ws(t,aE.STAT_EVENT,n=>{n.stat===sf.PROXY?q(ue,"STAT_EVENT: detected buffering proxy"):n.stat===sf.NOPROXY&&q(ue,"STAT_EVENT: detected no buffering proxy")}),Za.c_=!0}}zo(t,n,i,a,s){const r=yf();return new Promise((o,u)=>{const h=new nE;h.setWithCredentials(!0),h.listenOnce(iE.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case uo.NO_ERROR:const g=h.getResponseJson();q(ue,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(g)),o(g);break;case uo.TIMEOUT:q(ue,`RPC '${t}' ${r} timed out`),u(new H(j.DEADLINE_EXCEEDED,"Request time out"));break;case uo.HTTP_ERROR:const m=h.getStatus();if(q(ue,`RPC '${t}' ${r} failed with status:`,m,"response text:",h.getResponseText()),m>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const D=v==null?void 0:v.error;if(D&&D.status&&D.message){const M=function(b){const T=b.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(T)>=0?T:j.UNKNOWN}(D.status);u(new H(M,D.message))}else u(new H(j.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new H(j.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:t,streamId:r,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{q(ue,`RPC '${t}' ${r} completed.`)}});const d=JSON.stringify(a);q(ue,`RPC '${t}' ${r} sending request:`,a),h.send(n,"POST",d,i,15)})}T_(t,n,i){const a=yf(),s=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,i),o.encodeInitMessageHeaders=!0;const h=s.join("");q(ue,`Creating RPC '${t}' stream ${a}: ${h}`,o);const d=r.createWebChannel(h,o);this.I_(d);let g=!1,m=!1;const v=new WR({Ho:D=>{m?q(ue,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(g||(q(ue,`Opening RPC '${t}' stream ${a} transport.`),d.open(),g=!0),q(ue,`RPC '${t}' stream ${a} sending:`,D),d.send(D))},Jo:()=>d.close()});return Ws(d,rr.EventType.OPEN,()=>{m||(q(ue,`RPC '${t}' stream ${a} transport opened.`),v.i_())}),Ws(d,rr.EventType.CLOSE,()=>{m||(m=!0,q(ue,`RPC '${t}' stream ${a} transport closed`),v.o_(),this.E_(d))}),Ws(d,rr.EventType.ERROR,D=>{m||(m=!0,cs(ue,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),v.o_(new H(j.UNAVAILABLE,"The operation could not be completed")))}),Ws(d,rr.EventType.MESSAGE,D=>{var M;if(!m){const L=D.data[0];ht(!!L,16349);const b=L,T=(b==null?void 0:b.error)||((M=b[0])==null?void 0:M.error);if(T){q(ue,`RPC '${t}' stream ${a} received error:`,T);const A=T.status;let C=function(_){const y=Ut[_];if(y!==void 0)return BE(y)}(A),z=T.message;C===void 0&&(C=j.INTERNAL,z="Unknown error status: "+A+" with message "+T.message),m=!0,v.o_(new H(C,z)),d.close()}else q(ue,`RPC '${t}' stream ${a} received:`,L),v.__(L)}}),Za.u_(),setTimeout(()=>{v.s_()},0),v}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return rE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(e){return new Za(e)}function eh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(e){return new aR(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za.c_=!1;class t1{constructor(t,n,i=1e3,a=1.5,s=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=a,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&q("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="PersistentStream";class e1{constructor(t,n,i,a,s,r,o,u){this.Ci=t,this.b_=i,this.S_=a,this.connection=s,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===n&&this.G_(i,a)},i=>{t(()=>{const a=new H(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.H_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return q(Ty,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(q(Ty,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eC extends e1{constructor(t,n,i,a,s,r){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,r),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=lR(this.serializer,t),i=function(s){if(!("targetChange"in s))return Y.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?Y.min():r.readTime?fn(r.readTime):Y.min()}(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=gf(this.serializer),n.addTarget=function(s,r){let o;const u=r.target;if(o=cf(u)?{documents:cR(s,u)}:{query:hR(s,u).ft},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0){o.resumeToken=qE(s,r.resumeToken);const h=ff(s,r.expectedCount);h!==null&&(o.expectedCount=h)}else if(r.snapshotVersion.compareTo(Y.min())>0){o.readTime=nu(s,r.snapshotVersion.toTimestamp());const h=ff(s,r.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const i=dR(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=gf(this.serializer),n.removeTarget=t,this.K_(n)}}class nC extends e1{constructor(t,n,i,a,s,r){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,r),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=uR(t.writeResults,t.commitTime),i=fn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=gf(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>oR(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{}class aC extends iC{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new H(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.Wo(t,df(n,i),a,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(j.UNKNOWN,s.toString())})}jo(t,n,i,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.jo(t,df(n,i),a,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(j.UNKNOWN,r.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function sC(e,t,n,i){return new aC(e,t,n,i)}class rC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class lC{constructor(t,n,i,a,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(r=>{i.enqueueAndForget(async()=>{pa(this)&&(q(ua,"Restarting streams for network reachability change."),await async function(u){const h=K(u);h.Ea.add(4),await dl(h),h.Va.set("Unknown"),h.Ea.delete(4),await Uu(h)}(this))})}),this.Va=new rC(i,a)}}async function Uu(e){if(pa(e))for(const t of e.Ra)await t(!0)}async function dl(e){for(const t of e.Ra)await t(!1)}function n1(e,t){const n=K(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Fd(n)?Qd(n):xs(n).O_()&&Gd(n,t))}function Hd(e,t){const n=K(e),i=xs(n);n.Ia.delete(t),i.O_()&&i1(n,t),n.Ia.size===0&&(i.O_()?i.L_():pa(n)&&n.Va.set("Unknown"))}function Gd(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Y.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xs(e).Z_(t)}function i1(e,t){e.da.$e(t),xs(e).X_(t)}function Qd(e){e.da=new tR({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),xs(e).start(),e.Va.ua()}function Fd(e){return pa(e)&&!xs(e).x_()&&e.Ia.size>0}function pa(e){return K(e).Ea.size===0}function a1(e){e.da=void 0}async function oC(e){e.Va.set("Online")}async function uC(e){e.Ia.forEach((t,n)=>{Gd(e,t)})}async function cC(e,t){a1(e),Fd(e)?(e.Va.ha(t),Qd(e)):e.Va.set("Unknown")}async function hC(e,t,n){if(e.Va.set("Online"),t instanceof PE&&t.state===2&&t.cause)try{await async function(a,s){const r=s.cause;for(const o of s.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,r),a.Ia.delete(o),a.da.removeTarget(o))}(e,t)}catch(i){q(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await au(e,i)}else if(t instanceof mo?e.da.Xe(t):t instanceof kE?e.da.st(t):e.da.tt(t),!n.isEqual(Y.min()))try{const i=await WE(e.localStore);n.compareTo(i)>=0&&await function(s,r){const o=s.da.Tt(r);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.Ia.get(h);d&&s.Ia.set(h,d.withResumeToken(u.resumeToken,r))}}),o.targetMismatches.forEach((u,h)=>{const d=s.Ia.get(u);if(!d)return;s.Ia.set(u,d.withResumeToken(re.EMPTY_BYTE_STRING,d.snapshotVersion)),i1(s,u);const g=new oi(d.target,u,h,d.sequenceNumber);Gd(s,g)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){q(ua,"Failed to raise snapshot:",i),await au(e,i)}}async function au(e,t,n){if(!Ds(t))throw t;e.Ea.add(1),await dl(e),e.Va.set("Offline"),n||(n=()=>WE(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(ua,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Uu(e)})}function s1(e,t){return t().catch(n=>au(e,n,t))}async function Lu(e){const t=K(e),n=Ni(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Dd;for(;fC(t);)try{const a=await FR(t.localStore,i);if(a===null){t.Ta.length===0&&n.L_();break}i=a.batchId,dC(t,a)}catch(a){await au(t,a)}r1(t)&&l1(t)}function fC(e){return pa(e)&&e.Ta.length<10}function dC(e,t){e.Ta.push(t);const n=Ni(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function r1(e){return pa(e)&&!Ni(e).x_()&&e.Ta.length>0}function l1(e){Ni(e).start()}async function mC(e){Ni(e).ra()}async function gC(e){const t=Ni(e);for(const n of e.Ta)t.ea(n.mutations)}async function pC(e,t,n){const i=e.Ta.shift(),a=Ud.from(i,t,n);await s1(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Lu(e)}async function yC(e,t){t&&Ni(e).Y_&&await async function(i,a){if(function(r){return Jw(r)&&r!==j.ABORTED}(a.code)){const s=i.Ta.shift();Ni(i).B_(),await s1(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,a)),await Lu(i)}}(e,t),r1(e)&&l1(e)}async function Ay(e,t){const n=K(e);n.asyncQueue.verifyOperationInProgress(),q(ua,"RemoteStore received new credentials");const i=pa(n);n.Ea.add(3),await dl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Uu(n)}async function _C(e,t){const n=K(e);t?(n.Ea.delete(2),await Uu(n)):t||(n.Ea.add(2),await dl(n),n.Va.set("Unknown"))}function xs(e){return e.ma||(e.ma=function(n,i,a){const s=K(n);return s.sa(),new eC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Zo:oC.bind(null,e),Yo:uC.bind(null,e),t_:cC.bind(null,e),J_:hC.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),Fd(e)?Qd(e):e.Va.set("Unknown")):(await e.ma.stop(),a1(e))})),e.ma}function Ni(e){return e.fa||(e.fa=function(n,i,a){const s=K(n);return s.sa(),new nC(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:mC.bind(null,e),t_:yC.bind(null,e),ta:gC.bind(null,e),na:pC.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await Lu(e)):(await e.fa.stop(),e.Ta.length>0&&(q(ua,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t,n,i,a,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=s,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(r=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,s){const r=Date.now()+i,o=new Yd(t,n,r,a,s);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(j.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kd(e,t){if(kn("AsyncQueue",`${t}: ${e}`),Ds(e))return new H(j.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=lr(),this.sortedSet=new Dt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=i.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ja;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.ga=new Dt(G.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Q(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class gs{constructor(t,n,i,a,s,r,o,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=s,this.fromCache=r,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,a,s){const r=[];return n.forEach(o=>{r.push({type:0,doc:o})}),new gs(t,n,Ja.emptySet(n),r,i,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class EC{constructor(){this.queries=by(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=K(n),s=a.queries;a.queries=by(),s.forEach((r,o)=>{for(const u of o.ba)u.onError(i)})})(this,new H(j.ABORTED,"Firestore shutting down"))}}function by(){return new ga(e=>CE(e),Nu)}async function TC(e,t){const n=K(e);let i=3;const a=t.query;let s=n.queries.get(a);s?!s.Sa()&&t.Da()&&(i=2):(s=new vC,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(r){const o=Kd(r,`Initialization of query '${Ca(t.query)}' failed`);return void t.onError(o)}n.queries.set(a,s),s.ba.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Xd(n)}async function AC(e,t){const n=K(e),i=t.query;let a=3;const s=n.queries.get(i);if(s){const r=s.ba.indexOf(t);r>=0&&(s.ba.splice(r,1),s.ba.length===0?a=t.Da()?0:1:!s.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function SC(e,t){const n=K(e);let i=!1;for(const a of t){const s=a.query,r=n.queries.get(s);if(r){for(const o of r.ba)o.Fa(a)&&(i=!0);r.wa=a}}i&&Xd(n)}function bC(e,t,n){const i=K(e),a=i.queries.get(t);if(a)for(const s of a.ba)s.onError(n);i.queries.delete(t)}function Xd(e){e.Ca.forEach(t=>{t.next()})}var _f,wy;(wy=_f||(_f={})).Ma="default",wy.Cache="cache";class wC{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new gs(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=gs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t){this.key=t}}class u1{constructor(t){this.key=t}}class RC{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=it(),this.mutatedKeys=it(),this.eu=DE(t),this.tu=new Ja(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new Sy,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,r=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((d,g)=>{const m=a.get(d),v=Vu(this.query,g)?g:null,D=!!m&&this.mutatedKeys.has(m.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let L=!1;m&&v?m.data.isEqual(v.data)?D!==M&&(i.track({type:3,doc:v}),L=!0):this.su(m,v)||(i.track({type:2,doc:v}),L=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(o=!0)):!m&&v?(i.track({type:0,doc:v}),L=!0):m&&!v&&(i.track({type:1,doc:m}),L=!0,(u||h)&&(o=!0)),L&&(v?(r=r.add(v),s=M?s.add(d):s.delete(d)):(r=r.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;r.size>this.query.limit;){const d=this.query.limitType==="F"?r.last():r.first();r=r.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{tu:r,iu:i,Ss:o,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const r=t.iu.ya();r.sort((d,g)=>function(v,D){const M=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Vt:L})}};return M(v)-M(D)}(d.type,g.type)||this.eu(d.doc,g.doc)),this.ou(i),a=a??!1;const o=n&&!a?this._u():[],u=this.Ya.size===0&&this.current&&!a?1:0,h=u!==this.Xa;return this.Xa=u,r.length!==0||h?{snapshot:new gs(this.query,t.tu,s,r,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sy,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=it(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new u1(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new o1(i))}),n}cu(t){this.Za=t.ks,this.Ya=it();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return gs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zd="SyncEngine";class CC{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class DC{constructor(t){this.key=t,this.hu=!1}}class xC{constructor(t,n,i,a,s,r){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=r,this.Pu={},this.Tu=new ga(o=>CE(o),Nu),this.Iu=new Map,this.Eu=new Set,this.Ru=new Dt(G.comparator),this.Au=new Map,this.Vu=new Bd,this.du={},this.mu=new Map,this.fu=ms.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NC(e,t,n=!0){const i=g1(e);let a;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await c1(i,t,n,!0),a}async function VC(e,t){const n=g1(e);await c1(n,t,!0,!1)}async function c1(e,t,n,i){const a=await YR(e.localStore,hn(t)),s=a.targetId,r=e.sharedClientState.addLocalQueryTarget(s,n);let o;return i&&(o=await IC(e,t,s,r==="current",a.resumeToken)),e.isPrimaryClient&&n&&n1(e.remoteStore,a),o}async function IC(e,t,n,i,a){e.pu=(g,m,v)=>async function(M,L,b,T){let A=L.view.ru(b);A.Ss&&(A=await yy(M.localStore,L.query,!1).then(({documents:_})=>L.view.ru(_,A)));const C=T&&T.targetChanges.get(L.targetId),z=T&&T.targetMismatches.get(L.targetId)!=null,B=L.view.applyChanges(A,M.isPrimaryClient,C,z);return Cy(M,L.targetId,B.au),B.snapshot}(e,g,m,v);const s=await yy(e.localStore,t,!0),r=new RC(t,s.ks),o=r.ru(s.documents),u=fl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),h=r.applyChanges(o,e.isPrimaryClient,u);Cy(e,n,h.au);const d=new CC(t,n,r);return e.Tu.set(t,d),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function MC(e,t,n){const i=K(e),a=i.Tu.get(t),s=i.Iu.get(a.targetId);if(s.length>1)return i.Iu.set(a.targetId,s.filter(r=>!Nu(r,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await pf(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Hd(i.remoteStore,a.targetId),vf(i,a.targetId)}).catch(Cs)):(vf(i,a.targetId),await pf(i.localStore,a.targetId,!0))}async function OC(e,t){const n=K(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Hd(n.remoteStore,i.targetId))}async function zC(e,t,n){const i=qC(e);try{const a=await function(r,o){const u=K(r),h=bt.now(),d=o.reduce((v,D)=>v.add(D.key),it());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let D=Pn(),M=it();return u.xs.getEntries(v,d).next(L=>{D=L,D.forEach((b,T)=>{T.isValidDocument()||(M=M.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,D)).next(L=>{g=L;const b=[];for(const T of o){const A=Fw(T,g.get(T.key).overlayedDocument);A!=null&&b.push(new zi(T.key,A,EE(A.value.mapValue),tn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,b,o)}).next(L=>{m=L;const b=L.applyToLocalDocumentSet(g,M);return u.documentOverlayCache.saveOverlays(v,L.batchId,b)})}).then(()=>({batchId:m.batchId,changes:NE(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(r,o,u){let h=r.du[r.currentUser.toKey()];h||(h=new Dt(nt)),h=h.insert(o,u),r.du[r.currentUser.toKey()]=h}(i,a.batchId,n),await ml(i,a.changes),await Lu(i.remoteStore)}catch(a){const s=Kd(a,"Failed to persist write");n.reject(s)}}async function h1(e,t){const n=K(e);try{const i=await GR(n.localStore,t);t.targetChanges.forEach((a,s)=>{const r=n.Au.get(s);r&&(ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?r.hu=!0:a.modifiedDocuments.size>0?ht(r.hu,14607):a.removedDocuments.size>0&&(ht(r.hu,42227),r.hu=!1))}),await ml(n,i,t)}catch(i){await Cs(i)}}function Ry(e,t,n){const i=K(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach((s,r)=>{const o=r.view.va(t);o.snapshot&&a.push(o.snapshot)}),function(r,o){const u=K(r);u.onlineState=o;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.ba)m.va(o)&&(h=!0)}),h&&Xd(u)}(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function UC(e,t,n){const i=K(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Au.get(t),s=a&&a.key;if(s){let r=new Dt(G.comparator);r=r.insert(s,he.newNoDocument(s,Y.min()));const o=it().add(s),u=new Ou(Y.min(),new Map,new Dt(nt),r,o);await h1(i,u),i.Ru=i.Ru.remove(s),i.Au.delete(t),Jd(i)}else await pf(i.localStore,t,!1).then(()=>vf(i,t,n)).catch(Cs)}async function LC(e,t){const n=K(e),i=t.batch.batchId;try{const a=await HR(n.localStore,t);d1(n,i,null),f1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ml(n,a)}catch(a){await Cs(a)}}async function jC(e,t,n){const i=K(e);try{const a=await function(r,o){const u=K(r);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,o).next(g=>(ht(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,t);d1(i,t,n),f1(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await ml(i,a)}catch(a){await Cs(a)}}function f1(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function d1(e,t,n){const i=K(e);let a=i.du[i.currentUser.toKey()];if(a){const s=a.get(t);s&&(n?s.reject(n):s.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function vf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(i=>{e.Vu.containsKey(i)||m1(e,i)})}function m1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Hd(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Jd(e))}function Cy(e,t,n){for(const i of n)i instanceof o1?(e.Vu.addReference(i.key,t),BC(e,i)):i instanceof u1?(q(Zd,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||m1(e,i.key)):Q(19791,{wu:i})}function BC(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(q(Zd,"New document in limbo: "+n),e.Eu.add(i),Jd(e))}function Jd(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new G(St.fromString(t)),i=e.fu.next();e.Au.set(i,new DC(n)),e.Ru=e.Ru.insert(n,i),n1(e.remoteStore,new oi(hn(Md(n.path)),i,"TargetPurposeLimboResolution",Ru.ce))}}async function ml(e,t,n){const i=K(e),a=[],s=[],r=[];i.Tu.isEmpty()||(i.Tu.forEach((o,u)=>{r.push(i.pu(u,t,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){a.push(h);const g=Pd.Es(u.targetId,h);s.push(g)}}))}),await Promise.all(r),i.Pu.J_(a),await async function(u,h){const d=K(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>U.forEach(h,m=>U.forEach(m.Ts,v=>d.persistence.referenceDelegate.addReference(g,m.targetId,v)).next(()=>U.forEach(m.Is,v=>d.persistence.referenceDelegate.removeReference(g,m.targetId,v)))))}catch(g){if(!Ds(g))throw g;q(qd,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const v=d.vs.get(m),D=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(D);d.vs=d.vs.insert(m,M)}}}(i.localStore,s))}async function kC(e,t){const n=K(e);if(!n.currentUser.isEqual(t)){q(Zd,"User change. New user:",t.toKey());const i=await $E(n.localStore,t);n.currentUser=t,function(s,r){s.mu.forEach(o=>{o.forEach(u=>{u.reject(new H(j.CANCELLED,r))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ml(n,i.Ns)}}function PC(e,t){const n=K(e),i=n.Au.get(t);if(i&&i.hu)return it().add(i.key);{let a=it();const s=n.Iu.get(t);if(!s)return a;for(const r of s){const o=n.Tu.get(r);a=a.unionWith(o.view.nu)}return a}}function g1(e){const t=K(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UC.bind(null,t),t.Pu.J_=SC.bind(null,t.eventManager),t.Pu.yu=bC.bind(null,t.eventManager),t}function qC(e){const t=K(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jC.bind(null,t),t}class su{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return qR(this.persistence,new BR,t.initialUser,this.serializer)}Cu(t){return new JE(kd.Vi,this.serializer)}Du(t){return new XR}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}su.provider={build:()=>new su};class HC extends su{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ht(this.persistence.referenceDelegate instanceof iu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bR(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Te.withCacheSize(this.cacheSizeBytes):Te.DEFAULT;return new JE(i=>iu.Vi(i,n),this.serializer)}}class Ef{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ry(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kC.bind(null,this.syncEngine),await _C(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new EC}()}createDatastore(t){const n=zu(t.databaseInfo.databaseId),i=tC(t.databaseInfo);return sC(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,a,s,r,o){return new lC(i,a,s,r,o)}(this.localStore,this.datastore,t.asyncQueue,n=>Ry(this.syncEngine,n,0),function(){return Ey.v()?new Ey:new ZR}())}createSyncEngine(t,n){return function(a,s,r,o,u,h,d){const g=new xC(a,s,r,o,u,h);return d&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const s=K(a);q(ua,"RemoteStore shutting down."),s.Ea.add(5),await dl(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Ef.provider={build:()=>new Ef};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):kn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class QC{constructor(t,n,i,a,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=ce.UNAUTHENTICATED,this.clientId=Rd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async r=>{q(Vi,"Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(q(Vi,"Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Kd(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function nh(e,t){e.asyncQueue.verifyOperationInProgress(),q(Vi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async a=>{i.isEqual(a)||(await $E(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Dy(e,t){e.asyncQueue.verifyOperationInProgress();const n=await FC(e);q(Vi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>Ay(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,a)=>Ay(t.remoteStore,a)),e._onlineComponents=t}async function FC(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(Vi,"Using user provided OfflineComponentProvider");try{await nh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===j.FAILED_PRECONDITION||a.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),await nh(e,new su)}}else q(Vi,"Using default OfflineComponentProvider"),await nh(e,new HC(void 0));return e._offlineComponents}async function p1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(Vi,"Using user provided OnlineComponentProvider"),await Dy(e,e._uninitializedComponentsProvider._online)):(q(Vi,"Using default OnlineComponentProvider"),await Dy(e,new Ef))),e._onlineComponents}function YC(e){return p1(e).then(t=>t.syncEngine)}async function xy(e){const t=await p1(e),n=t.eventManager;return n.onListen=NC.bind(null,t.syncEngine),n.onUnlisten=MC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=VC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=OC.bind(null,t.syncEngine),n}function KC(e,t,n,i){const a=new GC(i),s=new wC(t,a,n);return e.asyncQueue.enqueueAndForget(async()=>TC(await xy(e),s)),()=>{a.Nu(),e.asyncQueue.enqueueAndForget(async()=>AC(await xy(e),s))}}function XC(e,t){const n=new ea;return e.asyncQueue.enqueueAndForget(async()=>zC(await YC(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="ComponentProvider",Ny=new Map;function JC(e,t,n,i,a){return new mw(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,y1(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firestore.googleapis.com",Vy=!0;class Iy{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new H(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_1,this.ssl=Vy}else this.host=t.host,this.ssl=t.ssl??Vy;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ZE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AR)throw new H(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new H(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ju{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new H(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Y2;switch(i.type){case"firstParty":return new J2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Ny.get(n);i&&(q(ZC,"Removing Datastore"),Ny.delete(n),i.terminate())}(this),Promise.resolve()}}function $C(e,t,n,i={}){var h;e=In(e,ju);const a=Sd(t),s=e._getSettings(),r={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;a&&(vb(`https://${o}`),Sb("Firestore",!0)),s.host!==_1&&s.host!==o&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:o,ssl:a,emulatorOptions:i};if(!Fo(u,r)&&(e._setSettings(u),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=ce.MOCK_USER;else{d=Eb(i.mockUserToken,(h=e._app)==null?void 0:h.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new H(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ce(m)}e._authCredentials=new K2(new oE(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Bu(this.firestore,t,this._query)}}class qt{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qt(this.firestore,t,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(cl(n,qt._jsonSchema))return new qt(t,i||null,new G(St.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Pt("string",qt._jsonSchemaVersion),referencePath:Pt("string")};class Ti extends Bu{constructor(t,n,i){super(t,n,Md(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qt(this.firestore,null,new G(t))}withConverter(t){return new Ti(this.firestore,t,this._path)}}function My(e,t,...n){if(e=jn(e),uE("collection","path",t),e instanceof ju){const i=St.fromString(t,...n);return Qp(i),new Ti(e,null,i)}{if(!(e instanceof qt||e instanceof Ti))throw new H(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(St.fromString(t,...n));return Qp(i),new Ti(e.firestore,null,i)}}function An(e,t,...n){if(e=jn(e),arguments.length===1&&(t=Rd.newId()),uE("doc","path",t),e instanceof ju){const i=St.fromString(t,...n);return Gp(i),new qt(e,null,new G(i))}{if(!(e instanceof qt||e instanceof Ti))throw new H(j.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(St.fromString(t,...n));return Gp(i),new qt(e.firestore,e instanceof Ti?e.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="AsyncQueue";class zy{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t1(this,"async_queue_retry"),this._c=()=>{const i=eh();i&&q(Oy,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=eh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=eh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ea;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ds(t))throw t;q(Oy,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,kn("INTERNAL UNHANDLED ERROR: ",Uy(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Yd.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(a),a}uc(){this.nc&&Q(47125,{Pc:Uy(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Uy(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class ps extends ju{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new zy,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new zy(t),this._firestoreClient=void 0,await t}}}function WC(e,t){const n=typeof e=="object"?e:M2(),i=typeof e=="string"?e:Zo,a=D2(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const s=yb("firestore");s&&$C(a,...s)}return a}function v1(e){if(e._terminated)throw new H(j.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||t4(e),e._firestoreClient}function t4(e){var i,a,s,r;const t=e._freezeSettings(),n=JC(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,(a=e._app)==null?void 0:a.options.apiKey,t);e._componentsProvider||(s=t.localCache)!=null&&s._offlineComponentProvider&&((r=t.localCache)!=null&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new QC(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fe(re.fromBase64String(t))}catch(n){throw new H(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fe(re.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Fe._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(cl(t,Fe._jsonSchema))return Fe.fromBase64String(t.bytes)}}Fe._jsonSchemaVersion="firestore/bytes/1.0",Fe._jsonSchema={type:Pt("string",Fe._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return nt(this._lat,t._lat)||nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dn._jsonSchemaVersion}}static fromJSON(t){if(cl(t,dn._jsonSchema))return new dn(t.latitude,t.longitude)}}dn._jsonSchemaVersion="firestore/geoPoint/1.0",dn._jsonSchema={type:Pt("string",dn._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==a[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:en._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(cl(t,en._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new en(t.vectorValues);throw new H(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}en._jsonSchemaVersion="firestore/vectorValue/1.0",en._jsonSchema={type:Pt("string",en._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^__.*__$/;class n4{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new zi(t,this.data,this.fieldMask,n,this.fieldTransforms):new hl(t,this.data,n,this.fieldTransforms)}}class E1{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new zi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function T1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{dataSource:e})}}class tm{constructor(t,n,i,a,s,r){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=r||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new tm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var a;const n=(a=this.path)==null?void 0:a.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var a;const n=(a=this.path)==null?void 0:a.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ru(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(T1(this.dataSource)&&e4.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class i4{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||zu(t)}createContext(t,n,i,a=!1){return new tm({dataSource:t,methodName:n,targetDoc:i,path:ie.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function A1(e){const t=e._freezeSettings(),n=zu(e._databaseId);return new i4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function a4(e,t,n,i,a,s={}){const r=e.createContext(s.merge||s.mergeFields?2:0,t,n,a);em("Data must be an object, but it was:",r,i);const o=S1(i,r);let u,h;if(s.merge)u=new Ve(r.fieldMask),h=r.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const m=Jr(t,g,n);if(!r.contains(m))throw new H(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);R1(d,m)||d.push(m)}u=new Ve(d),h=r.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=r.fieldTransforms;return new n4(new Ae(o),u,h)}class ku extends Wd{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ku}}function s4(e,t,n,i){const a=e.createContext(1,t,n);em("Data must be an object, but it was:",a,i);const s=[],r=Ae.empty();Oi(i,(u,h)=>{const d=w1(t,u,n);h=jn(h);const g=a.childContextForFieldPath(d);if(h instanceof ku)s.push(d);else{const m=Pu(h,g);m!=null&&(s.push(d),r.set(d,m))}});const o=new Ve(s);return new E1(r,o,a.fieldTransforms)}function r4(e,t,n,i,a,s){const r=e.createContext(1,t,n),o=[Jr(t,i,n)],u=[a];if(s.length%2!=0)throw new H(j.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)o.push(Jr(t,s[m])),u.push(s[m+1]);const h=[],d=Ae.empty();for(let m=o.length-1;m>=0;--m)if(!R1(h,o[m])){const v=o[m];let D=u[m];D=jn(D);const M=r.childContextForFieldPath(v);if(D instanceof ku)h.push(v);else{const L=Pu(D,M);L!=null&&(h.push(v),d.set(v,L))}}const g=new Ve(h);return new E1(d,g,r.fieldTransforms)}function Pu(e,t){if(b1(e=jn(e)))return em("Unsupported field value:",t,e),S1(e,t);if(e instanceof Wd)return function(i,a){if(!T1(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(i,a){const s=[];let r=0;for(const o of i){let u=Pu(o,a.childContextForArray(r));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),r++}return{arrayValue:{values:s}}}(e,t)}return function(i,a){if((i=jn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return kw(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=bt.fromDate(i);return{timestampValue:nu(a.serializer,s)}}if(i instanceof bt){const s=new bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nu(a.serializer,s)}}if(i instanceof dn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Fe)return{bytesValue:qE(a.serializer,i._byteString)};if(i instanceof qt){const s=a.databaseId,r=i.firestore._databaseId;if(!r.isEqual(s))throw a.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jd(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof en)return function(r,o){const u=r instanceof en?r.toArray():r;return{mapValue:{fields:{[_E]:{stringValue:vE},[Jo]:{arrayValue:{values:u.map(d=>{if(typeof d!="number")throw o.createError("VectorValues must only contain numeric values.");return Od(o.serializer,d)})}}}}}}(i,a);if(XE(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Cd(i)}`)}(e,t)}function S1(e,t){const n={};return fE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oi(e,(i,a)=>{const s=Pu(a,t.childContextForField(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function b1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof bt||e instanceof dn||e instanceof Fe||e instanceof qt||e instanceof Wd||e instanceof en||XE(e))}function em(e,t,n){if(!b1(n)||!cE(n)){const i=Cd(n);throw i==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function Jr(e,t,n){if((t=jn(t))instanceof $d)return t._internalPath;if(typeof t=="string")return w1(e,t);throw ru("Field path arguments must be of type string or ",e,!1,void 0,n)}const l4=new RegExp("[~\\*/\\[\\]]");function w1(e,t,n){if(t.search(l4)>=0)throw ru(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new $d(...t.split("."))._internalPath}catch{throw ru(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ru(e,t,n,i,a){const s=i&&!i.isEmpty(),r=a!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(s||r)&&(u+=" (found",s&&(u+=` in field ${i}`),r&&(u+=` in document ${a}`),u+=")"),new H(j.INVALID_ARGUMENT,o+e+u)}function R1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{convertValue(t,n="none"){switch(xi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return It(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Di(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Q(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Oi(t,(a,s)=>{i[a]=this.convertValue(s,n)}),i}convertVectorValue(t){var i,a,s;const n=(s=(a=(i=t.fields)==null?void 0:i[Jo].arrayValue)==null?void 0:a.values)==null?void 0:s.map(r=>It(r.doubleValue));return new en(n)}convertGeoPoint(t){return new dn(It(t.latitude),It(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Du(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Fr(t));default:return null}}convertTimestamp(t){const n=Ci(t);return new bt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=St.fromString(t);ht(KE(i),9688,{name:t});const a=new Yr(i.get(1),i.get(3)),s=new G(i.popFirst(5));return a.isEqual(n)||kn(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends o4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fe(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qt(this.firestore,null,n)}}const Ly="@firebase/firestore",jy="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const s of i)if(s in a&&typeof a[s]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(t,n,i,a,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new u4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(Jr("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u4 extends D1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new H(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function h4(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class ur{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class na extends D1{constructor(t,n,i,a,s,r){super(t,n,i,a,r),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new go(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Jr("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Pt("string",na._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class go extends na{data(t={}){return super.data(t)}}class $a{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new ur(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new go(this._firestore,this._userDataWriter,i.key,i,new ur(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let r=0;return a._snapshot.docChanges.map(o=>{const u=new go(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ur(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:r++}})}{let r=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const u=new go(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ur(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,d=-1;return o.type!==0&&(h=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),d=r.indexOf(o.doc.key)),{type:f4(o.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Rd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function f4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Pt("string",$a._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};function ky(e,t,n){e=In(e,qt);const i=In(e.firestore,ps),a=h4(e.converter,t),s=A1(i);return nm(i,[a4(s,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,tn.none())])}function Py(e,t,n,...i){e=In(e,qt);const a=In(e.firestore,ps),s=A1(a);let r;return r=typeof(t=jn(t))=="string"||t instanceof $d?r4(s,"updateDoc",e._key,t,n,i):s4(s,"updateDoc",e._key,t),nm(a,[r.toMutation(e._key,tn.exists(!0))])}function tr(e){return nm(In(e.firestore,ps),[new zd(e._key,tn.none())])}function qy(e,...t){var h,d,g;e=jn(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||By(t[i])||(n=t[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(By(t[i])){const m=t[i];t[i]=(h=m.next)==null?void 0:h.bind(m),t[i+1]=(d=m.error)==null?void 0:d.bind(m),t[i+2]=(g=m.complete)==null?void 0:g.bind(m)}let s,r,o;if(e instanceof qt)r=In(e.firestore,ps),o=Md(e._key.path),s={next:m=>{t[i]&&t[i](d4(r,e,m))},error:t[i+1],complete:t[i+2]};else{const m=In(e,Bu);r=In(m.firestore,ps),o=m._query;const v=new C1(r);s={next:D=>{t[i]&&t[i](new $a(r,v,m,D))},error:t[i+1],complete:t[i+2]},c4(e._query)}const u=v1(r);return KC(u,o,a,s)}function nm(e,t){const n=v1(e);return XC(n,t)}function d4(e,t,n){const i=n.docs.get(t._key),a=new C1(e);return new na(e,a,t._key,i,new ur(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){F2(I2),Ko(new Hr("firestore",(i,{instanceIdentifier:a,options:s})=>{const r=i.getProvider("app").getImmediate(),o=new ps(new X2(i.getProvider("auth-internal")),new $2(r,i.getProvider("app-check-internal")),gw(r,a),r);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Xa(Ly,jy,t),Xa(Ly,jy,"esm2020")})();const m4={apiKey:"AIzaSyB7oHTGIM61ZIuRqi9fWMqzAzNpgZESlQg",authDomain:"calendar-scheduler-beae1.firebaseapp.com",projectId:"calendar-scheduler-beae1",storageBucket:"calendar-scheduler-beae1.firebasestorage.app",messagingSenderId:"517635746650",appId:"1:517635746650:web:9f6fe403c3b093371f2163"},g4=$0(m4),$e=WC(g4);function p4(){const[e,t]=ct.useState("month"),[n,i]=ct.useState(new Date),[a,s]=ct.useState([]),[r,o]=ct.useState(""),[u,h]=ct.useState({}),[d,g]=ct.useState([]),[m,v]=ct.useState(!0);ct.useEffect(()=>{const C=()=>{window.innerWidth>=768&&v(!1)};return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),ct.useEffect(()=>{const C=qy(My($e,"users"),z=>{const B=z.docs.map(_=>({..._.data(),id:_.id}));s(B),B.length>0&&(!r||!B.find(_=>_.id===r))&&o(B[0].id)});return()=>C()},[]),ct.useEffect(()=>{const C=qy(My($e,"bookings"),z=>{const B={};z.docs.forEach(_=>{B[_.id]=_.data().userIds||[]}),h(B)});return()=>C()},[]);const D=async C=>{const z="u"+Date.now().toString().slice(-6),B={...C,id:z};try{await ky(An($e,"users",z),B),o(z)}catch(_){console.error("Error adding user: ",_)}},M=async(C,z)=>{try{await Py(An($e,"users",C),{color:z})}catch(B){console.error("Error updating user: ",B)}},L=async C=>{if(a.length<=1){alert("Cannot delete the last user.");return}try{if(await tr(An($e,"users",C)),Object.keys(u).forEach(async z=>{if(u[z].includes(C)){const B=u[z].filter(_=>_!==C);B.length===0?await tr(An($e,"bookings",z)):await Py(An($e,"bookings",z),{userIds:B})}}),r===C){const z=a.find(B=>B.id!==C);z&&o(z.id)}}catch(z){console.error("Error deleting user: ",z)}},b=async C=>{const z=u[C]||[],B=z.includes(r);let _;B?_=z.filter(y=>y!==r):_=[...z,r];try{_.length===0?await tr(An($e,"bookings",C)):await ky(An($e,"bookings",C),{userIds:_})}catch(y){console.error("Error updating booking: ",y)}},T=C=>{i(z=>{const B=new Date(z);return e==="month"?B.setMonth(B.getMonth()+C,1):e==="week"?B.setDate(B.getDate()+C*7):e==="3day"&&B.setDate(B.getDate()+C*3),B})},A=()=>{const C=n.getFullYear(),z=n.toLocaleString("default",{month:"long"});if(e==="month")return`${z} ${C}`;const B=new Date(n);if(e==="week"){const R=B.getDay();B.setDate(B.getDate()-R)}const _=new Date(B),y=e==="week"?6:2;_.setDate(B.getDate()+y);const E=B.toLocaleString("default",{month:"short"}),w=_.toLocaleString("default",{month:"short"});return E===w?`${E} ${B.getDate()} - ${_.getDate()}`:`${E} ${B.getDate()} - ${w} ${_.getDate()}`};return N.jsxs("div",{className:"flex h-screen bg-gray-50 text-gray-800 font-sans overflow-hidden",children:[m&&N.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>v(!1)}),N.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-80 bg-white shadow-xl flex flex-col p-6 border-r border-gray-100 transition-transform duration-300 ease-in-out
        md:relative md:translate-x-0
        ${m?"translate-x-0":"-translate-x-full"}
      `,children:[N.jsxs("div",{className:"flex items-center justify-between mb-8",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("h1",{className:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Scheduler"}),N.jsx("span",{className:"px-1.5 py-0.5 rounded-md bg-indigo-50 text-[10px] font-bold text-indigo-400 border border-indigo-100",children:"v1.1.1"})]}),N.jsx("button",{onClick:()=>v(!1),className:"md:hidden p-1 text-gray-400 hover:text-gray-600",children:N.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N.jsx("div",{className:"mb-8",children:N.jsx(eb,{users:a,currentUser:r,onAddUser:D,onSelectUser:o,onUpdateUser:M,onDeleteUser:L})}),N.jsxs("div",{className:"flex-1",children:[N.jsxs("div",{className:"flex items-center justify-between mb-3",children:[N.jsx("h2",{className:"text-xs uppercase tracking-wider text-gray-400 font-bold",children:"Summary"}),N.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded",children:"Filter"})]}),N.jsx("div",{className:"mb-4",children:N.jsx(ab,{users:a,selectedUserIds:d,onChange:g})}),N.jsx(ib,{bookings:u,users:a,filterUserIds:d})]}),N.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100",children:N.jsxs("button",{onClick:async()=>{const C=prompt("Enter admin password to reset all data:");if(C==="camelcamel"){if(confirm("Are you ABSOLUTELY sure? This will delete ALL users and bookings permanently."))try{for(const z of Object.keys(u))await tr(An($e,"bookings",z));for(const z of a)await tr(An($e,"users",z.id))}catch(z){console.error("Error resetting data:",z),alert("Error deleting data. Check console.")}}else C!==null&&alert("Incorrect password")},className:"w-full py-2 px-4 bg-red-50 text-red-600 text-xs font-bold uppercase tracking-wider rounded-lg hover:bg-red-100 hover:text-red-700 transition-colors border border-red-100 flex items-center justify-center space-x-2",children:[N.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),N.jsx("span",{children:"Reset Application"})]})})]}),N.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[N.jsxs("header",{className:"flex items-center justify-between px-4 md:px-8 py-5 bg-white border-b border-gray-200",children:[N.jsxs("div",{className:"flex items-center space-x-4",children:[N.jsx("button",{onClick:()=>v(!0),className:"md:hidden p-2 -ml-2 text-gray-500 hover:bg-gray-100 rounded-md",children:N.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),N.jsxs("div",{className:"flex items-center space-x-1",children:[N.jsx("button",{onClick:()=>T(-1),className:"p-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-indigo-600 transition-colors","aria-label":"Previous",children:N.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),N.jsx("button",{onClick:()=>T(1),className:"p-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-indigo-600 transition-colors","aria-label":"Next",children:N.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),N.jsx("h2",{className:"text-sm md:text-xl font-semibold min-w-32 md:min-w-48 text-center select-none truncate",children:A()})]}),N.jsxs("div",{className:"flex space-x-2 bg-gray-100 p-1 rounded-lg",children:[N.jsxs("div",{className:"md:hidden relative",children:[N.jsxs("select",{value:e,onChange:C=>t(C.target.value),className:"appearance-none bg-white text-indigo-600 text-sm font-semibold py-1.5 pl-3 pr-8 rounded-md shadow-sm border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[N.jsx("option",{value:"month",children:"Month"}),N.jsx("option",{value:"week",children:"Week"}),N.jsx("option",{value:"3day",children:"3 Days"})]}),N.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-indigo-600",children:N.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:N.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),N.jsx("div",{className:"hidden md:flex space-x-1",children:[{id:"month",label:"Month"},{id:"week",label:"Week"},{id:"3day",label:"3 Days"}].map(C=>N.jsx("button",{onClick:()=>t(C.id),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${e===C.id?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:C.label},C.id))})]})]}),N.jsx("div",{className:"flex-1 overflow-auto p-8 relative",children:N.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-full p-6",children:N.jsx(rb,{view:e,currentDate:n,bookingsMap:u,onDateClick:b,users:a})})})]})]})}tb.createRoot(document.getElementById("root")).render(N.jsx(ct.StrictMode,{children:N.jsx(p4,{})}));
