(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();var Cv={exports:{}},Au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb=Symbol.for("react.transitional.element"),gb=Symbol.for("react.fragment");function Dv(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:mb,type:e,key:i,ref:t!==void 0?t:null,props:n}}Au.Fragment=gb;Au.jsx=Dv;Au.jsxs=Dv;Cv.exports=Au;var R=Cv.exports,Nv={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=Symbol.for("react.transitional.element"),pb=Symbol.for("react.portal"),yb=Symbol.for("react.fragment"),vb=Symbol.for("react.strict_mode"),_b=Symbol.for("react.profiler"),Eb=Symbol.for("react.consumer"),Tb=Symbol.for("react.context"),bb=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),Ab=Symbol.for("react.memo"),Vv=Symbol.for("react.lazy"),wb=Symbol.for("react.activity"),Ug=Symbol.iterator;function Rb(e){return e===null||typeof e!="object"?null:(e=Ug&&e[Ug]||e["@@iterator"],typeof e=="function"?e:null)}var Iv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mv=Object.assign,Ov={};function wr(e,t,n){this.props=e,this.context=t,this.refs=Ov,this.updater=n||Iv}wr.prototype.isReactComponent={};wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lv(){}Lv.prototype=wr.prototype;function Jf(e,t,n){this.props=e,this.context=t,this.refs=Ov,this.updater=n||Iv}var Wf=Jf.prototype=new Lv;Wf.constructor=Jf;Mv(Wf,wr.prototype);Wf.isPureReactComponent=!0;var jg=Array.isArray;function Ch(){}var xt={H:null,A:null,T:null,S:null},zv=Object.prototype.hasOwnProperty;function td(e,t,n){var i=n.ref;return{$$typeof:Zf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function xb(e,t){return td(e.type,t,e.props)}function ed(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zf}function Cb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var kg=/\/+/g;function Vc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cb(""+e.key):t.toString(36)}function Db(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ch,Ch):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ia(e,t,n,i,a){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(r){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Zf:case pb:s=!0;break;case Vv:return s=e._init,Ia(s(e._payload),t,n,i,a)}}if(s)return a=a(e),s=i===""?"."+Vc(e,0):i,jg(a)?(n="",s!=null&&(n=s.replace(kg,"$&/")+"/"),Ia(a,t,n,"",function(c){return c})):a!=null&&(ed(a)&&(a=xb(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(kg,"$&/")+"/")+s)),t.push(a)),1;s=0;var o=i===""?".":i+":";if(jg(e))for(var u=0;u<e.length;u++)i=e[u],r=o+Vc(i,u),s+=Ia(i,t,n,r,a);else if(u=Rb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,r=o+Vc(i,u++),s+=Ia(i,t,n,r,a);else if(r==="object"){if(typeof e.then=="function")return Ia(Db(e),t,n,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Bl(e,t,n){if(e==null)return e;var i=[],a=0;return Ia(e,i,"","",function(r){return t.call(n,r,a++)}),i}function Nb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vb={map:Bl,forEach:function(e,t,n){Bl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Bl(e,function(){t++}),t},toArray:function(e){return Bl(e,function(t){return t})||[]},only:function(e){if(!ed(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Activity=wb;tt.Children=Vb;tt.Component=wr;tt.Fragment=yb;tt.Profiler=_b;tt.PureComponent=Jf;tt.StrictMode=vb;tt.Suspense=Sb;tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xt;tt.__COMPILER_RUNTIME={__proto__:null,c:function(e){return xt.H.useMemoCache(e)}};tt.cache=function(e){return function(){return e.apply(null,arguments)}};tt.cacheSignal=function(){return null};tt.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=Mv({},e.props),a=e.key;if(t!=null)for(r in t.key!==void 0&&(a=""+t.key),t)!zv.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(i[r]=t[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var s=Array(r),o=0;o<r;o++)s[o]=arguments[o+2];i.children=s}return td(e.type,a,i)};tt.createContext=function(e){return e={$$typeof:Tb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Eb,_context:e},e};tt.createElement=function(e,t,n){var i,a={},r=null;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)zv.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=t[i]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];a.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)a[i]===void 0&&(a[i]=s[i]);return td(e,r,a)};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:bb,render:e}};tt.isValidElement=ed;tt.lazy=function(e){return{$$typeof:Vv,_payload:{_status:-1,_result:e},_init:Nb}};tt.memo=function(e,t){return{$$typeof:Ab,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=xt.T,n={};xt.T=n;try{var i=e(),a=xt.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Ch,Bg)}catch(r){Bg(r)}finally{t!==null&&n.types!==null&&(t.types=n.types),xt.T=t}};tt.unstable_useCacheRefresh=function(){return xt.H.useCacheRefresh()};tt.use=function(e){return xt.H.use(e)};tt.useActionState=function(e,t,n){return xt.H.useActionState(e,t,n)};tt.useCallback=function(e,t){return xt.H.useCallback(e,t)};tt.useContext=function(e){return xt.H.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e,t){return xt.H.useDeferredValue(e,t)};tt.useEffect=function(e,t){return xt.H.useEffect(e,t)};tt.useEffectEvent=function(e){return xt.H.useEffectEvent(e)};tt.useId=function(){return xt.H.useId()};tt.useImperativeHandle=function(e,t,n){return xt.H.useImperativeHandle(e,t,n)};tt.useInsertionEffect=function(e,t){return xt.H.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return xt.H.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return xt.H.useMemo(e,t)};tt.useOptimistic=function(e,t){return xt.H.useOptimistic(e,t)};tt.useReducer=function(e,t,n){return xt.H.useReducer(e,t,n)};tt.useRef=function(e){return xt.H.useRef(e)};tt.useState=function(e){return xt.H.useState(e)};tt.useSyncExternalStore=function(e,t,n){return xt.H.useSyncExternalStore(e,t,n)};tt.useTransition=function(){return xt.H.useTransition()};tt.version="19.2.4";Nv.exports=tt;var O=Nv.exports,Uv={exports:{}},wu={},jv={exports:{}},kv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,Z){var $=B.length;B.push(Z);t:for(;0<$;){var mt=$-1>>>1,It=B[mt];if(0<a(It,Z))B[mt]=Z,B[$]=It,$=mt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Z=B[0],$=B.pop();if($!==Z){B[0]=$;t:for(var mt=0,It=B.length,qi=It>>>1;mt<qi;){var Gi=2*(mt+1)-1,Ra=B[Gi],Be=Gi+1,Xn=B[Be];if(0>a(Ra,$))Be<It&&0>a(Xn,Ra)?(B[mt]=Xn,B[Be]=$,mt=Be):(B[mt]=Ra,B[Gi]=$,mt=Gi);else if(Be<It&&0>a(Xn,$))B[mt]=Xn,B[Be]=$,mt=Be;else break t}}return Z}function a(B,Z){var $=B.sortIndex-Z.sortIndex;return $!==0?$:B.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],c=[],f=1,g=null,m=3,p=!1,x=!1,D=!1,I=!1,T=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function N(B){for(var Z=n(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=B)i(c),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(c)}}function j(B){if(D=!1,N(B),!x)if(n(u)!==null)x=!0,H||(H=!0,V());else{var Z=n(c);Z!==null&&Q(j,Z.startTime-B)}}var H=!1,b=-1,_=5,S=-1;function w(){return I?!0:!(e.unstable_now()-S<_)}function C(){if(I=!1,H){var B=e.unstable_now();S=B;var Z=!0;try{t:{x=!1,D&&(D=!1,v(b),b=-1),p=!0;var $=m;try{e:{for(N(B),g=n(u);g!==null&&!(g.expirationTime>B&&w());){var mt=g.callback;if(typeof mt=="function"){g.callback=null,m=g.priorityLevel;var It=mt(g.expirationTime<=B);if(B=e.unstable_now(),typeof It=="function"){g.callback=It,N(B),Z=!0;break e}g===n(u)&&i(u),N(B)}else i(u);g=n(u)}if(g!==null)Z=!0;else{var qi=n(c);qi!==null&&Q(j,qi.startTime-B),Z=!1}}break t}finally{g=null,m=$,p=!1}Z=void 0}}finally{Z?V():H=!1}}}var V;if(typeof E=="function")V=function(){E(C)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,X=A.port2;A.port1.onmessage=C,V=function(){X.postMessage(null)}}else V=function(){T(C,0)};function Q(B,Z){b=T(function(){B(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var $=m;m=Z;try{return B()}finally{m=$}},e.unstable_requestPaint=function(){I=!0},e.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=m;m=B;try{return Z()}finally{m=$}},e.unstable_scheduleCallback=function(B,Z,$){var mt=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?mt+$:mt):$=mt,B){case 1:var It=-1;break;case 2:It=250;break;case 5:It=1073741823;break;case 4:It=1e4;break;default:It=5e3}return It=$+It,B={id:f++,callback:Z,priorityLevel:B,startTime:$,expirationTime:It,sortIndex:-1},$>mt?(B.sortIndex=$,t(c,B),n(u)===null&&B===n(c)&&(D?(v(b),b=-1):D=!0,Q(j,$-mt))):(B.sortIndex=It,t(u,B),x||p||(x=!0,H||(H=!0,V()))),B},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(B){var Z=m;return function(){var $=m;m=Z;try{return B.apply(this,arguments)}finally{m=$}}}})(kv);jv.exports=kv;var Ib=jv.exports,Bv={exports:{}},ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=O;function Pv(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ni(){}var ye={d:{f:ni,r:function(){throw Error(Pv(522))},D:ni,C:ni,L:ni,m:ni,X:ni,S:ni,M:ni},p:0,findDOMNode:null},Ob=Symbol.for("react.portal");function Lb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ob,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var _s=Mb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ru(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;ve.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Pv(299));return Lb(e,t,null,n)};ve.flushSync=function(e){var t=_s.T,n=ye.p;try{if(_s.T=null,ye.p=2,e)return e()}finally{_s.T=t,ye.p=n,ye.d.f()}};ve.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ye.d.C(e,t))};ve.prefetchDNS=function(e){typeof e=="string"&&ye.d.D(e)};ve.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Ru(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:r}):n==="script"&&ye.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ve.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ru(t.as,t.crossOrigin);ye.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ye.d.M(e)};ve.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Ru(n,t.crossOrigin);ye.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ve.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ru(t.as,t.crossOrigin);ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ye.d.m(e)};ve.requestFormReset=function(e){ye.d.r(e)};ve.unstable_batchedUpdates=function(e,t){return e(t)};ve.useFormState=function(e,t,n){return _s.H.useFormState(e,t,n)};ve.useFormStatus=function(){return _s.H.useHostTransitionStatus()};ve.version="19.2.4";function Hv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hv)}catch(e){console.error(e)}}Hv(),Bv.exports=ve;var zb=Bv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=Ib,qv=O,Ub=zb;function z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Gv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Fv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qv(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pg(e){if(ol(e)!==e)throw Error(z(188))}function jb(e){var t=e.alternate;if(!t){if(t=ol(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return Pg(a),e;if(r===i)return Pg(a),t;r=r.sibling}throw Error(z(188))}if(n.return!==i.return)n=a,i=r;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s){for(o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Yv(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Yv(e),t!==null)return t;e=e.sibling}return null}var Ct=Object.assign,kb=Symbol.for("react.element"),Pl=Symbol.for("react.transitional.element"),cs=Symbol.for("react.portal"),ka=Symbol.for("react.fragment"),Kv=Symbol.for("react.strict_mode"),Dh=Symbol.for("react.profiler"),Xv=Symbol.for("react.consumer"),Vn=Symbol.for("react.context"),nd=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Vh=Symbol.for("react.suspense_list"),id=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),Ih=Symbol.for("react.activity"),Bb=Symbol.for("react.memo_cache_sentinel"),Hg=Symbol.iterator;function es(e){return e===null||typeof e!="object"?null:(e=Hg&&e[Hg]||e["@@iterator"],typeof e=="function"?e:null)}var Pb=Symbol.for("react.client.reference");function Mh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Pb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ka:return"Fragment";case Dh:return"Profiler";case Kv:return"StrictMode";case Nh:return"Suspense";case Vh:return"SuspenseList";case Ih:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case cs:return"Portal";case Vn:return e.displayName||"Context";case Xv:return(e._context.displayName||"Context")+".Consumer";case nd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case id:return t=e.displayName||null,t!==null?t:Mh(e.type)||"Memo";case ii:t=e._payload,e=e._init;try{return Mh(e(t))}catch{}}return null}var hs=Array.isArray,K=qv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=Ub.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ia={pending:!1,data:null,method:null,action:null},Oh=[],Ba=-1;function En(e){return{current:e}}function ee(e){0>Ba||(e.current=Oh[Ba],Oh[Ba]=null,Ba--)}function Tt(e,t){Ba++,Oh[Ba]=e.current,e.current=t}var mn=En(null),js=En(null),gi=En(null),Io=En(null);function Mo(e,t){switch(Tt(gi,t),Tt(js,e),Tt(mn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kp(t),e=gE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(mn),Tt(mn,e)}function or(){ee(mn),ee(js),ee(gi)}function Lh(e){e.memoizedState!==null&&Tt(Io,e);var t=mn.current,n=gE(t,e.type);t!==n&&(Tt(js,e),Tt(mn,n))}function Oo(e){js.current===e&&(ee(mn),ee(js)),Io.current===e&&(ee(Io),Xs._currentValue=ia)}var Ic,qg;function Zi(e){if(Ic===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ic=t&&t[1]||"",qg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ic+e+qg}var Mc=!1;function Oc(e,t){if(!e||Mc)return"";Mc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(p){var m=p}Reflect.construct(e,[],g)}else{try{g.call()}catch(p){m=p}e.call(g.prototype)}}else{try{throw Error()}catch(p){m=p}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(p){if(p&&m&&typeof p.stack=="string")return[p.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),s=r[0],o=r[1];if(s&&o){var u=s.split(`
`),c=o.split(`
`);for(a=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(i===u.length||a===c.length)for(i=u.length-1,a=c.length-1;1<=i&&0<=a&&u[i]!==c[a];)a--;for(;1<=i&&0<=a;i--,a--)if(u[i]!==c[a]){if(i!==1||a!==1)do if(i--,a--,0>a||u[i]!==c[a]){var f=`
`+u[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=a);break}}}finally{Mc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zi(n):""}function Hb(e,t){switch(e.tag){case 26:case 27:case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return e.child!==t&&t!==null?Zi("Suspense Fallback"):Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return Oc(e.type,!1);case 11:return Oc(e.type.render,!1);case 1:return Oc(e.type,!0);case 31:return Zi("Activity");default:return""}}function Gg(e){try{var t="",n=null;do t+=Hb(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var zh=Object.prototype.hasOwnProperty,ad=$t.unstable_scheduleCallback,Lc=$t.unstable_cancelCallback,qb=$t.unstable_shouldYield,Gb=$t.unstable_requestPaint,Oe=$t.unstable_now,Fb=$t.unstable_getCurrentPriorityLevel,$v=$t.unstable_ImmediatePriority,Zv=$t.unstable_UserBlockingPriority,Lo=$t.unstable_NormalPriority,Qb=$t.unstable_LowPriority,Jv=$t.unstable_IdlePriority,Yb=$t.log,Kb=$t.unstable_setDisableYieldValue,ul=null,Le=null;function ui(e){if(typeof Yb=="function"&&Kb(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(ul,e)}catch{}}var ze=Math.clz32?Math.clz32:Zb,Xb=Math.log,$b=Math.LN2;function Zb(e){return e>>>=0,e===0?32:31-(Xb(e)/$b|0)|0}var Hl=256,ql=262144,Gl=4194304;function Ji(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xu(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~r,i!==0?a=Ji(i):(s&=o,s!==0?a=Ji(s):n||(n=o&~e,n!==0&&(a=Ji(n))))):(o=i&~r,o!==0?a=Ji(o):s!==0?a=Ji(s):n||(n=i&~e,n!==0&&(a=Ji(n)))),a===0?0:t!==0&&t!==a&&!(t&r)&&(r=a&-a,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:a}function cl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wv(){var e=Gl;return Gl<<=1,!(Gl&62914560)&&(Gl=4194304),e}function zc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wb(e,t,n,i,a,r){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var f=31-ze(n),g=1<<f;o[f]=0,u[f]=-1;var m=c[f];if(m!==null)for(c[f]=null,f=0;f<m.length;f++){var p=m[f];p!==null&&(p.lane&=-536870913)}n&=~g}i!==0&&t_(e,i,0),r!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=r&~(s&~t))}function t_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ze(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function e_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ze(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function n_(e,t){var n=t&-t;return n=n&42?1:rd(n),n&(e.suspendedLanes|t)?0:n}function rd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function sd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function i_(){var e=ft.p;return e!==0?e:(e=window.event,e===void 0?32:RE(e.type))}function Fg(e,t){var n=ft.p;try{return ft.p=e,t()}finally{ft.p=n}}var ki=Math.random().toString(36).slice(2),ae="__reactFiber$"+ki,Re="__reactProps$"+ki,Rr="__reactContainer$"+ki,Uh="__reactEvents$"+ki,tS="__reactListeners$"+ki,eS="__reactHandles$"+ki,Qg="__reactResources$"+ki,fl="__reactMarker$"+ki;function ld(e){delete e[ae],delete e[Re],delete e[Uh],delete e[tS],delete e[eS]}function Pa(e){var t=e[ae];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rr]||n[ae]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wp(e);e!==null;){if(n=e[ae])return n;e=Wp(e)}return t}e=n,n=e.parentNode}return null}function xr(e){if(e=e[ae]||e[Rr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(z(33))}function Za(e){var t=e[Qg];return t||(t=e[Qg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function te(e){e[fl]=!0}var a_=new Set,r_={};function ya(e,t){ur(e,t),ur(e+"Capture",t)}function ur(e,t){for(r_[e]=t,e=0;e<t.length;e++)a_.add(t[e])}var nS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yg={},Kg={};function iS(e){return zh.call(Kg,e)?!0:zh.call(Yg,e)?!1:nS.test(e)?Kg[e]=!0:(Yg[e]=!0,!1)}function oo(e,t,n){if(iS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Fl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Sn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function s_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aS(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,r.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jh(e){if(!e._valueTracker){var t=s_(e)?"checked":"value";e._valueTracker=aS(e,t,""+e[t])}}function l_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=s_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var rS=/[\n"\\]/g;function Fe(e){return e.replace(rS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function kh(e,t,n,i,a,r,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+He(t)):e.value!==""+He(t)&&(e.value=""+He(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Bh(e,s,He(t)):n!=null?Bh(e,s,He(n)):i!=null&&e.removeAttribute("value"),a==null&&r!=null&&(e.defaultChecked=!!r),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+He(o):e.removeAttribute("name")}function o_(e,t,n,i,a,r,s,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){jh(e);return}n=n!=null?""+He(n):"",t=t!=null?""+He(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),jh(e)}function Bh(e,t,n){t==="number"&&zo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ja(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+He(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function u_(e,t,n){if(t!=null&&(t=""+He(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+He(n):""}function c_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(z(92));if(hs(i)){if(1<i.length)throw Error(z(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=He(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),jh(e)}function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||sS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function h_(e,t,n){if(t!=null&&typeof t!="object")throw Error(z(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Xg(e,a,i)}else for(var r in t)t.hasOwnProperty(r)&&Xg(e,r,t[r])}function od(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(e){return oS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function In(){}var Ph=null;function ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ha=null,Wa=null;function $g(e){var t=xr(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;t:switch(e=t.stateNode,t.type){case"input":if(kh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Fe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Re]||null;if(!a)throw Error(z(90));kh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&l_(i)}break t;case"textarea":u_(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ja(e,!!n.multiple,t,!1)}}}var Uc=!1;function f_(e,t,n){if(Uc)return e(t,n);Uc=!0;try{var i=e(t);return i}finally{if(Uc=!1,(Ha!==null||Wa!==null)&&(ku(),Ha&&(t=Ha,e=Wa,Wa=Ha=null,$g(t),e)))for(t=0;t<e.length;t++)$g(e[t])}}function ks(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hh=!1;if(jn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){Hh=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{Hh=!1}var ci=null,cd=null,co=null;function d_(){if(co)return co;var e,t=cd,n=t.length,i,a="value"in ci?ci.value:ci.textContent,r=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===a[r-i];i++);return co=a.slice(e,1<i?1-i:void 0)}function ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ql(){return!0}function Zg(){return!1}function xe(e){function t(n,i,a,r,s){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=r,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ql:Zg,this.isPropagationStopped=Zg,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),t}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=xe(va),dl=Ct({},va,{view:0,detail:0}),uS=xe(dl),jc,kc,is,Du=Ct({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(jc=e.screenX-is.screenX,kc=e.screenY-is.screenY):kc=jc=0,is=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:kc}}),Jg=xe(Du),cS=Ct({},Du,{dataTransfer:0}),hS=xe(cS),fS=Ct({},dl,{relatedTarget:0}),Bc=xe(fS),dS=Ct({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),mS=xe(dS),gS=Ct({},va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pS=xe(gS),yS=Ct({},va,{data:0}),Wg=xe(yS),vS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_S={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ES={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ES[e])?!!t[e]:!1}function hd(){return TS}var bS=Ct({},dl,{key:function(e){if(e.key){var t=vS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_S[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hd,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SS=xe(bS),AS=Ct({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tp=xe(AS),wS=Ct({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hd}),RS=xe(wS),xS=Ct({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),CS=xe(xS),DS=Ct({},Du,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NS=xe(DS),VS=Ct({},va,{newState:0,oldState:0}),IS=xe(VS),MS=[9,13,27,32],fd=jn&&"CompositionEvent"in window,Es=null;jn&&"documentMode"in document&&(Es=document.documentMode);var OS=jn&&"TextEvent"in window&&!Es,m_=jn&&(!fd||Es&&8<Es&&11>=Es),ep=" ",np=!1;function g_(e,t){switch(e){case"keyup":return MS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function p_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qa=!1;function LS(e,t){switch(e){case"compositionend":return p_(t);case"keypress":return t.which!==32?null:(np=!0,ep);case"textInput":return e=t.data,e===ep&&np?null:e;default:return null}}function zS(e,t){if(qa)return e==="compositionend"||!fd&&g_(e,t)?(e=d_(),co=cd=ci=null,qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return m_&&t.locale!=="ko"?null:t.data;default:return null}}var US={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!US[e.type]:t==="textarea"}function y_(e,t,n,i){Ha?Wa?Wa.push(i):Wa=[i]:Ha=i,t=tu(t,"onChange"),0<t.length&&(n=new Cu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ts=null,Bs=null;function jS(e){fE(e,0)}function Nu(e){var t=fs(e);if(l_(t))return e}function ap(e,t){if(e==="change")return t}var v_=!1;if(jn){var Pc;if(jn){var Hc="oninput"in document;if(!Hc){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),Hc=typeof rp.oninput=="function"}Pc=Hc}else Pc=!1;v_=Pc&&(!document.documentMode||9<document.documentMode)}function sp(){Ts&&(Ts.detachEvent("onpropertychange",__),Bs=Ts=null)}function __(e){if(e.propertyName==="value"&&Nu(Bs)){var t=[];y_(t,Bs,e,ud(e)),f_(jS,t)}}function kS(e,t,n){e==="focusin"?(sp(),Ts=t,Bs=n,Ts.attachEvent("onpropertychange",__)):e==="focusout"&&sp()}function BS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Bs)}function PS(e,t){if(e==="click")return Nu(t)}function HS(e,t){if(e==="input"||e==="change")return Nu(t)}function qS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var je=typeof Object.is=="function"?Object.is:qS;function Ps(e,t){if(je(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!zh.call(t,a)||!je(e[a],t[a]))return!1}return!0}function lp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function op(e,t){var n=lp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=lp(n)}}function E_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zo(e.document)}return t}function dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var GS=jn&&"documentMode"in document&&11>=document.documentMode,Ga=null,qh=null,bs=null,Gh=!1;function up(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gh||Ga==null||Ga!==zo(i)||(i=Ga,"selectionStart"in i&&dd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),bs&&Ps(bs,i)||(bs=i,i=tu(qh,"onSelect"),0<i.length&&(t=new Cu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ga)))}function $i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fa={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},qc={},b_={};jn&&(b_=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function _a(e){if(qc[e])return qc[e];if(!Fa[e])return e;var t=Fa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in b_)return qc[e]=t[n];return e}var S_=_a("animationend"),A_=_a("animationiteration"),w_=_a("animationstart"),FS=_a("transitionrun"),QS=_a("transitionstart"),YS=_a("transitioncancel"),R_=_a("transitionend"),x_=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function ln(e,t){x_.set(e,t),ya(t,[e])}var Uo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pe=[],Qa=0,md=0;function Vu(){for(var e=Qa,t=md=Qa=0;t<e;){var n=Pe[t];Pe[t++]=null;var i=Pe[t];Pe[t++]=null;var a=Pe[t];Pe[t++]=null;var r=Pe[t];if(Pe[t++]=null,i!==null&&a!==null){var s=i.pending;s===null?a.next=a:(a.next=s.next,s.next=a),i.pending=a}r!==0&&C_(n,a,r)}}function Iu(e,t,n,i){Pe[Qa++]=e,Pe[Qa++]=t,Pe[Qa++]=n,Pe[Qa++]=i,md|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function gd(e,t,n,i){return Iu(e,t,n,i),jo(e)}function Ea(e,t){return Iu(e,null,null,t),jo(e)}function C_(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(a=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,a&&t!==null&&(a=31-ze(n),e=r.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),r):null}function jo(e){if(50<Vs)throw Vs=0,df=null,Error(z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ya={};function KS(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,i){return new KS(e,t,n,i)}function pd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function D_(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fo(e,t,n,i,a,r){var s=0;if(i=e,typeof e=="function")pd(e)&&(s=1);else if(typeof e=="string")s=WA(e,n,mn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Ih:return e=Ve(31,n,t,a),e.elementType=Ih,e.lanes=r,e;case ka:return aa(n.children,a,r,t);case Kv:s=8,a|=24;break;case Dh:return e=Ve(12,n,t,a|2),e.elementType=Dh,e.lanes=r,e;case Nh:return e=Ve(13,n,t,a),e.elementType=Nh,e.lanes=r,e;case Vh:return e=Ve(19,n,t,a),e.elementType=Vh,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vn:s=10;break t;case Xv:s=9;break t;case nd:s=11;break t;case id:s=14;break t;case ii:s=16,i=null;break t}s=29,n=Error(z(130,e===null?"null":typeof e,"")),i=null}return t=Ve(s,n,t,a),t.elementType=e,t.type=i,t.lanes=r,t}function aa(e,t,n,i){return e=Ve(7,e,i,t),e.lanes=n,e}function Gc(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function N_(e){var t=Ve(18,null,null,0);return t.stateNode=e,t}function Fc(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cp=new WeakMap;function Qe(e,t){if(typeof e=="object"&&e!==null){var n=cp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Gg(t)},cp.set(e,t),t)}return{value:e,source:t,stack:Gg(t)}}var Ka=[],Xa=0,ko=null,Hs=0,qe=[],Ge=0,Di=null,hn=1,fn="";function Dn(e,t){Ka[Xa++]=Hs,Ka[Xa++]=ko,ko=e,Hs=t}function V_(e,t,n){qe[Ge++]=hn,qe[Ge++]=fn,qe[Ge++]=Di,Di=e;var i=hn;e=fn;var a=32-ze(i)-1;i&=~(1<<a),n+=1;var r=32-ze(t)+a;if(30<r){var s=a-a%5;r=(i&(1<<s)-1).toString(32),i>>=s,a-=s,hn=1<<32-ze(t)+a|n<<a|i,fn=r+e}else hn=1<<r|n<<a|i,fn=e}function yd(e){e.return!==null&&(Dn(e,1),V_(e,1,0))}function vd(e){for(;e===ko;)ko=Ka[--Xa],Ka[Xa]=null,Hs=Ka[--Xa],Ka[Xa]=null;for(;e===Di;)Di=qe[--Ge],qe[Ge]=null,fn=qe[--Ge],qe[Ge]=null,hn=qe[--Ge],qe[Ge]=null}function I_(e,t){qe[Ge++]=hn,qe[Ge++]=fn,qe[Ge++]=Di,hn=t.id,fn=t.overflow,Di=e}var re=null,At=null,ot=!1,pi=null,Ye=!1,Qh=Error(z(519));function Ni(e){var t=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qs(Qe(t,e)),Qh}function hp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ae]=e,t[Re]=i,n){case"dialog":it("cancel",t),it("close",t);break;case"iframe":case"object":case"embed":it("load",t);break;case"video":case"audio":for(n=0;n<Ys.length;n++)it(Ys[n],t);break;case"source":it("error",t);break;case"img":case"image":case"link":it("error",t),it("load",t);break;case"details":it("toggle",t);break;case"input":it("invalid",t),o_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":it("invalid",t);break;case"textarea":it("invalid",t),c_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||mE(t.textContent,n)?(i.popover!=null&&(it("beforetoggle",t),it("toggle",t)),i.onScroll!=null&&it("scroll",t),i.onScrollEnd!=null&&it("scrollend",t),i.onClick!=null&&(t.onclick=In),t=!0):t=!1,t||Ni(e,!0)}function fp(e){for(re=e.return;re;)switch(re.tag){case 5:case 31:case 13:Ye=!1;return;case 27:case 3:Ye=!0;return;default:re=re.return}}function Na(e){if(e!==re)return!1;if(!ot)return fp(e),ot=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||vf(e.type,e.memoizedProps)),n=!n),n&&At&&Ni(e),fp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));At=Jp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));At=Jp(e)}else t===27?(t=At,Bi(e.type)?(e=bf,bf=null,At=e):At=t):At=re?$e(e.stateNode.nextSibling):null;return!0}function ua(){At=re=null,ot=!1}function Qc(){var e=pi;return e!==null&&(be===null?be=e:be.push.apply(be,e),pi=null),e}function qs(e){pi===null?pi=[e]:pi.push(e)}var Yh=En(null),Ta=null,Mn=null;function ri(e,t,n){Tt(Yh,t._currentValue),t._currentValue=n}function Ln(e){e._currentValue=Yh.current,ee(Yh)}function Kh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Xh(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var r=a.dependencies;if(r!==null){var s=a.child;r=r.firstContext;t:for(;r!==null;){var o=r;r=a;for(var u=0;u<t.length;u++)if(o.context===t[u]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Kh(r.return,n,e),i||(s=null);break t}r=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(z(341));s.lanes|=n,r=s.alternate,r!==null&&(r.lanes|=n),Kh(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Cr(e,t,n,i){e=null;for(var a=t,r=!1;a!==null;){if(!r){if(a.flags&524288)r=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var o=a.type;je(a.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(a===Io.current){if(s=a.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Xs):e=[Xs])}a=a.return}e!==null&&Xh(t,e,n,i),t.flags|=262144}function Bo(e){for(e=e.firstContext;e!==null;){if(!je(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){Ta=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function le(e){return M_(Ta,e)}function Yl(e,t){return Ta===null&&ca(e),M_(e,t)}function M_(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Mn===null){if(e===null)throw Error(z(308));Mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mn=Mn.next=t;return n}var XS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},$S=$t.unstable_scheduleCallback,ZS=$t.unstable_NormalPriority,qt={$$typeof:Vn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new XS,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&$S(ZS,function(){e.controller.abort()})}var Ss=null,$h=0,hr=0,tr=null;function JS(e,t){if(Ss===null){var n=Ss=[];$h=0,hr=Gd(),tr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return $h++,t.then(dp,dp),t}function dp(){if(--$h===0&&Ss!==null){tr!==null&&(tr.status="fulfilled");var e=Ss;Ss=null,hr=0,tr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function WS(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var mp=K.S;K.S=function(e,t){Y0=Oe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&JS(e,t),mp!==null&&mp(e,t)};var ra=En(null);function Ed(){var e=ra.current;return e!==null?e:Et.pooledCache}function mo(e,t){t===null?Tt(ra,ra.current):Tt(ra,t.pool)}function O_(){var e=Ed();return e===null?null:{parent:qt._currentValue,pool:e}}var Dr=Error(z(460)),Td=Error(z(474)),Mu=Error(z(542)),Po={then:function(){}};function gp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function L_(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(In,In),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yp(e),e;default:if(typeof t.status=="string")t.then(In,In);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(z(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yp(e),e}throw sa=t,Dr}}function Wi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(sa=n,Dr):n}}var sa=null;function pp(){if(sa===null)throw Error(z(459));var e=sa;return sa=null,e}function yp(e){if(e===Dr||e===Mu)throw Error(z(483))}var er=null,Gs=0;function Kl(e){var t=Gs;return Gs+=1,er===null&&(er=[]),L_(er,e,t)}function as(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xl(e,t){throw t.$$typeof===kb?Error(z(525)):(e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function z_(e){function t(T,v){if(e){var E=T.deletions;E===null?(T.deletions=[v],T.flags|=16):E.push(v)}}function n(T,v){if(!e)return null;for(;v!==null;)t(T,v),v=v.sibling;return null}function i(T){for(var v=new Map;T!==null;)T.key!==null?v.set(T.key,T):v.set(T.index,T),T=T.sibling;return v}function a(T,v){return T=On(T,v),T.index=0,T.sibling=null,T}function r(T,v,E){return T.index=E,e?(E=T.alternate,E!==null?(E=E.index,E<v?(T.flags|=67108866,v):E):(T.flags|=67108866,v)):(T.flags|=1048576,v)}function s(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function o(T,v,E,N){return v===null||v.tag!==6?(v=Gc(E,T.mode,N),v.return=T,v):(v=a(v,E),v.return=T,v)}function u(T,v,E,N){var j=E.type;return j===ka?f(T,v,E.props.children,N,E.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ii&&Wi(j)===v.type)?(v=a(v,E.props),as(v,E),v.return=T,v):(v=fo(E.type,E.key,E.props,null,T.mode,N),as(v,E),v.return=T,v)}function c(T,v,E,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=Fc(E,T.mode,N),v.return=T,v):(v=a(v,E.children||[]),v.return=T,v)}function f(T,v,E,N,j){return v===null||v.tag!==7?(v=aa(E,T.mode,N,j),v.return=T,v):(v=a(v,E),v.return=T,v)}function g(T,v,E){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Gc(""+v,T.mode,E),v.return=T,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Pl:return E=fo(v.type,v.key,v.props,null,T.mode,E),as(E,v),E.return=T,E;case cs:return v=Fc(v,T.mode,E),v.return=T,v;case ii:return v=Wi(v),g(T,v,E)}if(hs(v)||es(v))return v=aa(v,T.mode,E,null),v.return=T,v;if(typeof v.then=="function")return g(T,Kl(v),E);if(v.$$typeof===Vn)return g(T,Yl(T,v),E);Xl(T,v)}return null}function m(T,v,E,N){var j=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return j!==null?null:o(T,v,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:return E.key===j?u(T,v,E,N):null;case cs:return E.key===j?c(T,v,E,N):null;case ii:return E=Wi(E),m(T,v,E,N)}if(hs(E)||es(E))return j!==null?null:f(T,v,E,N,null);if(typeof E.then=="function")return m(T,v,Kl(E),N);if(E.$$typeof===Vn)return m(T,v,Yl(T,E),N);Xl(T,E)}return null}function p(T,v,E,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return T=T.get(E)||null,o(v,T,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Pl:return T=T.get(N.key===null?E:N.key)||null,u(v,T,N,j);case cs:return T=T.get(N.key===null?E:N.key)||null,c(v,T,N,j);case ii:return N=Wi(N),p(T,v,E,N,j)}if(hs(N)||es(N))return T=T.get(E)||null,f(v,T,N,j,null);if(typeof N.then=="function")return p(T,v,E,Kl(N),j);if(N.$$typeof===Vn)return p(T,v,E,Yl(v,N),j);Xl(v,N)}return null}function x(T,v,E,N){for(var j=null,H=null,b=v,_=v=0,S=null;b!==null&&_<E.length;_++){b.index>_?(S=b,b=null):S=b.sibling;var w=m(T,b,E[_],N);if(w===null){b===null&&(b=S);break}e&&b&&w.alternate===null&&t(T,b),v=r(w,v,_),H===null?j=w:H.sibling=w,H=w,b=S}if(_===E.length)return n(T,b),ot&&Dn(T,_),j;if(b===null){for(;_<E.length;_++)b=g(T,E[_],N),b!==null&&(v=r(b,v,_),H===null?j=b:H.sibling=b,H=b);return ot&&Dn(T,_),j}for(b=i(b);_<E.length;_++)S=p(b,T,_,E[_],N),S!==null&&(e&&S.alternate!==null&&b.delete(S.key===null?_:S.key),v=r(S,v,_),H===null?j=S:H.sibling=S,H=S);return e&&b.forEach(function(C){return t(T,C)}),ot&&Dn(T,_),j}function D(T,v,E,N){if(E==null)throw Error(z(151));for(var j=null,H=null,b=v,_=v=0,S=null,w=E.next();b!==null&&!w.done;_++,w=E.next()){b.index>_?(S=b,b=null):S=b.sibling;var C=m(T,b,w.value,N);if(C===null){b===null&&(b=S);break}e&&b&&C.alternate===null&&t(T,b),v=r(C,v,_),H===null?j=C:H.sibling=C,H=C,b=S}if(w.done)return n(T,b),ot&&Dn(T,_),j;if(b===null){for(;!w.done;_++,w=E.next())w=g(T,w.value,N),w!==null&&(v=r(w,v,_),H===null?j=w:H.sibling=w,H=w);return ot&&Dn(T,_),j}for(b=i(b);!w.done;_++,w=E.next())w=p(b,T,_,w.value,N),w!==null&&(e&&w.alternate!==null&&b.delete(w.key===null?_:w.key),v=r(w,v,_),H===null?j=w:H.sibling=w,H=w);return e&&b.forEach(function(V){return t(T,V)}),ot&&Dn(T,_),j}function I(T,v,E,N){if(typeof E=="object"&&E!==null&&E.type===ka&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:t:{for(var j=E.key;v!==null;){if(v.key===j){if(j=E.type,j===ka){if(v.tag===7){n(T,v.sibling),N=a(v,E.props.children),N.return=T,T=N;break t}}else if(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ii&&Wi(j)===v.type){n(T,v.sibling),N=a(v,E.props),as(N,E),N.return=T,T=N;break t}n(T,v);break}else t(T,v);v=v.sibling}E.type===ka?(N=aa(E.props.children,T.mode,N,E.key),N.return=T,T=N):(N=fo(E.type,E.key,E.props,null,T.mode,N),as(N,E),N.return=T,T=N)}return s(T);case cs:t:{for(j=E.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(T,v.sibling),N=a(v,E.children||[]),N.return=T,T=N;break t}else{n(T,v);break}else t(T,v);v=v.sibling}N=Fc(E,T.mode,N),N.return=T,T=N}return s(T);case ii:return E=Wi(E),I(T,v,E,N)}if(hs(E))return x(T,v,E,N);if(es(E)){if(j=es(E),typeof j!="function")throw Error(z(150));return E=j.call(E),D(T,v,E,N)}if(typeof E.then=="function")return I(T,v,Kl(E),N);if(E.$$typeof===Vn)return I(T,v,Yl(T,E),N);Xl(T,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,v!==null&&v.tag===6?(n(T,v.sibling),N=a(v,E),N.return=T,T=N):(n(T,v),N=Gc(E,T.mode,N),N.return=T,T=N),s(T)):n(T,v)}return function(T,v,E,N){try{Gs=0;var j=I(T,v,E,N);return er=null,j}catch(b){if(b===Dr||b===Mu)throw b;var H=Ve(29,b,null,T.mode);return H.lanes=N,H.return=T,H}finally{}}}var ha=z_(!0),U_=z_(!1),ai=!1;function bd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ht&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=jo(e),C_(e,null,n),t}return Iu(e,i,t,n),jo(e)}function As(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,e_(e,n)}}function Yc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=s:r=r.next=s,n=n.next}while(n!==null);r===null?a=r=t:r=r.next=t}else a=r=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Jh=!1;function ws(){if(Jh){var e=tr;if(e!==null)throw e}}function Rs(e,t,n,i){Jh=!1;var a=e.updateQueue;ai=!1;var r=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?r=c:s.next=c,s=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==s&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(r!==null){var g=a.baseState;s=0,f=c=u=null,o=r;do{var m=o.lane&-536870913,p=m!==o.lane;if(p?(lt&m)===m:(i&m)===m){m!==0&&m===hr&&(Jh=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var x=e,D=o;m=t;var I=n;switch(D.tag){case 1:if(x=D.payload,typeof x=="function"){g=x.call(I,g,m);break t}g=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=D.payload,m=typeof x=="function"?x.call(I,g,m):x,m==null)break t;g=Ct({},g,m);break t;case 2:ai=!0}}m=o.callback,m!==null&&(e.flags|=64,p&&(e.flags|=8192),p=a.callbacks,p===null?a.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=p,u=g):f=f.next=p,s|=m;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);f===null&&(u=g),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=f,r===null&&(a.shared.lanes=0),Ii|=s,e.lanes=s,e.memoizedState=g}}function j_(e,t){if(typeof e!="function")throw Error(z(191,e));e.call(t)}function k_(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)j_(n[e],t)}var fr=En(null),Ho=En(0);function vp(e,t){e=Hn,Tt(Ho,e),Tt(fr,t),Hn=e|t.baseLanes}function Wh(){Tt(Ho,Hn),Tt(fr,fr.current)}function Sd(){Hn=Ho.current,ee(fr),ee(Ho)}var ke=En(null),Xe=null;function si(e){var t=e.alternate;Tt(Ut,Ut.current&1),Tt(ke,e),Xe===null&&(t===null||fr.current!==null||t.memoizedState!==null)&&(Xe=e)}function tf(e){Tt(Ut,Ut.current),Tt(ke,e),Xe===null&&(Xe=e)}function B_(e){e.tag===22?(Tt(Ut,Ut.current),Tt(ke,e),Xe===null&&(Xe=e)):li()}function li(){Tt(Ut,Ut.current),Tt(ke,ke.current)}function Ne(e){ee(ke),Xe===e&&(Xe=null),ee(Ut)}var Ut=En(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ef(n)||Tf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kn=0,et=null,vt=null,Pt=null,Go=!1,nr=!1,fa=!1,Fo=0,Fs=0,ir=null,tA=0;function Ot(){throw Error(z(321))}function Ad(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!je(e[n],t[n]))return!1;return!0}function wd(e,t,n,i,a,r){return kn=r,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?y0:zd,fa=!1,r=n(i,a),fa=!1,nr&&(r=H_(t,n,i,a)),P_(e),r}function P_(e){K.H=Qs;var t=vt!==null&&vt.next!==null;if(kn=0,Pt=vt=et=null,Go=!1,Fs=0,ir=null,t)throw Error(z(300));e===null||Gt||(e=e.dependencies,e!==null&&Bo(e)&&(Gt=!0))}function H_(e,t,n,i){et=e;var a=0;do{if(nr&&(ir=null),Fs=0,nr=!1,25<=a)throw Error(z(301));if(a+=1,Pt=vt=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}K.H=v0,r=t(n,i)}while(nr);return r}function eA(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?gl(t):t,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(et.flags|=1024),t}function Rd(){var e=Fo!==0;return Fo=0,e}function xd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Cd(e){if(Go){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Go=!1}kn=0,Pt=vt=et=null,nr=!1,Fs=Fo=0,ir=null}function pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?et.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function kt(){if(vt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var t=Pt===null?et.memoizedState:Pt.next;if(t!==null)Pt=t,vt=e;else{if(e===null)throw et.alternate===null?Error(z(467)):Error(z(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Pt===null?et.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var t=Fs;return Fs+=1,ir===null&&(ir=[]),e=L_(ir,e,t),t=et,(Pt===null?t.memoizedState:Pt.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?y0:zd),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===Vn)return le(e)}throw Error(z(438,String(e)))}function Dd(e){var t=null,n=et.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=et.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ou(),et.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Bb;return t.index++,n}function Bn(e,t){return typeof t=="function"?t(e):t}function go(e){var t=kt();return Nd(t,vt,e)}function Nd(e,t,n){var i=e.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=n;var a=e.baseQueue,r=i.pending;if(r!==null){if(a!==null){var s=a.next;a.next=r.next,r.next=s}t.baseQueue=a=r,i.pending=null}if(r=e.baseState,a===null)e.memoizedState=r;else{t=a.next;var o=s=null,u=null,c=t,f=!1;do{var g=c.lane&-536870913;if(g!==c.lane?(lt&g)===g:(kn&g)===g){var m=c.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),g===hr&&(f=!0);else if((kn&m)===m){c=c.next,m===hr&&(f=!0);continue}else g={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=g,s=r):u=u.next=g,et.lanes|=m,Ii|=m;g=c.action,fa&&n(r,g),r=c.hasEagerState?c.eagerState:n(r,g)}else m={lane:g,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,s=r):u=u.next=m,et.lanes|=g,Ii|=g;c=c.next}while(c!==null&&c!==t);if(u===null?s=r:u.next=o,!je(r,e.memoizedState)&&(Gt=!0,f&&(n=tr,n!==null)))throw n;e.memoizedState=r,e.baseState=s,e.baseQueue=u,i.lastRenderedState=r}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Kc(e){var t=kt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,r=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do r=e(r,s.action),s=s.next;while(s!==a);je(r,t.memoizedState)||(Gt=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function q_(e,t,n){var i=et,a=kt(),r=ot;if(r){if(n===void 0)throw Error(z(407));n=n()}else n=t();var s=!je((vt||a).memoizedState,n);if(s&&(a.memoizedState=n,Gt=!0),a=a.queue,Vd(Q_.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||Pt!==null&&Pt.memoizedState.tag&1){if(i.flags|=2048,dr(9,{destroy:void 0},F_.bind(null,i,a,n,t),null),Et===null)throw Error(z(349));r||kn&127||G_(i,t,n)}return n}function G_(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=et.updateQueue,t===null?(t=Ou(),et.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function F_(e,t,n,i){t.value=n,t.getSnapshot=i,Y_(t)&&K_(e)}function Q_(e,t,n){return n(function(){Y_(t)&&K_(e)})}function Y_(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!je(e,n)}catch{return!0}}function K_(e){var t=Ea(e,2);t!==null&&we(t,e,2)}function ef(e){var t=pe();if(typeof e=="function"){var n=e;if(e=n(),fa){ui(!0);try{n()}finally{ui(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function X_(e,t,n,i){return e.baseState=n,Nd(e,vt,typeof i=="function"?i:Bn)}function nA(e,t,n,i,a){if(Uu(e))throw Error(z(485));if(e=t.action,e!==null){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){r.listeners.push(s)}};K.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,$_(t,r)):(r.next=n.next,t.pending=n.next=r)}}function $_(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var r=K.T,s={};K.T=s;try{var o=n(a,i),u=K.S;u!==null&&u(s,o),_p(e,t,o)}catch(c){nf(e,t,c)}finally{r!==null&&s.types!==null&&(r.types=s.types),K.T=r}}else try{r=n(a,i),_p(e,t,r)}catch(c){nf(e,t,c)}}function _p(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ep(e,t,i)},function(i){return nf(e,t,i)}):Ep(e,t,n)}function Ep(e,t,n){t.status="fulfilled",t.value=n,Z_(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,$_(e,n)))}function nf(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Z_(t),t=t.next;while(t!==i)}e.action=null}function Z_(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function J_(e,t){return t}function Tp(e,t){if(ot){var n=Et.formState;if(n!==null){t:{var i=et;if(ot){if(At){e:{for(var a=At,r=Ye;a.nodeType!==8;){if(!r){a=null;break e}if(a=$e(a.nextSibling),a===null){a=null;break e}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){At=$e(a.nextSibling),i=a.data==="F!";break t}}Ni(i)}i=!1}i&&(t=n[0])}}return n=pe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J_,lastRenderedState:t},n.queue=i,n=m0.bind(null,et,i),i.dispatch=n,i=ef(!1),r=Ld.bind(null,et,!1,i.queue),i=pe(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=nA.bind(null,et,a,r,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function bp(e){var t=kt();return W_(t,vt,e)}function W_(e,t,n){if(t=Nd(e,t,J_)[0],e=go(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=gl(t)}catch(s){throw s===Dr?Mu:s}else i=t;t=kt();var a=t.queue,r=a.dispatch;return n!==t.memoizedState&&(et.flags|=2048,dr(9,{destroy:void 0},iA.bind(null,a,n),null)),[i,r,e]}function iA(e,t){e.action=t}function Sp(e){var t=kt(),n=vt;if(n!==null)return W_(t,n,e);kt(),t=t.memoizedState,n=kt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function dr(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=et.updateQueue,t===null&&(t=Ou(),et.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function t0(){return kt().memoizedState}function po(e,t,n,i){var a=pe();et.flags|=e,a.memoizedState=dr(1|t,{destroy:void 0},n,i===void 0?null:i)}function zu(e,t,n,i){var a=kt();i=i===void 0?null:i;var r=a.memoizedState.inst;vt!==null&&i!==null&&Ad(i,vt.memoizedState.deps)?a.memoizedState=dr(t,r,n,i):(et.flags|=e,a.memoizedState=dr(1|t,r,n,i))}function Ap(e,t){po(8390656,8,e,t)}function Vd(e,t){zu(2048,8,e,t)}function aA(e){et.flags|=4;var t=et.updateQueue;if(t===null)t=Ou(),et.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function e0(e){var t=kt().memoizedState;return aA({ref:t,nextImpl:e}),function(){if(ht&2)throw Error(z(440));return t.impl.apply(void 0,arguments)}}function n0(e,t){return zu(4,2,e,t)}function i0(e,t){return zu(4,4,e,t)}function a0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function r0(e,t,n){n=n!=null?n.concat([e]):null,zu(4,4,a0.bind(null,t,e),n)}function Id(){}function s0(e,t){var n=kt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Ad(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function l0(e,t){var n=kt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Ad(t,i[1]))return i[0];if(i=e(),fa){ui(!0);try{e()}finally{ui(!1)}}return n.memoizedState=[i,t],i}function Md(e,t,n){return n===void 0||kn&1073741824&&!(lt&261930)?e.memoizedState=t:(e.memoizedState=n,e=X0(),et.lanes|=e,Ii|=e,n)}function o0(e,t,n,i){return je(n,t)?n:fr.current!==null?(e=Md(e,n,i),je(e,t)||(Gt=!0),e):!(kn&42)||kn&1073741824&&!(lt&261930)?(Gt=!0,e.memoizedState=n):(e=X0(),et.lanes|=e,Ii|=e,t)}function u0(e,t,n,i,a){var r=ft.p;ft.p=r!==0&&8>r?r:8;var s=K.T,o={};K.T=o,Ld(e,!1,t,n);try{var u=a(),c=K.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=WS(u,i);xs(e,t,f,Ue(e))}else xs(e,t,i,Ue(e))}catch(g){xs(e,t,{then:function(){},status:"rejected",reason:g},Ue())}finally{ft.p=r,s!==null&&o.types!==null&&(s.types=o.types),K.T=s}}function rA(){}function af(e,t,n,i){if(e.tag!==5)throw Error(z(476));var a=c0(e).queue;u0(e,a,t,ia,n===null?rA:function(){return h0(e),n(i)})}function c0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ia,baseState:ia,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:ia},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function h0(e){var t=c0(e);t.next===null&&(t=e.alternate.memoizedState),xs(e,t.next.queue,{},Ue())}function Od(){return le(Xs)}function f0(){return kt().memoizedState}function d0(){return kt().memoizedState}function sA(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ue();e=yi(n);var i=vi(t,e,n);i!==null&&(we(i,t,n),As(i,t,n)),t={cache:_d()},e.payload=t;return}t=t.return}}function lA(e,t,n){var i=Ue();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Uu(e)?g0(t,n):(n=gd(e,t,n,i),n!==null&&(we(n,e,i),p0(n,t,i)))}function m0(e,t,n){var i=Ue();xs(e,t,n,i)}function xs(e,t,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))g0(t,a);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var s=t.lastRenderedState,o=r(s,n);if(a.hasEagerState=!0,a.eagerState=o,je(o,s))return Iu(e,t,a,0),Et===null&&Vu(),!1}catch{}finally{}if(n=gd(e,t,a,i),n!==null)return we(n,e,i),p0(n,t,i),!0}return!1}function Ld(e,t,n,i){if(i={lane:2,revertLane:Gd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(t)throw Error(z(479))}else t=gd(e,n,i,2),t!==null&&we(t,e,2)}function Uu(e){var t=e.alternate;return e===et||t!==null&&t===et}function g0(e,t){nr=Go=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function p0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,e_(e,n)}}var Qs={readContext:le,use:Lu,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Qs.useEffectEvent=Ot;var y0={readContext:le,use:Lu,useCallback:function(e,t){return pe().memoizedState=[e,t===void 0?null:t],e},useContext:le,useEffect:Ap,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,po(4194308,4,a0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return po(4194308,4,e,t)},useInsertionEffect:function(e,t){po(4,2,e,t)},useMemo:function(e,t){var n=pe();t=t===void 0?null:t;var i=e();if(fa){ui(!0);try{e()}finally{ui(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=pe();if(n!==void 0){var a=n(t);if(fa){ui(!0);try{n(t)}finally{ui(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=lA.bind(null,et,e),[i.memoizedState,e]},useRef:function(e){var t=pe();return e={current:e},t.memoizedState=e},useState:function(e){e=ef(e);var t=e.queue,n=m0.bind(null,et,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Id,useDeferredValue:function(e,t){var n=pe();return Md(n,e,t)},useTransition:function(){var e=ef(!1);return e=u0.bind(null,et,e.queue,!0,!1),pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=et,a=pe();if(ot){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Et===null)throw Error(z(349));lt&127||G_(i,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,Ap(Q_.bind(null,i,r,e),[e]),i.flags|=2048,dr(9,{destroy:void 0},F_.bind(null,i,r,n,t),null),n},useId:function(){var e=pe(),t=Et.identifierPrefix;if(ot){var n=fn,i=hn;n=(i&~(1<<32-ze(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Fo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=tA++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Od,useFormState:Tp,useActionState:Tp,useOptimistic:function(e){var t=pe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ld.bind(null,et,!0,n),n.dispatch=t,[e,t]},useMemoCache:Dd,useCacheRefresh:function(){return pe().memoizedState=sA.bind(null,et)},useEffectEvent:function(e){var t=pe(),n={impl:e};return t.memoizedState=n,function(){if(ht&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},zd={readContext:le,use:Lu,useCallback:s0,useContext:le,useEffect:Vd,useImperativeHandle:r0,useInsertionEffect:n0,useLayoutEffect:i0,useMemo:l0,useReducer:go,useRef:t0,useState:function(){return go(Bn)},useDebugValue:Id,useDeferredValue:function(e,t){var n=kt();return o0(n,vt.memoizedState,e,t)},useTransition:function(){var e=go(Bn)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:q_,useId:f0,useHostTransitionStatus:Od,useFormState:bp,useActionState:bp,useOptimistic:function(e,t){var n=kt();return X_(n,vt,e,t)},useMemoCache:Dd,useCacheRefresh:d0};zd.useEffectEvent=e0;var v0={readContext:le,use:Lu,useCallback:s0,useContext:le,useEffect:Vd,useImperativeHandle:r0,useInsertionEffect:n0,useLayoutEffect:i0,useMemo:l0,useReducer:Kc,useRef:t0,useState:function(){return Kc(Bn)},useDebugValue:Id,useDeferredValue:function(e,t){var n=kt();return vt===null?Md(n,e,t):o0(n,vt.memoizedState,e,t)},useTransition:function(){var e=Kc(Bn)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:q_,useId:f0,useHostTransitionStatus:Od,useFormState:Sp,useActionState:Sp,useOptimistic:function(e,t){var n=kt();return vt!==null?X_(n,vt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:d0};v0.useEffectEvent=e0;function Xc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var rf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ue(),a=yi(i);a.payload=t,n!=null&&(a.callback=n),t=vi(e,a,i),t!==null&&(we(t,e,i),As(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ue(),a=yi(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=vi(e,a,i),t!==null&&(we(t,e,i),As(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),i=yi(n);i.tag=2,t!=null&&(i.callback=t),t=vi(e,i,n),t!==null&&(we(t,e,n),As(t,e,n))}};function wp(e,t,n,i,a,r,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,s):t.prototype&&t.prototype.isPureReactComponent?!Ps(n,i)||!Ps(a,r):!0}function Rp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&rf.enqueueReplaceState(t,t.state,null)}function da(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ct({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function _0(e){Uo(e)}function E0(e){console.error(e)}function T0(e){Uo(e)}function Qo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function xp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function sf(e,t,n){return n=yi(n),n.tag=3,n.payload={element:null},n.callback=function(){Qo(e,t)},n}function b0(e){return e=yi(e),e.tag=3,e}function S0(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=i.value;e.payload=function(){return a(r)},e.callback=function(){xp(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){xp(t,n,i),typeof a!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function oA(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Cr(t,n,a,!0),n=ke.current,n!==null){switch(n.tag){case 31:case 13:return Xe===null?Zo():n.alternate===null&&Lt===0&&(Lt=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Po?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),sh(e,i,a)),!1;case 22:return n.flags|=65536,i===Po?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),sh(e,i,a)),!1}throw Error(z(435,n.tag))}return sh(e,i,a),Zo(),!1}if(ot)return t=ke.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==Qh&&(e=Error(z(422),{cause:i}),qs(Qe(e,n)))):(i!==Qh&&(t=Error(z(423),{cause:i}),qs(Qe(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=Qe(i,n),a=sf(e.stateNode,i,a),Yc(e,a),Lt!==4&&(Lt=2)),!1;var r=Error(z(520),{cause:i});if(r=Qe(r,n),Ns===null?Ns=[r]:Ns.push(r),Lt!==4&&(Lt=2),t===null)return!0;i=Qe(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=sf(n.stateNode,i,e),Yc(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=b0(a),S0(a,e,n,i),Yc(n,a),!1}n=n.return}while(n!==null);return!1}var Ud=Error(z(461)),Gt=!1;function ne(e,t,n,i){t.child=e===null?U_(t,null,n,i):ha(t,e.child,n,i)}function Cp(e,t,n,i,a){n=n.render;var r=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return ca(t),i=wd(e,t,n,s,r,a),o=Rd(),e!==null&&!Gt?(xd(e,t,a),Pn(e,t,a)):(ot&&o&&yd(t),t.flags|=1,ne(e,t,i,a),t.child)}function Dp(e,t,n,i,a){if(e===null){var r=n.type;return typeof r=="function"&&!pd(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,A0(e,t,r,i,a)):(e=fo(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!jd(e,a)){var s=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ps,n(s,i)&&e.ref===t.ref)return Pn(e,t,a)}return t.flags|=1,e=On(r,i),e.ref=t.ref,e.return=t,t.child=e}function A0(e,t,n,i,a){if(e!==null){var r=e.memoizedProps;if(Ps(r,i)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=i=r,jd(e,a))e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,Pn(e,t,a)}return lf(e,t,n,i,a)}function w0(e,t,n,i){var a=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~r}else i=0,t.child=null;return Np(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mo(t,r!==null?r.cachePool:null),r!==null?vp(t,r):Wh(),B_(t);else return i=t.lanes=536870912,Np(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(mo(t,r.cachePool),vp(t,r),li(),t.memoizedState=null):(e!==null&&mo(t,null),Wh(),li());return ne(e,t,a,n),t.child}function ds(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Np(e,t,n,i,a){var r=Ed();return r=r===null?null:{parent:qt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&mo(t,null),Wh(),B_(t),e!==null&&Cr(e,t,i,!0),t.childLanes=a,null}function yo(e,t){return t=Yo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Vp(e,t,n){return ha(t,e.child,null,n),e=yo(t,t.pendingProps),e.flags|=2,Ne(t),t.memoizedState=null,e}function uA(e,t,n){var i=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ot){if(i.mode==="hidden")return e=yo(t,i),t.lanes=536870912,ds(null,e);if(tf(t),(e=At)?(e=yE(e,Ye),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Di!==null?{id:hn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},n=N_(e),n.return=t,t.child=n,re=t,At=null)):e=null,e===null)throw Ni(t);return t.lanes=536870912,null}return yo(t,i)}var r=e.memoizedState;if(r!==null){var s=r.dehydrated;if(tf(t),a)if(t.flags&256)t.flags&=-257,t=Vp(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(z(558));else if(Gt||Cr(e,t,n,!1),a=(n&e.childLanes)!==0,Gt||a){if(i=Et,i!==null&&(s=n_(i,n),s!==0&&s!==r.retryLane))throw r.retryLane=s,Ea(e,s),we(i,e,s),Ud;Zo(),t=Vp(e,t,n)}else e=r.treeContext,At=$e(s.nextSibling),re=t,ot=!0,pi=null,Ye=!1,e!==null&&I_(t,e),t=yo(t,i),t.flags|=4096;return t}return e=On(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function vo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lf(e,t,n,i,a){return ca(t),n=wd(e,t,n,i,void 0,a),i=Rd(),e!==null&&!Gt?(xd(e,t,a),Pn(e,t,a)):(ot&&i&&yd(t),t.flags|=1,ne(e,t,n,a),t.child)}function Ip(e,t,n,i,a,r){return ca(t),t.updateQueue=null,n=H_(t,i,n,a),P_(e),i=Rd(),e!==null&&!Gt?(xd(e,t,r),Pn(e,t,r)):(ot&&i&&yd(t),t.flags|=1,ne(e,t,n,r),t.child)}function Mp(e,t,n,i,a){if(ca(t),t.stateNode===null){var r=Ya,s=n.contextType;typeof s=="object"&&s!==null&&(r=le(s)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=rf,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},bd(t),s=n.contextType,r.context=typeof s=="object"&&s!==null?le(s):Ya,r.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Xc(t,n,s,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(s=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),s!==r.state&&rf.enqueueReplaceState(r,r.state,null),Rs(t,i,r,a),ws(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,u=da(n,o);r.props=u;var c=r.context,f=n.contextType;s=Ya,typeof f=="object"&&f!==null&&(s=le(f));var g=n.getDerivedStateFromProps;f=typeof g=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||c!==s)&&Rp(t,r,i,s),ai=!1;var m=t.memoizedState;r.state=m,Rs(t,i,r,a),ws(),c=t.memoizedState,o||m!==c||ai?(typeof g=="function"&&(Xc(t,n,g,i),c=t.memoizedState),(u=ai||wp(t,n,u,i,m,c,s))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),r.props=i,r.state=c,r.context=s,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Zh(e,t),s=t.memoizedProps,f=da(n,s),r.props=f,g=t.pendingProps,m=r.context,c=n.contextType,u=Ya,typeof c=="object"&&c!==null&&(u=le(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(s!==g||m!==u)&&Rp(t,r,i,u),ai=!1,m=t.memoizedState,r.state=m,Rs(t,i,r,a),ws();var p=t.memoizedState;s!==g||m!==p||ai||e!==null&&e.dependencies!==null&&Bo(e.dependencies)?(typeof o=="function"&&(Xc(t,n,o,i),p=t.memoizedState),(f=ai||wp(t,n,f,i,m,p,u)||e!==null&&e.dependencies!==null&&Bo(e.dependencies))?(c||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,p,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,p,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),r.props=i,r.state=p,r.context=u,i=f):(typeof r.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,vo(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=ha(t,e.child,null,a),t.child=ha(t,null,n,a)):ne(e,t,n,a),t.memoizedState=r.state,e=t.child):e=Pn(e,t,a),e}function Op(e,t,n,i){return ua(),t.flags|=256,ne(e,t,n,i),t.child}var $c={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zc(e){return{baseLanes:e,cachePool:O_()}}function Jc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ie),e}function R0(e,t,n){var i=t.pendingProps,a=!1,r=(t.flags&128)!==0,s;if((s=r)||(s=e!==null&&e.memoizedState===null?!1:(Ut.current&2)!==0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(a?si(t):li(),(e=At)?(e=yE(e,Ye),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Di!==null?{id:hn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},n=N_(e),n.return=t,t.child=n,re=t,At=null)):e=null,e===null)throw Ni(t);return Tf(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,a?(li(),a=t.mode,o=Yo({mode:"hidden",children:o},a),i=aa(i,a,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Zc(n),i.childLanes=Jc(e,s,n),t.memoizedState=$c,ds(null,i)):(si(t),of(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(r)t.flags&256?(si(t),t.flags&=-257,t=Wc(e,t,n)):t.memoizedState!==null?(li(),t.child=e.child,t.flags|=128,t=null):(li(),o=i.fallback,a=t.mode,i=Yo({mode:"visible",children:i.children},a),o=aa(o,a,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ha(t,e.child,null,n),i=t.child,i.memoizedState=Zc(n),i.childLanes=Jc(e,s,n),t.memoizedState=$c,t=ds(null,i));else if(si(t),Tf(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(z(419)),i.stack="",i.digest=s,qs({value:i,source:null,stack:null}),t=Wc(e,t,n)}else if(Gt||Cr(e,t,n,!1),s=(n&e.childLanes)!==0,Gt||s){if(s=Et,s!==null&&(i=n_(s,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Ea(e,i),we(s,e,i),Ud;Ef(o)||Zo(),t=Wc(e,t,n)}else Ef(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,At=$e(o.nextSibling),re=t,ot=!0,pi=null,Ye=!1,e!==null&&I_(t,e),t=of(t,i.children),t.flags|=4096);return t}return a?(li(),o=i.fallback,a=t.mode,u=e.child,c=u.sibling,i=On(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=On(c,o):(o=aa(o,a,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,ds(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Zc(n):(a=o.cachePool,a!==null?(u=qt._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=O_(),o={baseLanes:o.baseLanes|n,cachePool:a}),i.memoizedState=o,i.childLanes=Jc(e,s,n),t.memoizedState=$c,ds(e.child,i)):(si(t),n=e.child,e=n.sibling,n=On(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function of(e,t){return t=Yo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yo(e,t){return e=Ve(22,e,null,t),e.lanes=0,e}function Wc(e,t,n){return ha(t,e.child,null,n),e=of(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Kh(e.return,t,n)}function th(e,t,n,i,a,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a,s.treeForkCount=r)}function x0(e,t,n){var i=t.pendingProps,a=i.revealOrder,r=i.tail;i=i.children;var s=Ut.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,Tt(Ut,s),ne(e,t,i,n),i=ot?Hs:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,n,t);else if(e.tag===19)Lp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&qo(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),th(t,!1,a,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&qo(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}th(t,!0,n,null,r,i);break;case"together":th(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ii|=t.lanes,!(n&t.childLanes))if(e!==null){if(Cr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=On(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=On(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Bo(e)))}function cA(e,t,n){switch(t.tag){case 3:Mo(t,t.stateNode.containerInfo),ri(t,qt,e.memoizedState.cache),ua();break;case 27:case 5:Lh(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:ri(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,tf(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(si(t),t.flags|=128,null):n&t.child.childLanes?R0(e,t,n):(si(t),e=Pn(e,t,n),e!==null?e.sibling:null);si(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Cr(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return x0(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Tt(Ut,Ut.current),i)break;return null;case 22:return t.lanes=0,w0(e,t,n,t.pendingProps);case 24:ri(t,qt,e.memoizedState.cache)}return Pn(e,t,n)}function C0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Gt=!0;else{if(!jd(e,n)&&!(t.flags&128))return Gt=!1,cA(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,ot&&t.flags&1048576&&V_(t,Hs,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=Wi(t.elementType),t.type=e,typeof e=="function")pd(e)?(i=da(e,i),t.tag=1,t=Mp(null,t,e,i,n)):(t.tag=0,t=lf(null,t,e,i,n));else{if(e!=null){var a=e.$$typeof;if(a===nd){t.tag=11,t=Cp(null,t,e,i,n);break t}else if(a===id){t.tag=14,t=Dp(null,t,e,i,n);break t}}throw t=Mh(e)||e,Error(z(306,t,""))}}return t;case 0:return lf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=da(i,t.pendingProps),Mp(e,t,i,a,n);case 3:t:{if(Mo(t,t.stateNode.containerInfo),e===null)throw Error(z(387));i=t.pendingProps;var r=t.memoizedState;a=r.element,Zh(e,t),Rs(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ri(t,qt,i),i!==r.cache&&Xh(t,[qt],n,!0),ws(),i=s.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=Op(e,t,i,n);break t}else if(i!==a){a=Qe(Error(z(424)),t),qs(a),t=Op(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(At=$e(e.firstChild),re=t,ot=!0,pi=null,Ye=!0,n=U_(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ua(),i===a){t=Pn(e,t,n);break t}ne(e,t,i,n)}t=t.child}return t;case 26:return vo(e,t),e===null?(n=ey(t.type,null,t.pendingProps,null))?t.memoizedState=n:ot||(n=t.type,e=t.pendingProps,i=eu(gi.current).createElement(n),i[ae]=t,i[Re]=e,oe(i,n,e),te(i),t.stateNode=i):t.memoizedState=ey(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Lh(t),e===null&&ot&&(i=t.stateNode=vE(t.type,t.pendingProps,gi.current),re=t,Ye=!0,a=At,Bi(t.type)?(bf=a,At=$e(i.firstChild)):At=a),ne(e,t,t.pendingProps.children,n),vo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ot&&((a=i=At)&&(i=BA(i,t.type,t.pendingProps,Ye),i!==null?(t.stateNode=i,re=t,At=$e(i.firstChild),Ye=!1,a=!0):a=!1),a||Ni(t)),Lh(t),a=t.type,r=t.pendingProps,s=e!==null?e.memoizedProps:null,i=r.children,vf(a,r)?i=null:s!==null&&vf(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=wd(e,t,eA,null,null,n),Xs._currentValue=a),vo(e,t),ne(e,t,i,n),t.child;case 6:return e===null&&ot&&((e=n=At)&&(n=PA(n,t.pendingProps,Ye),n!==null?(t.stateNode=n,re=t,At=null,e=!0):e=!1),e||Ni(t)),null;case 13:return R0(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ha(t,null,i,n):ne(e,t,i,n),t.child;case 11:return Cp(e,t,t.type,t.pendingProps,n);case 7:return ne(e,t,t.pendingProps,n),t.child;case 8:return ne(e,t,t.pendingProps.children,n),t.child;case 12:return ne(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ri(t,t.type,i.value),ne(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,ca(t),a=le(a),i=i(a),t.flags|=1,ne(e,t,i,n),t.child;case 14:return Dp(e,t,t.type,t.pendingProps,n);case 15:return A0(e,t,t.type,t.pendingProps,n);case 19:return x0(e,t,n);case 31:return uA(e,t,n);case 22:return w0(e,t,n,t.pendingProps);case 24:return ca(t),i=le(qt),e===null?(a=Ed(),a===null&&(a=Et,r=_d(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),t.memoizedState={parent:i,cache:a},bd(t),ri(t,qt,a)):(e.lanes&n&&(Zh(e,t),Rs(t,null,null,n),ws()),a=e.memoizedState,r=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ri(t,qt,i)):(i=r.cache,ri(t,qt,i),i!==a.cache&&Xh(t,[qt],n,!0))),ne(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(z(156,t.tag))}function An(e){e.flags|=4}function eh(e,t,n,i,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(J0())e.flags|=8192;else throw sa=Po,Td}else e.flags&=-16777217}function zp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!TE(t))if(J0())e.flags|=8192;else throw sa=Po,Td}function $l(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wv():536870912,e.lanes|=t,mr|=t)}function rs(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function hA(e,t,n){var i=t.pendingProps;switch(vd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return St(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(qt),or(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Na(t)?An(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qc())),St(t),null;case 26:var a=t.type,r=t.memoizedState;return e===null?(An(t),r!==null?(St(t),zp(t,r)):(St(t),eh(t,a,null,i,n))):r?r!==e.memoizedState?(An(t),St(t),zp(t,r)):(St(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&An(t),St(t),eh(t,a,e,i,n)),null;case 27:if(Oo(t),n=gi.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return St(t),null}e=mn.current,Na(t)?hp(t):(e=vE(a,i,n),t.stateNode=e,An(t))}return St(t),null;case 5:if(Oo(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return St(t),null}if(r=mn.current,Na(t))hp(t);else{var s=eu(gi.current);switch(r){case 1:r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?s.createElement(a,{is:i.is}):s.createElement(a)}}r[ae]=t,r[Re]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=r;t:switch(oe(r,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&An(t)}}return St(t),eh(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(z(166));if(e=gi.current,Na(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=re,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[ae]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||mE(e.nodeValue,n)),e||Ni(t,!0)}else e=eu(e).createTextNode(i),e[ae]=t,t.stateNode=e}return St(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Na(t),n!==null){if(e===null){if(!i)throw Error(z(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(557));e[ae]=t}else ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),e=!1}else n=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ne(t),t):(Ne(t),null);if(t.flags&128)throw Error(z(558))}return St(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Na(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(z(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[ae]=t}else ua(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),a=!1}else a=Qc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Ne(t),t):(Ne(t),null)}return Ne(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),$l(t,t.updateQueue),St(t),null);case 4:return or(),e===null&&Fd(t.stateNode.containerInfo),St(t),null;case 10:return Ln(t.type),St(t),null;case 19:if(ee(Ut),i=t.memoizedState,i===null)return St(t),null;if(a=(t.flags&128)!==0,r=i.rendering,r===null)if(a)rs(i,!1);else{if(Lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=qo(e),r!==null){for(t.flags|=128,rs(i,!1),e=r.updateQueue,t.updateQueue=e,$l(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)D_(n,e),n=n.sibling;return Tt(Ut,Ut.current&1|2),ot&&Dn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Oe()>Xo&&(t.flags|=128,a=!0,rs(i,!1),t.lanes=4194304)}else{if(!a)if(e=qo(r),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,$l(t,e),rs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!ot)return St(t),null}else 2*Oe()-i.renderingStartTime>Xo&&n!==536870912&&(t.flags|=128,a=!0,rs(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Oe(),e.sibling=null,n=Ut.current,Tt(Ut,a?n&1|2:n&1),ot&&Dn(t,i.treeForkCount),e):(St(t),null);case 22:case 23:return Ne(t),Sd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),n=t.updateQueue,n!==null&&$l(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ee(ra),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ln(qt),St(t),null;case 25:return null;case 30:return null}throw Error(z(156,t.tag))}function fA(e,t){switch(vd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(qt),or(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Oo(t),null;case 31:if(t.memoizedState!==null){if(Ne(t),t.alternate===null)throw Error(z(340));ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ne(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(Ut),null;case 4:return or(),null;case 10:return Ln(t.type),null;case 22:case 23:return Ne(t),Sd(),e!==null&&ee(ra),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(qt),null;case 25:return null;default:return null}}function D0(e,t){switch(vd(t),t.tag){case 3:Ln(qt),or();break;case 26:case 27:case 5:Oo(t);break;case 4:or();break;case 31:t.memoizedState!==null&&Ne(t);break;case 13:Ne(t);break;case 19:ee(Ut);break;case 10:Ln(t.type);break;case 22:case 23:Ne(t),Sd(),e!==null&&ee(ra);break;case 24:Ln(qt)}}function pl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var r=n.create,s=n.inst;i=r(),s.destroy=i}n=n.next}while(n!==a)}}catch(o){pt(t,t.return,o)}}function Vi(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=t;var u=n,c=o;try{c()}catch(f){pt(a,u,f)}}}i=i.next}while(i!==r)}}catch(f){pt(t,t.return,f)}}function N0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{k_(t,n)}catch(i){pt(e,e.return,i)}}}function V0(e,t,n){n.props=da(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){pt(e,t,i)}}function Cs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){pt(e,t,a)}}function dn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){pt(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){pt(e,t,a)}else n.current=null}function I0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){pt(e,e.return,a)}}function nh(e,t,n){try{var i=e.stateNode;OA(i,e.type,n,t),i[Re]=t}catch(a){pt(e,e.return,a)}}function M0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bi(e.type)||e.tag===4}function ih(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||M0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=In));else if(i!==4&&(i===27&&Bi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(uf(e,t,n),e=e.sibling;e!==null;)uf(e,t,n),e=e.sibling}function Ko(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Bi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ko(e,t,n),e=e.sibling;e!==null;)Ko(e,t,n),e=e.sibling}function O0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);oe(t,i,n),t[ae]=e,t[Re]=n}catch(r){pt(e,e.return,r)}}var Nn=!1,Ht=!1,ah=!1,Up=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function dA(e,t){if(e=e.containerInfo,pf=ru,e=T_(e),dd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var s=0,o=-1,u=-1,c=0,f=0,g=e,m=null;e:for(;;){for(var p;g!==n||a!==0&&g.nodeType!==3||(o=s+a),g!==r||i!==0&&g.nodeType!==3||(u=s+i),g.nodeType===3&&(s+=g.nodeValue.length),(p=g.firstChild)!==null;)m=g,g=p;for(;;){if(g===e)break e;if(m===n&&++c===a&&(o=s),m===r&&++f===i&&(u=s),(p=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=p}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yf={focusedElem:e,selectionRange:n},ru=!1,Wt=t;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){switch(t=Wt,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,a=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var x=da(n.type,a);e=i.getSnapshotBeforeUpdate(x,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(D){pt(n,n.return,D)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)_f(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_f(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(z(163))}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}}function L0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Rn(e,n),i&4&&pl(5,n);break;case 1:if(Rn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){pt(n,n.return,s)}else{var a=da(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){pt(n,n.return,s)}}i&64&&N0(n),i&512&&Cs(n,n.return);break;case 3:if(Rn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{k_(e,t)}catch(s){pt(n,n.return,s)}}break;case 27:t===null&&i&4&&O0(n);case 26:case 5:Rn(e,n),t===null&&i&4&&I0(n),i&512&&Cs(n,n.return);break;case 12:Rn(e,n);break;case 31:Rn(e,n),i&4&&j0(e,n);break;case 13:Rn(e,n),i&4&&k0(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=bA.bind(null,n),HA(e,n))));break;case 22:if(i=n.memoizedState!==null||Nn,!i){t=t!==null&&t.memoizedState!==null||Ht,a=Nn;var r=Ht;Nn=i,(Ht=t)&&!r?xn(e,n,(n.subtreeFlags&8772)!==0):Rn(e,n),Nn=a,Ht=r}break;case 30:break;default:Rn(e,n)}}function z0(e){var t=e.alternate;t!==null&&(e.alternate=null,z0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ld(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,Te=!1;function wn(e,t,n){for(n=n.child;n!==null;)U0(e,t,n),n=n.sibling}function U0(e,t,n){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 26:Ht||dn(n,t),wn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||dn(n,t);var i=Dt,a=Te;Bi(n.type)&&(Dt=n.stateNode,Te=!1),wn(e,t,n),Is(n.stateNode),Dt=i,Te=a;break;case 5:Ht||dn(n,t);case 6:if(i=Dt,a=Te,Dt=null,wn(e,t,n),Dt=i,Te=a,Dt!==null)if(Te)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(n.stateNode)}catch(r){pt(n,t,r)}else try{Dt.removeChild(n.stateNode)}catch(r){pt(n,t,r)}break;case 18:Dt!==null&&(Te?(e=Dt,$p(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),vr(e)):$p(Dt,n.stateNode));break;case 4:i=Dt,a=Te,Dt=n.stateNode.containerInfo,Te=!0,wn(e,t,n),Dt=i,Te=a;break;case 0:case 11:case 14:case 15:Vi(2,n,t),Ht||Vi(4,n,t),wn(e,t,n);break;case 1:Ht||(dn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&V0(n,t,i)),wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:Ht=(i=Ht)||n.memoizedState!==null,wn(e,t,n),Ht=i;break;default:wn(e,t,n)}}function j0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{vr(e)}catch(n){pt(t,t.return,n)}}}function k0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{vr(e)}catch(n){pt(t,t.return,n)}}function mA(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Up),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Up),t;default:throw Error(z(435,e.tag))}}function Zl(e,t){var n=mA(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var a=SA.bind(null,e,i);i.then(a,a)}})}function _e(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],r=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Bi(o.type)){Dt=o.stateNode,Te=!1;break t}break;case 5:Dt=o.stateNode,Te=!1;break t;case 3:case 4:Dt=o.stateNode.containerInfo,Te=!0;break t}o=o.return}if(Dt===null)throw Error(z(160));U0(r,s,a),Dt=null,Te=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)B0(t,e),t=t.sibling}var en=null;function B0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_e(t,e),Ee(e),i&4&&(Vi(3,e,e.return),pl(3,e),Vi(5,e,e.return));break;case 1:_e(t,e),Ee(e),i&512&&(Ht||n===null||dn(n,n.return)),i&64&&Nn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=en;if(_e(t,e),Ee(e),i&512&&(Ht||n===null||dn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":r=a.getElementsByTagName("title")[0],(!r||r[fl]||r[ae]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(i),a.head.insertBefore(r,a.querySelector("head > title"))),oe(r,i,n),r[ae]=e,te(r),i=r;break t;case"link":var s=iy("link","href",a).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(r=s[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}r=a.createElement(i),oe(r,i,n),a.head.appendChild(r);break;case"meta":if(s=iy("meta","content",a).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(r=s[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}r=a.createElement(i),oe(r,i,n),a.head.appendChild(r);break;default:throw Error(z(468,i))}r[ae]=e,te(r),i=r}e.stateNode=i}else ay(a,e.type,e.stateNode);else e.stateNode=ny(a,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?ay(a,e.type,e.stateNode):ny(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&nh(e,e.memoizedProps,n.memoizedProps)}break;case 27:_e(t,e),Ee(e),i&512&&(Ht||n===null||dn(n,n.return)),n!==null&&i&4&&nh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_e(t,e),Ee(e),i&512&&(Ht||n===null||dn(n,n.return)),e.flags&32){a=e.stateNode;try{cr(a,"")}catch(x){pt(e,e.return,x)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,nh(e,a,n!==null?n.memoizedProps:a)),i&1024&&(ah=!0);break;case 6:if(_e(t,e),Ee(e),i&4){if(e.stateNode===null)throw Error(z(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(x){pt(e,e.return,x)}}break;case 3:if(To=null,a=en,en=nu(t.containerInfo),_e(t,e),en=a,Ee(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{vr(t.containerInfo)}catch(x){pt(e,e.return,x)}ah&&(ah=!1,P0(e));break;case 4:i=en,en=nu(e.stateNode.containerInfo),_e(t,e),Ee(e),en=i;break;case 12:_e(t,e),Ee(e);break;case 31:_e(t,e),Ee(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zl(e,i)));break;case 13:_e(t,e),Ee(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ju=Oe()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zl(e,i)));break;case 22:a=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Nn,f=Ht;if(Nn=c||a,Ht=f||u,_e(t,e),Ht=f,Nn=c,Ee(e),i&8192)t:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||u||Nn||Ht||ta(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,a)s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(x){pt(u,u.return,x)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(x){pt(u,u.return,x)}}}else if(t.tag===18){if(n===null){u=t;try{var p=u.stateNode;a?Zp(p,!0):Zp(u.stateNode,!1)}catch(x){pt(u,u.return,x)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Zl(e,n))));break;case 19:_e(t,e),Ee(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zl(e,i)));break;case 30:break;case 21:break;default:_e(t,e),Ee(e)}}function Ee(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(M0(i)){n=i;break}i=i.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var a=n.stateNode,r=ih(e);Ko(e,r,a);break;case 5:var s=n.stateNode;n.flags&32&&(cr(s,""),n.flags&=-33);var o=ih(e);Ko(e,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=ih(e);uf(e,c,u);break;default:throw Error(z(161))}}catch(f){pt(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function P0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;P0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Rn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)L0(e,t.alternate,t),t=t.sibling}function ta(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vi(4,t,t.return),ta(t);break;case 1:dn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&V0(t,t.return,n),ta(t);break;case 27:Is(t.stateNode);case 26:case 5:dn(t,t.return),ta(t);break;case 22:t.memoizedState===null&&ta(t);break;case 30:ta(t);break;default:ta(t)}e=e.sibling}}function xn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,r=t,s=r.flags;switch(r.tag){case 0:case 11:case 15:xn(a,r,n),pl(4,r);break;case 1:if(xn(a,r,n),i=r,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(c){pt(i,i.return,c)}if(i=r,a=i.updateQueue,a!==null){var o=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)j_(u[a],o)}catch(c){pt(i,i.return,c)}}n&&s&64&&N0(r),Cs(r,r.return);break;case 27:O0(r);case 26:case 5:xn(a,r,n),n&&i===null&&s&4&&I0(r),Cs(r,r.return);break;case 12:xn(a,r,n);break;case 31:xn(a,r,n),n&&s&4&&j0(a,r);break;case 13:xn(a,r,n),n&&s&4&&k0(a,r);break;case 22:r.memoizedState===null&&xn(a,r,n),Cs(r,r.return);break;case 30:break;default:xn(a,r,n)}t=t.sibling}}function kd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ml(n))}function Bd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ml(e))}function We(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)H0(e,t,n,i),t=t.sibling}function H0(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:We(e,t,n,i),a&2048&&pl(9,t);break;case 1:We(e,t,n,i);break;case 3:We(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ml(e)));break;case 12:if(a&2048){We(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,s=r.id,o=r.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){pt(t,t.return,u)}}else We(e,t,n,i);break;case 31:We(e,t,n,i);break;case 13:We(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,s=t.alternate,t.memoizedState!==null?r._visibility&2?We(e,t,n,i):Ds(e,t):r._visibility&2?We(e,t,n,i):(r._visibility|=2,Ma(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),a&2048&&kd(s,t);break;case 24:We(e,t,n,i),a&2048&&Bd(t.alternate,t);break;default:We(e,t,n,i)}}function Ma(e,t,n,i,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,s=t,o=n,u=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Ma(r,s,o,u,a),pl(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?Ma(r,s,o,u,a):Ds(r,s):(f._visibility|=2,Ma(r,s,o,u,a)),a&&c&2048&&kd(s.alternate,s);break;case 24:Ma(r,s,o,u,a),a&&c&2048&&Bd(s.alternate,s);break;default:Ma(r,s,o,u,a)}t=t.sibling}}function Ds(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:Ds(n,i),a&2048&&kd(i.alternate,i);break;case 24:Ds(n,i),a&2048&&Bd(i.alternate,i);break;default:Ds(n,i)}t=t.sibling}}var ms=8192;function Va(e,t,n){if(e.subtreeFlags&ms)for(e=e.child;e!==null;)q0(e,t,n),e=e.sibling}function q0(e,t,n){switch(e.tag){case 26:Va(e,t,n),e.flags&ms&&e.memoizedState!==null&&t2(n,en,e.memoizedState,e.memoizedProps);break;case 5:Va(e,t,n);break;case 3:case 4:var i=en;en=nu(e.stateNode.containerInfo),Va(e,t,n),en=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ms,ms=16777216,Va(e,t,n),ms=i):Va(e,t,n));break;default:Va(e,t,n)}}function G0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ss(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wt=i,Q0(i,e)}G0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)F0(e),e=e.sibling}function F0(e){switch(e.tag){case 0:case 11:case 15:ss(e),e.flags&2048&&Vi(9,e,e.return);break;case 3:ss(e);break;case 12:ss(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_o(e)):ss(e);break;default:ss(e)}}function _o(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wt=i,Q0(i,e)}G0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vi(8,t,t.return),_o(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,_o(t));break;default:_o(t)}e=e.sibling}}function Q0(e,t){for(;Wt!==null;){var n=Wt;switch(n.tag){case 0:case 11:case 15:Vi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ml(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Wt=i;else t:for(n=e;Wt!==null;){i=Wt;var a=i.sibling,r=i.return;if(z0(i),i===n){Wt=null;break t}if(a!==null){a.return=r,Wt=a;break t}Wt=r}}}var gA={getCacheForType:function(e){var t=le(qt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return le(qt).controller.signal}},pA=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,at=null,lt=0,gt=0,De=null,hi=!1,Nr=!1,Pd=!1,Hn=0,Lt=0,Ii=0,la=0,Hd=0,Ie=0,mr=0,Ns=null,be=null,cf=!1,ju=0,Y0=0,Xo=1/0,$o=null,_i=null,Yt=0,Ei=null,gr=null,zn=0,hf=0,ff=null,K0=null,Vs=0,df=null;function Ue(){return ht&2&&lt!==0?lt&-lt:K.T!==null?Gd():i_()}function X0(){if(Ie===0)if(!(lt&536870912)||ot){var e=ql;ql<<=1,!(ql&3932160)&&(ql=262144),Ie=e}else Ie=536870912;return e=ke.current,e!==null&&(e.flags|=32),Ie}function we(e,t,n){(e===Et&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(pr(e,0),fi(e,lt,Ie,!1)),hl(e,n),(!(ht&2)||e!==Et)&&(e===Et&&(!(ht&2)&&(la|=n),Lt===4&&fi(e,lt,Ie,!1)),Tn(e))}function $0(e,t,n){if(ht&6)throw Error(z(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||cl(e,t),a=i?_A(e,t):rh(e,t,!0),r=i;do{if(a===0){Nr&&!i&&fi(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!yA(n)){a=rh(e,t,!1),r=!1;continue}if(a===2){if(r=t,e.errorRecoveryDisabledLanes&r)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;a=Ns;var u=o.current.memoizedState.isDehydrated;if(u&&(pr(o,s).flags|=256),s=rh(o,s,!1),s!==2){if(Pd&&!u){o.errorRecoveryDisabledLanes|=r,la|=r,a=4;break t}r=be,be=a,r!==null&&(be===null?be=r:be.push.apply(be,r))}a=s}if(r=!1,a!==2)continue}}if(a===1){pr(e,0),fi(e,t,0,!0);break}t:{switch(i=e,r=a,r){case 0:case 1:throw Error(z(345));case 4:if((t&4194048)!==t)break;case 6:fi(i,t,Ie,!hi);break t;case 2:be=null;break;case 3:case 5:break;default:throw Error(z(329))}if((t&62914560)===t&&(a=ju+300-Oe(),10<a)){if(fi(i,t,Ie,!hi),xu(i,0,!0)!==0)break t;zn=t,i.timeoutHandle=pE(jp.bind(null,i,n,be,$o,cf,t,Ie,la,mr,hi,r,"Throttled",-0,0),a);break t}jp(i,n,be,$o,cf,t,Ie,la,mr,hi,r,null,-0,0)}}break}while(!0);Tn(e)}function jp(e,t,n,i,a,r,s,o,u,c,f,g,m,p){if(e.timeoutHandle=-1,g=t.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:In},q0(t,r,g);var x=(r&62914560)===r?ju-Oe():(r&4194048)===r?Y0-Oe():0;if(x=e2(g,x),x!==null){zn=r,e.cancelPendingCommit=x(Bp.bind(null,e,t,r,n,i,a,s,o,u,f,g,null,m,p)),fi(e,r,s,!c);return}}Bp(e,t,r,n,i,a,s,o,u)}function yA(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!je(r(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fi(e,t,n,i){t&=~Hd,t&=~la,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var r=31-ze(a),s=1<<r;i[r]=-1,a&=~s}n!==0&&t_(e,n,t)}function ku(){return ht&6?!0:(yl(0),!1)}function qd(){if(at!==null){if(gt===0)var e=at.return;else e=at,Mn=Ta=null,Cd(e),er=null,Gs=0,e=at;for(;e!==null;)D0(e.alternate,e),e=e.return;at=null}}function pr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,UA(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),zn=0,qd(),Et=e,at=n=On(e.current,null),lt=t,gt=0,De=null,hi=!1,Nr=cl(e,t),Pd=!1,mr=Ie=Hd=la=Ii=Lt=0,be=Ns=null,cf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-ze(i),r=1<<a;t|=e[a],i&=~r}return Hn=t,Vu(),n}function Z0(e,t){et=null,K.H=Qs,t===Dr||t===Mu?(t=pp(),gt=3):t===Td?(t=pp(),gt=4):gt=t===Ud?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,De=t,at===null&&(Lt=1,Qo(e,Qe(t,e.current)))}function J0(){var e=ke.current;return e===null?!0:(lt&4194048)===lt?Xe===null:(lt&62914560)===lt||lt&536870912?e===Xe:!1}function W0(){var e=K.H;return K.H=Qs,e===null?Qs:e}function tE(){var e=K.A;return K.A=gA,e}function Zo(){Lt=4,hi||(lt&4194048)!==lt&&ke.current!==null||(Nr=!0),!(Ii&134217727)&&!(la&134217727)||Et===null||fi(Et,lt,Ie,!1)}function rh(e,t,n){var i=ht;ht|=2;var a=W0(),r=tE();(Et!==e||lt!==t)&&($o=null,pr(e,t)),t=!1;var s=Lt;t:do try{if(gt!==0&&at!==null){var o=at,u=De;switch(gt){case 8:qd(),s=6;break t;case 3:case 2:case 9:case 6:ke.current===null&&(t=!0);var c=gt;if(gt=0,De=null,$a(e,o,u,c),n&&Nr){s=0;break t}break;default:c=gt,gt=0,De=null,$a(e,o,u,c)}}vA(),s=Lt;break}catch(f){Z0(e,f)}while(!0);return t&&e.shellSuspendCounter++,Mn=Ta=null,ht=i,K.H=a,K.A=r,at===null&&(Et=null,lt=0,Vu()),s}function vA(){for(;at!==null;)eE(at)}function _A(e,t){var n=ht;ht|=2;var i=W0(),a=tE();Et!==e||lt!==t?($o=null,Xo=Oe()+500,pr(e,t)):Nr=cl(e,t);t:do try{if(gt!==0&&at!==null){t=at;var r=De;e:switch(gt){case 1:gt=0,De=null,$a(e,t,r,1);break;case 2:case 9:if(gp(r)){gt=0,De=null,kp(t);break}t=function(){gt!==2&&gt!==9||Et!==e||(gt=7),Tn(e)},r.then(t,t);break t;case 3:gt=7;break t;case 4:gt=5;break t;case 7:gp(r)?(gt=0,De=null,kp(t)):(gt=0,De=null,$a(e,t,r,7));break;case 5:var s=null;switch(at.tag){case 26:s=at.memoizedState;case 5:case 27:var o=at;if(s?TE(s):o.stateNode.complete){gt=0,De=null;var u=o.sibling;if(u!==null)at=u;else{var c=o.return;c!==null?(at=c,Bu(c)):at=null}break e}}gt=0,De=null,$a(e,t,r,5);break;case 6:gt=0,De=null,$a(e,t,r,6);break;case 8:qd(),Lt=6;break t;default:throw Error(z(462))}}EA();break}catch(f){Z0(e,f)}while(!0);return Mn=Ta=null,K.H=i,K.A=a,ht=n,at!==null?0:(Et=null,lt=0,Vu(),Lt)}function EA(){for(;at!==null&&!qb();)eE(at)}function eE(e){var t=C0(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?Bu(e):at=t}function kp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ip(n,t,t.pendingProps,t.type,void 0,lt);break;case 11:t=Ip(n,t,t.pendingProps,t.type.render,t.ref,lt);break;case 5:Cd(t);default:D0(n,t),t=at=D_(t,Hn),t=C0(n,t,Hn)}e.memoizedProps=e.pendingProps,t===null?Bu(e):at=t}function $a(e,t,n,i){Mn=Ta=null,Cd(t),er=null,Gs=0;var a=t.return;try{if(oA(e,a,t,n,lt)){Lt=1,Qo(e,Qe(n,e.current)),at=null;return}}catch(r){if(a!==null)throw at=a,r;Lt=1,Qo(e,Qe(n,e.current)),at=null;return}t.flags&32768?(ot||i===1?e=!0:Nr||lt&536870912?e=!1:(hi=e=!0,(i===2||i===9||i===3||i===6)&&(i=ke.current,i!==null&&i.tag===13&&(i.flags|=16384))),nE(t,e)):Bu(t)}function Bu(e){var t=e;do{if(t.flags&32768){nE(t,hi);return}e=t.return;var n=hA(t.alternate,t,Hn);if(n!==null){at=n;return}if(t=t.sibling,t!==null){at=t;return}at=t=e}while(t!==null);Lt===0&&(Lt=5)}function nE(e,t){do{var n=fA(e.alternate,e);if(n!==null){n.flags&=32767,at=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){at=e;return}at=e=n}while(e!==null);Lt=6,at=null}function Bp(e,t,n,i,a,r,s,o,u){e.cancelPendingCommit=null;do Pu();while(Yt!==0);if(ht&6)throw Error(z(327));if(t!==null){if(t===e.current)throw Error(z(177));if(r=t.lanes|t.childLanes,r|=md,Wb(e,n,r,s,o,u),e===Et&&(at=Et=null,lt=0),gr=t,Ei=e,zn=n,hf=r,ff=a,K0=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,AA(Lo,function(){return lE(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,a=ft.p,ft.p=2,s=ht,ht|=4;try{dA(e,t,n)}finally{ht=s,ft.p=a,K.T=i}}Yt=1,iE(),aE(),rE()}}function iE(){if(Yt===1){Yt=0;var e=Ei,t=gr,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=ft.p;ft.p=2;var a=ht;ht|=4;try{B0(t,e);var r=yf,s=T_(e.containerInfo),o=r.focusedElem,u=r.selectionRange;if(s!==o&&o&&o.ownerDocument&&E_(o.ownerDocument.documentElement,o)){if(u!==null&&dd(o)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(f,o.value.length);else{var g=o.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var p=m.getSelection(),x=o.textContent.length,D=Math.min(u.start,x),I=u.end===void 0?D:Math.min(u.end,x);!p.extend&&D>I&&(s=I,I=D,D=s);var T=op(o,D),v=op(o,I);if(T&&v&&(p.rangeCount!==1||p.anchorNode!==T.node||p.anchorOffset!==T.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var E=g.createRange();E.setStart(T.node,T.offset),p.removeAllRanges(),D>I?(p.addRange(E),p.extend(v.node,v.offset)):(E.setEnd(v.node,v.offset),p.addRange(E))}}}}for(g=[],p=o;p=p.parentNode;)p.nodeType===1&&g.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<g.length;o++){var N=g[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}ru=!!pf,yf=pf=null}finally{ht=a,ft.p=i,K.T=n}}e.current=t,Yt=2}}function aE(){if(Yt===2){Yt=0;var e=Ei,t=gr,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=ft.p;ft.p=2;var a=ht;ht|=4;try{L0(e,t.alternate,t)}finally{ht=a,ft.p=i,K.T=n}}Yt=3}}function rE(){if(Yt===4||Yt===3){Yt=0,Gb();var e=Ei,t=gr,n=zn,i=K0;t.subtreeFlags&10256||t.flags&10256?Yt=5:(Yt=0,gr=Ei=null,sE(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(_i=null),sd(n),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(ul,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,a=ft.p,ft.p=2,K.T=null;try{for(var r=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];r(o.value,{componentStack:o.stack})}}finally{K.T=t,ft.p=a}}zn&3&&Pu(),Tn(e),a=e.pendingLanes,n&261930&&a&42?e===df?Vs++:(Vs=0,df=e):Vs=0,yl(0)}}function sE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ml(t)))}function Pu(){return iE(),aE(),rE(),lE()}function lE(){if(Yt!==5)return!1;var e=Ei,t=hf;hf=0;var n=sd(zn),i=K.T,a=ft.p;try{ft.p=32>n?32:n,K.T=null,n=ff,ff=null;var r=Ei,s=zn;if(Yt=0,gr=Ei=null,zn=0,ht&6)throw Error(z(331));var o=ht;if(ht|=4,F0(r.current),H0(r,r.current,s,n),ht=o,yl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(ul,r)}catch{}return!0}finally{ft.p=a,K.T=i,sE(e,t)}}function Pp(e,t,n){t=Qe(n,t),t=sf(e.stateNode,t,2),e=vi(e,t,2),e!==null&&(hl(e,2),Tn(e))}function pt(e,t,n){if(e.tag===3)Pp(e,e,n);else for(;t!==null;){if(t.tag===3){Pp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(_i===null||!_i.has(i))){e=Qe(n,e),n=b0(2),i=vi(t,n,2),i!==null&&(S0(n,i,t,e),hl(i,2),Tn(i));break}}t=t.return}}function sh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new pA;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(Pd=!0,a.add(n),e=TA.bind(null,e,t,n),t.then(e,e))}function TA(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Et===e&&(lt&n)===n&&(Lt===4||Lt===3&&(lt&62914560)===lt&&300>Oe()-ju?!(ht&2)&&pr(e,0):Hd|=n,mr===lt&&(mr=0)),Tn(e)}function oE(e,t){t===0&&(t=Wv()),e=Ea(e,t),e!==null&&(hl(e,t),Tn(e))}function bA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),oE(e,n)}function SA(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(z(314))}i!==null&&i.delete(t),oE(e,n)}function AA(e,t){return ad(e,t)}var Jo=null,Oa=null,mf=!1,Wo=!1,lh=!1,di=0;function Tn(e){e!==Oa&&e.next===null&&(Oa===null?Jo=Oa=e:Oa=Oa.next=e),Wo=!0,mf||(mf=!0,RA())}function yl(e,t){if(!lh&&Wo){lh=!0;do for(var n=!1,i=Jo;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var r=0;else{var s=i.suspendedLanes,o=i.pingedLanes;r=(1<<31-ze(42|e)+1)-1,r&=a&~(s&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Hp(i,r))}else r=lt,r=xu(i,i===Et?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||cl(i,r)||(n=!0,Hp(i,r));i=i.next}while(n);lh=!1}}function wA(){uE()}function uE(){Wo=mf=!1;var e=0;di!==0&&zA()&&(e=di);for(var t=Oe(),n=null,i=Jo;i!==null;){var a=i.next,r=cE(i,t);r===0?(i.next=null,n===null?Jo=a:n.next=a,a===null&&(Oa=n)):(n=i,(e!==0||r&3)&&(Wo=!0)),i=a}Yt!==0&&Yt!==5||yl(e),di!==0&&(di=0)}function cE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var s=31-ze(r),o=1<<s,u=a[s];u===-1?(!(o&n)||o&i)&&(a[s]=Jb(o,t)):u<=t&&(e.expiredLanes|=o),r&=~o}if(t=Et,n=lt,n=xu(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Lc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||cl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Lc(i),sd(n)){case 2:case 8:n=Zv;break;case 32:n=Lo;break;case 268435456:n=Jv;break;default:n=Lo}return i=hE.bind(null,e),n=ad(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Lc(i),e.callbackPriority=2,e.callbackNode=null,2}function hE(e,t){if(Yt!==0&&Yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Pu()&&e.callbackNode!==n)return null;var i=lt;return i=xu(e,e===Et?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:($0(e,i,t),cE(e,Oe()),e.callbackNode!=null&&e.callbackNode===n?hE.bind(null,e):null)}function Hp(e,t){if(Pu())return null;$0(e,t,!0)}function RA(){jA(function(){ht&6?ad($v,wA):uE()})}function Gd(){if(di===0){var e=hr;e===0&&(e=Hl,Hl<<=1,!(Hl&261888)&&(Hl=256)),di=e}return di}function qp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:uo(""+e)}function Gp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function xA(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var r=qp((a[Re]||null).action),s=i.submitter;s&&(t=(t=s[Re]||null)?qp(t.formAction):s.getAttribute("formAction"),t!==null&&(r=t,s=null));var o=new Cu("action","action",null,i,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(di!==0){var u=s?Gp(a,s):new FormData(a);af(n,{pending:!0,data:u,method:a.method,action:r},null,u)}}else typeof r=="function"&&(o.preventDefault(),u=s?Gp(a,s):new FormData(a),af(n,{pending:!0,data:u,method:a.method,action:r},r,u))},currentTarget:a}]})}}for(var oh=0;oh<Fh.length;oh++){var uh=Fh[oh],CA=uh.toLowerCase(),DA=uh[0].toUpperCase()+uh.slice(1);ln(CA,"on"+DA)}ln(S_,"onAnimationEnd");ln(A_,"onAnimationIteration");ln(w_,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln(FS,"onTransitionRun");ln(QS,"onTransitionStart");ln(YS,"onTransitionCancel");ln(R_,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ys));function fE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;t:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=c;try{r(a)}catch(f){Uo(f)}a.currentTarget=null,r=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==r&&a.isPropagationStopped())break t;r=o,a.currentTarget=c;try{r(a)}catch(f){Uo(f)}a.currentTarget=null,r=u}}}}function it(e,t){var n=t[Uh];n===void 0&&(n=t[Uh]=new Set);var i=e+"__bubble";n.has(i)||(dE(t,e,2,!1),n.add(i))}function ch(e,t,n){var i=0;t&&(i|=4),dE(n,e,i,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Fd(e){if(!e[Jl]){e[Jl]=!0,a_.forEach(function(n){n!=="selectionchange"&&(NA.has(n)||ch(n,!1,e),ch(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,ch("selectionchange",!1,t))}}function dE(e,t,n,i){switch(RE(t)){case 2:var a=a2;break;case 8:a=r2;break;default:a=Xd}n=a.bind(null,t,n,e),a=void 0,!Hh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function hh(e,t,n,i,a){var r=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=Pa(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=r=s;continue t}o=o.parentNode}}i=i.return}f_(function(){var c=r,f=ud(n),g=[];t:{var m=x_.get(e);if(m!==void 0){var p=Cu,x=e;switch(e){case"keypress":if(ho(n)===0)break t;case"keydown":case"keyup":p=SS;break;case"focusin":x="focus",p=Bc;break;case"focusout":x="blur",p=Bc;break;case"beforeblur":case"afterblur":p=Bc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=RS;break;case S_:case A_:case w_:p=mS;break;case R_:p=CS;break;case"scroll":case"scrollend":p=uS;break;case"wheel":p=NS;break;case"copy":case"cut":case"paste":p=pS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tp;break;case"toggle":case"beforetoggle":p=IS}var D=(t&4)!==0,I=!D&&(e==="scroll"||e==="scrollend"),T=D?m!==null?m+"Capture":null:m;D=[];for(var v=c,E;v!==null;){var N=v;if(E=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||E===null||T===null||(N=ks(v,T),N!=null&&D.push(Ks(v,N,E))),I)break;v=v.return}0<D.length&&(m=new p(m,x,null,n,f),g.push({event:m,listeners:D}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Ph&&(x=n.relatedTarget||n.fromElement)&&(Pa(x)||x[Rr]))break t;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?Pa(x):null,x!==null&&(I=ol(x),D=x.tag,x!==I||D!==5&&D!==27&&D!==6)&&(x=null)):(p=null,x=c),p!==x)){if(D=Jg,N="onMouseLeave",T="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(D=tp,N="onPointerLeave",T="onPointerEnter",v="pointer"),I=p==null?m:fs(p),E=x==null?m:fs(x),m=new D(N,v+"leave",p,n,f),m.target=I,m.relatedTarget=E,N=null,Pa(f)===c&&(D=new D(T,v+"enter",x,n,f),D.target=E,D.relatedTarget=I,N=D),I=N,p&&x)e:{for(D=VA,T=p,v=x,E=0,N=T;N;N=D(N))E++;N=0;for(var j=v;j;j=D(j))N++;for(;0<E-N;)T=D(T),E--;for(;0<N-E;)v=D(v),N--;for(;E--;){if(T===v||v!==null&&T===v.alternate){D=T;break e}T=D(T),v=D(v)}D=null}else D=null;p!==null&&Fp(g,m,p,D,!1),x!==null&&I!==null&&Fp(g,I,x,D,!0)}}t:{if(m=c?fs(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var H=ap;else if(ip(m))if(v_)H=HS;else{H=BS;var b=kS}else p=m.nodeName,!p||p.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&od(c.elementType)&&(H=ap):H=PS;if(H&&(H=H(e,c))){y_(g,H,n,f);break t}b&&b(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&Bh(m,"number",m.value)}switch(b=c?fs(c):window,e){case"focusin":(ip(b)||b.contentEditable==="true")&&(Ga=b,qh=c,bs=null);break;case"focusout":bs=qh=Ga=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,up(g,n,f);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":up(g,n,f)}var _;if(fd)t:{switch(e){case"compositionstart":var S="onCompositionStart";break t;case"compositionend":S="onCompositionEnd";break t;case"compositionupdate":S="onCompositionUpdate";break t}S=void 0}else qa?g_(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(m_&&n.locale!=="ko"&&(qa||S!=="onCompositionStart"?S==="onCompositionEnd"&&qa&&(_=d_()):(ci=f,cd="value"in ci?ci.value:ci.textContent,qa=!0)),b=tu(c,S),0<b.length&&(S=new Wg(S,e,null,n,f),g.push({event:S,listeners:b}),_?S.data=_:(_=p_(n),_!==null&&(S.data=_)))),(_=OS?LS(e,n):zS(e,n))&&(S=tu(c,"onBeforeInput"),0<S.length&&(b=new Wg("onBeforeInput","beforeinput",null,n,f),g.push({event:b,listeners:S}),b.data=_)),xA(g,e,c,n,f)}fE(g,t)})}function Ks(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tu(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=ks(e,n),a!=null&&i.unshift(Ks(e,a,r)),a=ks(e,t),a!=null&&i.push(Ks(e,a,r))),e.tag===3)return i;e=e.return}return[]}function VA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fp(e,t,n,i,a){for(var r=t._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||c===null||(u=c,a?(c=ks(n,r),c!=null&&s.unshift(Ks(n,c,u))):a||(c=ks(n,r),c!=null&&s.push(Ks(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var IA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function Qp(e){return(typeof e=="string"?e:""+e).replace(IA,`
`).replace(MA,"")}function mE(e,t){return t=Qp(t),Qp(e)===t}function yt(e,t,n,i,a,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||cr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&cr(e,""+i);break;case"className":Fl(e,"class",i);break;case"tabIndex":Fl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(e,n,i);break;case"style":h_(e,i,r);break;case"data":if(t!=="object"){Fl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=uo(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&yt(e,t,"name",a.name,a,null),yt(e,t,"formEncType",a.formEncType,a,null),yt(e,t,"formMethod",a.formMethod,a,null),yt(e,t,"formTarget",a.formTarget,a,null)):(yt(e,t,"encType",a.encType,a,null),yt(e,t,"method",a.method,a,null),yt(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=uo(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=In);break;case"onScroll":i!=null&&it("scroll",e);break;case"onScrollEnd":i!=null&&it("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=uo(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":it("beforetoggle",e),it("toggle",e),oo(e,"popover",i);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":oo(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=lS.get(n)||n,oo(e,n,i))}}function gf(e,t,n,i,a,r){switch(n){case"style":h_(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"children":typeof i=="string"?cr(e,i):(typeof i=="number"||typeof i=="bigint")&&cr(e,""+i);break;case"onScroll":i!=null&&it("scroll",e);break;case"onScrollEnd":i!=null&&it("scrollend",e);break;case"onClick":i!=null&&(e.onclick=In);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!r_.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),r=e[Re]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,a),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):oo(e,n,i)}}}function oe(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",e),it("load",e);var i=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(s!=null)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:yt(e,t,r,s,n,null)}}a&&yt(e,t,"srcSet",n.srcSet,n,null),i&&yt(e,t,"src",n.src,n,null);return;case"input":it("invalid",e);var o=r=s=a=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":a=f;break;case"type":s=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":r=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(z(137,t));break;default:yt(e,t,i,f,n,null)}}o_(e,r,o,u,c,s,a,!1);return;case"select":it("invalid",e),i=s=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:yt(e,t,a,o,n,null)}t=r,n=s,e.multiple=!!i,t!=null?Ja(e,!!i,t,!1):n!=null&&Ja(e,!!i,n,!0);return;case"textarea":it("invalid",e),r=a=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":a=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:yt(e,t,s,o,n,null)}c_(e,i,a,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:yt(e,t,u,i,n,null)}return;case"dialog":it("beforetoggle",e),it("toggle",e),it("cancel",e),it("close",e);break;case"iframe":case"object":it("load",e);break;case"video":case"audio":for(i=0;i<Ys.length;i++)it(Ys[i],e);break;case"image":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"embed":case"source":case"link":it("error",e),it("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:yt(e,t,c,i,n,null)}return;default:if(od(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&gf(e,t,f,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&yt(e,t,o,i,n,null))}function OA(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,s=null,o=null,u=null,c=null,f=null;for(p in n){var g=n[p];if(n.hasOwnProperty(p)&&g!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(p)||yt(e,t,p,null,i,g)}}for(var m in i){var p=i[m];if(g=n[m],i.hasOwnProperty(m)&&(p!=null||g!=null))switch(m){case"type":r=p;break;case"name":a=p;break;case"checked":c=p;break;case"defaultChecked":f=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(z(137,t));break;default:p!==g&&yt(e,t,m,p,i,g)}}kh(e,s,o,u,c,f,r,a);return;case"select":p=s=o=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(r)||yt(e,t,r,null,i,u)}for(a in i)if(r=i[a],u=n[a],i.hasOwnProperty(a)&&(r!=null||u!=null))switch(a){case"value":m=r;break;case"defaultValue":o=r;break;case"multiple":s=r;default:r!==u&&yt(e,t,a,r,i,u)}t=o,n=s,i=p,m!=null?Ja(e,!!n,m,!1):!!i!=!!n&&(t!=null?Ja(e,!!n,t,!0):Ja(e,!!n,n?[]:"",!1));return;case"textarea":p=m=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:yt(e,t,o,null,i,a)}for(s in i)if(a=i[s],r=n[s],i.hasOwnProperty(s)&&(a!=null||r!=null))switch(s){case"value":m=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(z(91));break;default:a!==r&&yt(e,t,s,a,i,r)}u_(e,m,p);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!i.hasOwnProperty(x))switch(x){case"selected":e.selected=!1;break;default:yt(e,t,x,null,i,m)}for(u in i)if(m=i[u],p=n[u],i.hasOwnProperty(u)&&m!==p&&(m!=null||p!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:yt(e,t,u,m,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D)&&yt(e,t,D,null,i,m);for(c in i)if(m=i[c],p=n[c],i.hasOwnProperty(c)&&m!==p&&(m!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(z(137,t));break;default:yt(e,t,c,m,i,p)}return;default:if(od(t)){for(var I in n)m=n[I],n.hasOwnProperty(I)&&m!==void 0&&!i.hasOwnProperty(I)&&gf(e,t,I,void 0,i,m);for(f in i)m=i[f],p=n[f],!i.hasOwnProperty(f)||m===p||m===void 0&&p===void 0||gf(e,t,f,m,i,p);return}}for(var T in n)m=n[T],n.hasOwnProperty(T)&&m!=null&&!i.hasOwnProperty(T)&&yt(e,t,T,null,i,m);for(g in i)m=i[g],p=n[g],!i.hasOwnProperty(g)||m===p||m==null&&p==null||yt(e,t,g,m,i,p)}function Yp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],r=a.transferSize,s=a.initiatorType,o=a.duration;if(r&&o&&Yp(s)){for(s=0,o=a.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>o)break;var f=u.transferSize,g=u.initiatorType;f&&Yp(g)&&(u=u.responseEnd,s+=f*(u<o?1:(o-c)/(u-c)))}if(--i,t+=8*(r+s)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pf=null,yf=null;function eu(e){return e.nodeType===9?e:e.ownerDocument}function Kp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fh=null;function zA(){var e=window.event;return e&&e.type==="popstate"?e===fh?!1:(fh=e,!0):(fh=null,!1)}var pE=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(kA)}:pE;function kA(e){setTimeout(function(){throw e})}function Bi(e){return e==="head"}function $p(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(a),vr(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Is(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Is(n);for(var r=n.firstChild;r;){var s=r.nextSibling,o=r.nodeName;r[fl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=s}}else n==="body"&&Is(e.ownerDocument.body);n=a}while(n);vr(t)}function Zp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function _f(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_f(n),ld(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function BA(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[fl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=$e(e.nextSibling),e===null)break}return null}function PA(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$e(e.nextSibling),e===null))return null;return e}function yE(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=$e(e.nextSibling),e===null))return null;return e}function Ef(e){return e.data==="$?"||e.data==="$~"}function Tf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function HA(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function $e(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var bf=null;function Jp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return $e(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function vE(e,t,n){switch(t=eu(n),e){case"html":if(e=t.documentElement,!e)throw Error(z(452));return e;case"head":if(e=t.head,!e)throw Error(z(453));return e;case"body":if(e=t.body,!e)throw Error(z(454));return e;default:throw Error(z(451))}}function Is(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ld(e)}var Ze=new Map,ty=new Set;function nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=ft.d;ft.d={f:qA,r:GA,D:FA,C:QA,L:YA,m:KA,X:$A,S:XA,M:ZA};function qA(){var e=Kn.f(),t=ku();return e||t}function GA(e){var t=xr(e);t!==null&&t.tag===5&&t.type==="form"?h0(t):Kn.r(e)}var Vr=typeof document>"u"?null:document;function _E(e,t,n){var i=Vr;if(i&&typeof t=="string"&&t){var a=Fe(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),ty.has(a)||(ty.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),oe(t,"link",e),te(t),i.head.appendChild(t)))}}function FA(e){Kn.D(e),_E("dns-prefetch",e,null)}function QA(e,t){Kn.C(e,t),_E("preconnect",e,t)}function YA(e,t,n){Kn.L(e,t,n);var i=Vr;if(i&&e&&t){var a='link[rel="preload"][as="'+Fe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Fe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Fe(n.imageSizes)+'"]')):a+='[href="'+Fe(e)+'"]';var r=a;switch(t){case"style":r=yr(e);break;case"script":r=Ir(e)}Ze.has(r)||(e=Ct({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ze.set(r,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(vl(r))||t==="script"&&i.querySelector(_l(r))||(t=i.createElement("link"),oe(t,"link",e),te(t),i.head.appendChild(t)))}}function KA(e,t){Kn.m(e,t);var n=Vr;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Fe(i)+'"][href="'+Fe(e)+'"]',r=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ir(e)}if(!Ze.has(r)&&(e=Ct({rel:"modulepreload",href:e},t),Ze.set(r,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_l(r)))return}i=n.createElement("link"),oe(i,"link",e),te(i),n.head.appendChild(i)}}}function XA(e,t,n){Kn.S(e,t,n);var i=Vr;if(i&&e){var a=Za(i).hoistableStyles,r=yr(e);t=t||"default";var s=a.get(r);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(vl(r)))o.loading=5;else{e=Ct({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ze.get(r))&&Qd(e,n);var u=s=i.createElement("link");te(u),oe(u,"link",e),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Eo(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(r,s)}}}function $A(e,t){Kn.X(e,t);var n=Vr;if(n&&e){var i=Za(n).hoistableScripts,a=Ir(e),r=i.get(a);r||(r=n.querySelector(_l(a)),r||(e=Ct({src:e,async:!0},t),(t=Ze.get(a))&&Yd(e,t),r=n.createElement("script"),te(r),oe(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function ZA(e,t){Kn.M(e,t);var n=Vr;if(n&&e){var i=Za(n).hoistableScripts,a=Ir(e),r=i.get(a);r||(r=n.querySelector(_l(a)),r||(e=Ct({src:e,async:!0,type:"module"},t),(t=Ze.get(a))&&Yd(e,t),r=n.createElement("script"),te(r),oe(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function ey(e,t,n,i){var a=(a=gi.current)?nu(a):null;if(!a)throw Error(z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=yr(n.href),n=Za(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=yr(n.href);var r=Za(a).hoistableStyles,s=r.get(e);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,s),(r=a.querySelector(vl(e)))&&!r._p&&(s.instance=r,s.state.loading=5),Ze.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ze.set(e,n),r||JA(a,e,n,s.state))),t&&i===null)throw Error(z(528,""));return s}if(t&&i!==null)throw Error(z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ir(n),n=Za(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,e))}}function yr(e){return'href="'+Fe(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function EE(e){return Ct({},e,{"data-precedence":e.precedence,precedence:null})}function JA(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),oe(t,"link",n),te(t),e.head.appendChild(t))}function Ir(e){return'[src="'+Fe(e)+'"]'}function _l(e){return"script[async]"+e}function ny(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Fe(n.href)+'"]');if(i)return t.instance=i,te(i),i;var a=Ct({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),te(i),oe(i,"style",a),Eo(i,n.precedence,e),t.instance=i;case"stylesheet":a=yr(n.href);var r=e.querySelector(vl(a));if(r)return t.state.loading|=4,t.instance=r,te(r),r;i=EE(n),(a=Ze.get(a))&&Qd(i,a),r=(e.ownerDocument||e).createElement("link"),te(r);var s=r;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),oe(r,"link",i),t.state.loading|=4,Eo(r,n.precedence,e),t.instance=r;case"script":return r=Ir(n.src),(a=e.querySelector(_l(r)))?(t.instance=a,te(a),a):(i=n,(a=Ze.get(r))&&(i=Ct({},n),Yd(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),te(a),oe(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Eo(i,n.precedence,e));return t.instance}function Eo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,r=a,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)r=o;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Yd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var To=null;function iy(e,t,n){if(To===null){var i=new Map,a=To=new Map;a.set(n,i)}else a=To,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[fl]||r[ae]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var s=r.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(r):i.set(s,[r])}}return i}function ay(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function WA(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function TE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function t2(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=yr(i.href),r=t.querySelector(vl(a));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=iu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,te(r);return}r=t.ownerDocument||t,i=EE(i),(a=Ze.get(a))&&Qd(i,a),r=r.createElement("link"),te(r);var s=r;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),oe(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=iu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var dh=0;function e2(e,t){return e.stylesheets&&e.count===0&&bo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&bo(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&dh===0&&(dh=62500*LA());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bo(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>dh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function iu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var au=null;function bo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,au=new Map,t.forEach(n2,e),au=null,iu.call(e))}function n2(e,t){if(!(t.state.loading&4)){var n=au.get(e);if(n)var i=n.get(null);else{n=new Map,au.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var s=a[r];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}a=t.instance,s=a.getAttribute("data-precedence"),r=n.get(s)||i,r===i&&n.set(null,a),n.set(s,a),this.count++,i=iu.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),r?r.parentNode.insertBefore(a,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Xs={$$typeof:Vn,Provider:null,Consumer:null,_currentValue:ia,_currentValue2:ia,_threadCount:0};function i2(e,t,n,i,a,r,s,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.hiddenUpdates=zc(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function bE(e,t,n,i,a,r,s,o,u,c,f,g){return e=new i2(e,t,n,s,u,c,f,g,o),t=1,r===!0&&(t|=24),r=Ve(3,null,null,t),e.current=r,r.stateNode=e,t=_d(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},bd(r),e}function SE(e){return e?(e=Ya,e):Ya}function AE(e,t,n,i,a,r){a=SE(a),i.context===null?i.context=a:i.pendingContext=a,i=yi(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=vi(e,i,t),n!==null&&(we(n,e,t),As(n,e,t))}function ry(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kd(e,t){ry(e,t),(e=e.alternate)&&ry(e,t)}function wE(e){if(e.tag===13||e.tag===31){var t=Ea(e,67108864);t!==null&&we(t,e,67108864),Kd(e,67108864)}}function sy(e){if(e.tag===13||e.tag===31){var t=Ue();t=rd(t);var n=Ea(e,t);n!==null&&we(n,e,t),Kd(e,t)}}var ru=!0;function a2(e,t,n,i){var a=K.T;K.T=null;var r=ft.p;try{ft.p=2,Xd(e,t,n,i)}finally{ft.p=r,K.T=a}}function r2(e,t,n,i){var a=K.T;K.T=null;var r=ft.p;try{ft.p=8,Xd(e,t,n,i)}finally{ft.p=r,K.T=a}}function Xd(e,t,n,i){if(ru){var a=Sf(i);if(a===null)hh(e,t,i,su,n),ly(e,i);else if(l2(a,e,t,n,i))i.stopPropagation();else if(ly(e,i),t&4&&-1<s2.indexOf(e)){for(;a!==null;){var r=xr(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var s=Ji(r.pendingLanes);if(s!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-ze(s);o.entanglements[1]|=u,s&=~u}Tn(r),!(ht&6)&&(Xo=Oe()+500,yl(0))}}break;case 31:case 13:o=Ea(r,2),o!==null&&we(o,r,2),ku(),Kd(r,2)}if(r=Sf(i),r===null&&hh(e,t,i,su,n),r===a)break;a=r}a!==null&&i.stopPropagation()}else hh(e,t,i,null,n)}}function Sf(e){return e=ud(e),$d(e)}var su=null;function $d(e){if(su=null,e=Pa(e),e!==null){var t=ol(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Fv(t),e!==null)return e;e=null}else if(n===31){if(e=Qv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return su=e,null}function RE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fb()){case $v:return 2;case Zv:return 8;case Lo:case Qb:return 32;case Jv:return 268435456;default:return 32}default:return 32}}var Af=!1,Ti=null,bi=null,Si=null,$s=new Map,Zs=new Map,oi=[],s2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(e,t){switch(e){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":$s.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(t.pointerId)}}function ls(e,t,n,i,a,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},t!==null&&(t=xr(t),t!==null&&wE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function l2(e,t,n,i,a){switch(t){case"focusin":return Ti=ls(Ti,e,t,n,i,a),!0;case"dragenter":return bi=ls(bi,e,t,n,i,a),!0;case"mouseover":return Si=ls(Si,e,t,n,i,a),!0;case"pointerover":var r=a.pointerId;return $s.set(r,ls($s.get(r)||null,e,t,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,Zs.set(r,ls(Zs.get(r)||null,e,t,n,i,a)),!0}return!1}function xE(e){var t=Pa(e.target);if(t!==null){var n=ol(t);if(n!==null){if(t=n.tag,t===13){if(t=Fv(n),t!==null){e.blockedOn=t,Fg(e.priority,function(){sy(n)});return}}else if(t===31){if(t=Qv(n),t!==null){e.blockedOn=t,Fg(e.priority,function(){sy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function So(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ph=i,n.target.dispatchEvent(i),Ph=null}else return t=xr(n),t!==null&&wE(t),e.blockedOn=n,!1;t.shift()}return!0}function oy(e,t,n){So(e)&&n.delete(t)}function o2(){Af=!1,Ti!==null&&So(Ti)&&(Ti=null),bi!==null&&So(bi)&&(bi=null),Si!==null&&So(Si)&&(Si=null),$s.forEach(oy),Zs.forEach(oy)}function Wl(e,t){e.blockedOn===t&&(e.blockedOn=null,Af||(Af=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,o2)))}var to=null;function uy(e){to!==e&&(to=e,$t.unstable_scheduleCallback($t.unstable_NormalPriority,function(){to===e&&(to=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if($d(i||n)===null)continue;break}var r=xr(n);r!==null&&(e.splice(t,3),t-=3,af(r,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function vr(e){function t(u){return Wl(u,e)}Ti!==null&&Wl(Ti,e),bi!==null&&Wl(bi,e),Si!==null&&Wl(Si,e),$s.forEach(t),Zs.forEach(t);for(var n=0;n<oi.length;n++){var i=oi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)xE(n),n.blockedOn===null&&oi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],s=a[Re]||null;if(typeof r=="function")s||uy(n);else if(s){var o=null;if(r&&r.hasAttribute("formAction")){if(a=r,s=r[Re]||null)o=s.formAction;else if($d(a)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),uy(n)}}}function CE(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Zd(e){this._internalRoot=e}Hu.prototype.render=Zd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));var n=t.current,i=Ue();AE(n,i,e,t,null,null)};Hu.prototype.unmount=Zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;AE(e.current,2,null,e,null,null),ku(),t[Rr]=null}};function Hu(e){this._internalRoot=e}Hu.prototype.unstable_scheduleHydration=function(e){if(e){var t=i_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oi.length&&t!==0&&t<oi[n].priority;n++);oi.splice(n,0,e),n===0&&xE(e)}};var cy=qv.version;if(cy!=="19.2.4")throw Error(z(527,cy,"19.2.4"));ft.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=jb(t),e=e!==null?Yv(e):null,e=e===null?null:e.stateNode,e};var u2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{ul=eo.inject(u2),Le=eo}catch{}}wu.createRoot=function(e,t){if(!Gv(e))throw Error(z(299));var n=!1,i="",a=_0,r=E0,s=T0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=bE(e,1,!1,null,null,n,i,null,a,r,s,CE),e[Rr]=t.current,Fd(e),new Zd(t)};wu.hydrateRoot=function(e,t,n){if(!Gv(e))throw Error(z(299));var i=!1,a="",r=_0,s=E0,o=T0,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=bE(e,1,!0,t,n??null,i,a,u,r,s,o,CE),t.context=SE(null),n=t.current,i=Ue(),i=rd(i),a=yi(i),a.callback=null,vi(n,a,i),n=i,t.current.lanes=n,hl(t,n),Tn(t),e[Rr]=t.current,Fd(e),new Hu(t)};wu.version="19.2.4";function DE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DE)}catch(e){console.error(e)}}DE(),Uv.exports=wu;var c2=Uv.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hy="popstate";function h2(e={}){function t(a,r){let{pathname:s="/",search:o="",hash:u=""}=ba(a.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),wf("",{pathname:s,search:o,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){let s=a.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let u=a.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof r=="string"?r:Js(r))}function i(a,r){sn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return d2(t,n,i,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f2(){return Math.random().toString(36).substring(2,10)}function fy(e,t){return{usr:e.state,key:e.key,idx:t}}function wf(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ba(t):t,state:n,key:t&&t.key||i||f2()}}function Js({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ba(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function d2(e,t,n,i={}){let{window:a=document.defaultView,v5Compat:r=!1}=i,s=a.history,o="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function g(){o="POP";let I=f(),T=I==null?null:I-c;c=I,u&&u({action:o,location:D.location,delta:T})}function m(I,T){o="PUSH";let v=wf(D.location,I,T);n&&n(v,I),c=f()+1;let E=fy(v,c),N=D.createHref(v);try{s.pushState(E,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}r&&u&&u({action:o,location:D.location,delta:1})}function p(I,T){o="REPLACE";let v=wf(D.location,I,T);n&&n(v,I),c=f();let E=fy(v,c),N=D.createHref(v);s.replaceState(E,"",N),r&&u&&u({action:o,location:D.location,delta:0})}function x(I){return m2(I)}let D={get action(){return o},get location(){return e(a,s)},listen(I){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(hy,g),u=I,()=>{a.removeEventListener(hy,g),u=null}},createHref(I){return t(a,I)},createURL:x,encodeLocation(I){let T=x(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:p,go(I){return s.go(I)}};return D}function m2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Js(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function NE(e,t,n="/"){return g2(e,t,n,!1)}function g2(e,t,n,i){let a=typeof t=="string"?ba(t):t,r=qn(a.pathname||"/",n);if(r==null)return null;let s=VE(e);p2(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=x2(r);o=w2(s[u],c,i)}return o}function VE(e,t=[],n=[],i="",a=!1){let r=(s,o,u=a,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Nt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let g=Un([i,f.relativePath]),m=n.concat(f);s.children&&s.children.length>0&&(Nt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),VE(s.children,t,m,g,u)),!(s.path==null&&!s.index)&&t.push({path:g,score:S2(g,s.index),routesMeta:m})};return e.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))r(s,o);else for(let c of IE(s.path))r(s,o,!0,c)}),t}function IE(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return a?[r,""]:[r];let s=IE(i.join("/")),o=[];return o.push(...s.map(u=>u===""?r:[r,u].join("/"))),a&&o.push(...s),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function p2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:A2(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var y2=/^:[\w-]+$/,v2=3,_2=2,E2=1,T2=10,b2=-2,dy=e=>e==="*";function S2(e,t){let n=e.split("/"),i=n.length;return n.some(dy)&&(i+=b2),t&&(i+=_2),n.filter(a=>!dy(a)).reduce((a,r)=>a+(y2.test(r)?v2:r===""?E2:T2),i)}function A2(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function w2(e,t,n=!1){let{routesMeta:i}=e,a={},r="/",s=[];for(let o=0;o<i.length;++o){let u=i[o],c=o===i.length-1,f=r==="/"?t:t.slice(r.length)||"/",g=lu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!g&&c&&n&&!i[i.length-1].route.index&&(g=lu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(a,g.params),s.push({params:a,pathname:Un([r,g.pathname]),pathnameBase:V2(Un([r,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(r=Un([r,g.pathnameBase]))}return s}function lu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=R2(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let r=a[0],s=r.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:g},m)=>{if(f==="*"){let x=o[m]||"";s=r.slice(0,r.length-x.length).replace(/(.)\/+$/,"$1")}const p=o[m];return g&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:s,pattern:e}}function R2(e,t=!1,n=!0){sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(i.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function x2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}var C2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function D2(e,t="/"){let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?ba(e):e,r;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?r=my(n.substring(1),"/"):r=my(n,t)):r=t,{pathname:r,search:I2(i),hash:M2(a)}}function my(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function mh(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ME(e){let t=N2(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function OE(e,t,n,i=!1){let a;typeof e=="string"?a=ba(e):(a={...e},Nt(!a.pathname||!a.pathname.includes("?"),mh("?","pathname","search",a)),Nt(!a.pathname||!a.pathname.includes("#"),mh("#","pathname","hash",a)),Nt(!a.search||!a.search.includes("#"),mh("#","search","hash",a)));let r=e===""||a.pathname==="",s=r?"/":a.pathname,o;if(s==null)o=n;else{let g=t.length-1;if(!i&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),g-=1;a.pathname=m.join("/")}o=g>=0?t[g]:"/"}let u=D2(a,o),c=s&&s!=="/"&&s.endsWith("/"),f=(r||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Un=e=>e.join("/").replace(/\/\/+/g,"/"),V2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,M2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,O2=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function L2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function z2(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zE(e,t){let n=e;if(typeof n!="string"||!C2.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(LE)try{let r=new URL(window.location.href),s=n.startsWith("//")?new URL(r.protocol+n):new URL(n),o=qn(s.pathname,t);s.origin===r.origin&&o!=null?n=o+s.search+s.hash:a=!0}catch{sn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UE=["POST","PUT","PATCH","DELETE"];new Set(UE);var U2=["GET",...UE];new Set(U2);var Mr=O.createContext(null);Mr.displayName="DataRouter";var qu=O.createContext(null);qu.displayName="DataRouterState";var j2=O.createContext(!1),jE=O.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var k2=O.createContext(new Map);k2.displayName="Fetchers";var B2=O.createContext(null);B2.displayName="Await";var Je=O.createContext(null);Je.displayName="Navigation";var El=O.createContext(null);El.displayName="Location";var bn=O.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var Jd=O.createContext(null);Jd.displayName="RouteError";var kE="REACT_ROUTER_ERROR",P2="REDIRECT",H2="ROUTE_ERROR_RESPONSE";function q2(e){if(e.startsWith(`${kE}:${P2}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function G2(e){if(e.startsWith(`${kE}:${H2}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new O2(t.status,t.statusText,t.data)}catch{}}function F2(e,{relative:t}={}){Nt(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=O.useContext(Je),{hash:a,pathname:r,search:s}=bl(e,{relative:t}),o=r;return n!=="/"&&(o=r==="/"?n:Un([n,r])),i.createHref({pathname:o,search:s,hash:a})}function Tl(){return O.useContext(El)!=null}function Sa(){return Nt(Tl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(El).location}var BE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(e){O.useContext(Je).static||O.useLayoutEffect(e)}function Wd(){let{isDataRoute:e}=O.useContext(bn);return e?rw():Q2()}function Q2(){Nt(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(Mr),{basename:t,navigator:n}=O.useContext(Je),{matches:i}=O.useContext(bn),{pathname:a}=Sa(),r=JSON.stringify(ME(i)),s=O.useRef(!1);return PE(()=>{s.current=!0}),O.useCallback((u,c={})=>{if(sn(s.current,BE),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=OE(u,JSON.parse(r),a,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Un([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,r,a,e])}O.createContext(null);function Y2(){let{matches:e}=O.useContext(bn),t=e[e.length-1];return t?t.params:{}}function bl(e,{relative:t}={}){let{matches:n}=O.useContext(bn),{pathname:i}=Sa(),a=JSON.stringify(ME(n));return O.useMemo(()=>OE(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function K2(e,t){return HE(e,t)}function HE(e,t,n,i,a){var v;Nt(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=O.useContext(Je),{matches:s}=O.useContext(bn),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",g=o&&o.route;{let E=g&&g.path||"";GE(c,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=Sa(),p;if(t){let E=typeof t=="string"?ba(t):t;Nt(f==="/"||((v=E.pathname)==null?void 0:v.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=m;let x=p.pathname||"/",D=x;if(f!=="/"){let E=f.replace(/^\//,"").split("/");D="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let I=NE(e,{pathname:D});sn(g||I!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),sn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=W2(I&&I.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:Un([f,r.encodeLocation?r.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:Un([f,r.encodeLocation?r.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),s,n,i,a);return t&&T?O.createElement(El.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},T):T}function X2(){let e=aw(),t=L2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:r},"ErrorBoundary")," or"," ",O.createElement("code",{style:r},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,s)}var $2=O.createElement(X2,null),qE=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=G2(e.digest);n&&(e=n)}let t=e!==void 0?O.createElement(bn.Provider,{value:this.props.routeContext},O.createElement(Jd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?O.createElement(Z2,{error:e},t):t}};qE.contextType=j2;var gh=new WeakMap;function Z2({children:e,error:t}){let{basename:n}=O.useContext(Je);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=q2(t.digest);if(i){let a=gh.get(t);if(a)throw a;let r=zE(i.location,n);if(LE&&!gh.get(t))if(r.isExternal||i.reloadDocument)window.location.href=r.absoluteURL||r.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(r.to,{replace:i.replace}));throw gh.set(t,s),s}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${r.absoluteURL||r.to}`})}}return e}function J2({routeContext:e,match:t,children:n}){let i=O.useContext(Mr);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(bn.Provider,{value:e},n)}function W2(e,t=[],n=null,i=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n==null?void 0:n.errors;if(s!=null){let f=r.findIndex(g=>g.route.id&&(s==null?void 0:s[g.route.id])!==void 0);Nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let o=!1,u=-1;if(n)for(let f=0;f<r.length;f++){let g=r[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=f),g.route.id){let{loaderData:m,errors:p}=n,x=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!p||p[g.route.id]===void 0);if(g.route.lazy||x){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}let c=n&&i?(f,g)=>{var m,p;i(f,{location:n.location,params:((p=(m=n.matches)==null?void 0:m[0])==null?void 0:p.params)??{},unstable_pattern:z2(n.matches),errorInfo:g})}:void 0;return r.reduceRight((f,g,m)=>{let p,x=!1,D=null,I=null;n&&(p=s&&g.route.id?s[g.route.id]:void 0,D=g.route.errorElement||$2,o&&(u<0&&m===0?(GE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,I=null):u===m&&(x=!0,I=g.route.hydrateFallbackElement||null)));let T=t.concat(r.slice(0,m+1)),v=()=>{let E;return p?E=D:x?E=I:g.route.Component?E=O.createElement(g.route.Component,null):g.route.element?E=g.route.element:E=f,O.createElement(J2,{match:g,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:E})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?O.createElement(qE,{location:n.location,revalidation:n.revalidation,component:D,error:p,children:v(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:c}):v()},null)}function tm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tw(e){let t=O.useContext(Mr);return Nt(t,tm(e)),t}function ew(e){let t=O.useContext(qu);return Nt(t,tm(e)),t}function nw(e){let t=O.useContext(bn);return Nt(t,tm(e)),t}function em(e){let t=nw(e),n=t.matches[t.matches.length-1];return Nt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function iw(){return em("useRouteId")}function aw(){var i;let e=O.useContext(Jd),t=ew("useRouteError"),n=em("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function rw(){let{router:e}=tw("useNavigate"),t=em("useNavigate"),n=O.useRef(!1);return PE(()=>{n.current=!0}),O.useCallback(async(a,r={})=>{sn(n.current,BE),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...r}))},[e,t])}var gy={};function GE(e,t,n){!t&&!gy[e]&&(gy[e]=!0,sn(!1,n))}O.memo(sw);function sw({routes:e,future:t,state:n,onError:i}){return HE(e,void 0,n,i,t)}function Rf(e){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lw({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:a,static:r=!1,unstable_useTransitions:s}){Nt(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:o,navigator:a,static:r,unstable_useTransitions:s,future:{}}),[o,a,r,s]);typeof n=="string"&&(n=ba(n));let{pathname:c="/",search:f="",hash:g="",state:m=null,key:p="default"}=n,x=O.useMemo(()=>{let D=qn(c,o);return D==null?null:{location:{pathname:D,search:f,hash:g,state:m,key:p},navigationType:i}},[o,c,f,g,m,p,i]);return sn(x!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(Je.Provider,{value:u},O.createElement(El.Provider,{children:t,value:x}))}function ow({children:e,location:t}){return K2(xf(e),t)}function xf(e,t=[]){let n=[];return O.Children.forEach(e,(i,a)=>{if(!O.isValidElement(i))return;let r=[...t,a];if(i.type===O.Fragment){n.push.apply(n,xf(i.props.children,r));return}Nt(i.type===Rf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=xf(i.props.children,r)),n.push(s)}),n}var Ao="get",wo="application/x-www-form-urlencoded";function Gu(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function uw(e){return Gu(e)&&e.tagName.toLowerCase()==="button"}function cw(e){return Gu(e)&&e.tagName.toLowerCase()==="form"}function hw(e){return Gu(e)&&e.tagName.toLowerCase()==="input"}function fw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dw(e,t){return e.button===0&&(!t||t==="_self")&&!fw(e)}var no=null;function mw(){if(no===null)try{new FormData(document.createElement("form"),0),no=!1}catch{no=!0}return no}var gw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ph(e){return e!=null&&!gw.has(e)?(sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wo}"`),null):e}function pw(e,t){let n,i,a,r,s;if(cw(e)){let o=e.getAttribute("action");i=o?qn(o,t):null,n=e.getAttribute("method")||Ao,a=ph(e.getAttribute("enctype"))||wo,r=new FormData(e)}else if(uw(e)||hw(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(i=u?qn(u,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||Ao,a=ph(e.getAttribute("formenctype"))||ph(o.getAttribute("enctype"))||wo,r=new FormData(o,e),!mw()){let{name:c,type:f,value:g}=e;if(f==="image"){let m=c?`${c}.`:"";r.append(`${m}x`,"0"),r.append(`${m}y`,"0")}else c&&r.append(c,g)}}else{if(Gu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ao,i=null,a=wo,s=e}return r&&a==="text/plain"&&(s=r,r=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:r,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yw(e,t,n,i){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:t&&qn(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function vw(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _w(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Ew(e,t,n){let i=await Promise.all(e.map(async a=>{let r=t.routes[a.route.id];if(r){let s=await vw(r,n);return s.links?s.links():[]}return[]}));return Aw(i.flat(1).filter(_w).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function py(e,t,n,i,a,r){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return r==="assets"?t.filter((u,c)=>s(u,c)||o(u,c)):r==="data"?t.filter((u,c)=>{var g;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Tw(e,t,{includeHydrateFallback:n}={}){return bw(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1))}function bw(e){return[...new Set(e)]}function Sw(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function Aw(e,t){let n=new Set;return new Set(t),e.reduce((i,a)=>{let r=JSON.stringify(Sw(a));return n.has(r)||(n.add(r),i.push({key:r,link:a})),i},[])}function FE(){let e=O.useContext(Mr);return nm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ww(){let e=O.useContext(qu);return nm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var im=O.createContext(void 0);im.displayName="FrameworkContext";function QE(){let e=O.useContext(im);return nm(e,"You must render this element inside a <HydratedRouter> element"),e}function Rw(e,t){let n=O.useContext(im),[i,a]=O.useState(!1),[r,s]=O.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:g}=t,m=O.useRef(null);O.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let D=T=>{T.forEach(v=>{s(v.isIntersecting)})},I=new IntersectionObserver(D,{threshold:.5});return m.current&&I.observe(m.current),()=>{I.disconnect()}}},[e]),O.useEffect(()=>{if(i){let D=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(D)}}},[i]);let p=()=>{a(!0)},x=()=>{a(!1),s(!1)};return n?e!=="intent"?[r,m,{}]:[r,m,{onFocus:os(o,p),onBlur:os(u,x),onMouseEnter:os(c,p),onMouseLeave:os(f,x),onTouchStart:os(g,p)}]:[!1,m,{}]}function os(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function xw({page:e,...t}){let{router:n}=FE(),i=O.useMemo(()=>NE(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?O.createElement(Dw,{page:e,matches:i,...t}):null}function Cw(e){let{manifest:t,routeModules:n}=QE(),[i,a]=O.useState([]);return O.useEffect(()=>{let r=!1;return Ew(e,t,n).then(s=>{r||a(s)}),()=>{r=!0}},[e,t,n]),i}function Dw({page:e,matches:t,...n}){let i=Sa(),{future:a,manifest:r,routeModules:s}=QE(),{basename:o}=FE(),{loaderData:u,matches:c}=ww(),f=O.useMemo(()=>py(e,t,c,r,i,"data"),[e,t,c,r,i]),g=O.useMemo(()=>py(e,t,c,r,i,"assets"),[e,t,c,r,i]),m=O.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let D=new Set,I=!1;if(t.forEach(v=>{var N;let E=r.routes[v.route.id];!E||!E.hasLoader||(!f.some(j=>j.route.id===v.route.id)&&v.route.id in u&&((N=s[v.route.id])!=null&&N.shouldRevalidate)||E.hasClientLoader?I=!0:D.add(v.route.id))}),D.size===0)return[];let T=yw(e,o,a.unstable_trailingSlashAwareDataRequests,"data");return I&&D.size>0&&T.searchParams.set("_routes",t.filter(v=>D.has(v.route.id)).map(v=>v.route.id).join(",")),[T.pathname+T.search]},[o,a.unstable_trailingSlashAwareDataRequests,u,i,r,f,t,e,s]),p=O.useMemo(()=>Tw(g,r),[g,r]),x=Cw(g);return O.createElement(O.Fragment,null,m.map(D=>O.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),p.map(D=>O.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),x.map(({key:D,link:I})=>O.createElement("link",{key:D,nonce:n.nonce,...I,crossOrigin:I.crossOrigin??n.crossOrigin})))}function Nw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Vw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vw&&(window.__reactRouterVersion="7.13.0")}catch{}function Iw({basename:e,children:t,unstable_useTransitions:n,window:i}){let a=O.useRef();a.current==null&&(a.current=h2({window:i,v5Compat:!0}));let r=a.current,[s,o]=O.useState({action:r.action,location:r.location}),u=O.useCallback(c=>{n===!1?o(c):O.startTransition(()=>o(c))},[n]);return O.useLayoutEffect(()=>r.listen(u),[r,u]),O.createElement(lw,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:r,unstable_useTransitions:n})}var YE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KE=O.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:a,reloadDocument:r,replace:s,state:o,target:u,to:c,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:m,...p},x){let{basename:D,unstable_useTransitions:I}=O.useContext(Je),T=typeof c=="string"&&YE.test(c),v=zE(c,D);c=v.to;let E=F2(c,{relative:a}),[N,j,H]=Rw(i,p),b=zw(c,{replace:s,state:o,target:u,preventScrollReset:f,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:m,unstable_useTransitions:I});function _(w){t&&t(w),w.defaultPrevented||b(w)}let S=O.createElement("a",{...p,...H,href:v.absoluteURL||E,onClick:v.isExternal||r?t:_,ref:Nw(x,j),target:u,"data-discover":!T&&n==="render"?"true":void 0});return N&&!T?O.createElement(O.Fragment,null,S,O.createElement(xw,{page:E})):S});KE.displayName="Link";var Mw=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:a=!1,style:r,to:s,viewTransition:o,children:u,...c},f){let g=bl(s,{relative:c.relative}),m=Sa(),p=O.useContext(qu),{navigator:x,basename:D}=O.useContext(Je),I=p!=null&&Pw(g)&&o===!0,T=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,v=m.pathname,E=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),E=E?E.toLowerCase():null,T=T.toLowerCase()),E&&D&&(E=qn(E,D)||E);const N=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let j=v===T||!a&&v.startsWith(T)&&v.charAt(N)==="/",H=E!=null&&(E===T||!a&&E.startsWith(T)&&E.charAt(T.length)==="/"),b={isActive:j,isPending:H,isTransitioning:I},_=j?t:void 0,S;typeof i=="function"?S=i(b):S=[i,j?"active":null,H?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let w=typeof r=="function"?r(b):r;return O.createElement(KE,{...c,"aria-current":_,className:S,ref:f,style:w,to:s,viewTransition:o},typeof u=="function"?u(b):u)});Mw.displayName="NavLink";var Ow=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:a,state:r,method:s=Ao,action:o,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:m,...p},x)=>{let{unstable_useTransitions:D}=O.useContext(Je),I=kw(),T=Bw(o,{relative:c}),v=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&YE.test(o),N=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let H=j.nativeEvent.submitter,b=(H==null?void 0:H.getAttribute("formmethod"))||s,_=()=>I(H||j.currentTarget,{fetcherKey:t,method:b,navigate:n,replace:a,state:r,relative:c,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:m});D&&n!==!1?O.startTransition(()=>_()):_()};return O.createElement("form",{ref:x,method:v,action:T,onSubmit:i?u:N,...p,"data-discover":!E&&e==="render"?"true":void 0})});Ow.displayName="Form";function Lw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XE(e){let t=O.useContext(Mr);return Nt(t,Lw(e)),t}function zw(e,{target:t,replace:n,state:i,preventScrollReset:a,relative:r,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let c=Wd(),f=Sa(),g=bl(e,{relative:r});return O.useCallback(m=>{if(dw(m,t)){m.preventDefault();let p=n!==void 0?n:Js(f)===Js(g),x=()=>c(e,{replace:p,state:i,preventScrollReset:a,relative:r,viewTransition:s,unstable_defaultShouldRevalidate:o});u?O.startTransition(()=>x()):x()}},[f,c,g,n,i,t,e,a,r,s,o,u])}var Uw=0,jw=()=>`__${String(++Uw)}__`;function kw(){let{router:e}=XE("useSubmit"),{basename:t}=O.useContext(Je),n=iw(),i=e.fetch,a=e.navigate;return O.useCallback(async(r,s={})=>{let{action:o,method:u,encType:c,formData:f,body:g}=pw(r,t);if(s.navigate===!1){let m=s.fetcherKey||jw();await i(m,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await a(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,a,t,n])}function Bw(e,{relative:t}={}){let{basename:n}=O.useContext(Je),i=O.useContext(bn);Nt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),r={...bl(e||".",{relative:t})},s=Sa();if(e==null){r.search=s.search;let o=new URLSearchParams(r.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(g=>g).forEach(g=>o.append("index",g));let f=o.toString();r.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:Un([n,r.pathname])),Js(r)}function Pw(e,{relative:t}={}){let n=O.useContext(jE);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=XE("useViewTransitionState"),a=bl(e,{relative:t});if(!n.isTransitioning)return!1;let r=qn(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=qn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return lu(a.pathname,s)!=null||lu(a.pathname,r)!=null}const Hw=()=>{};var yy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},qw=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const r=e[n++];t[i++]=String.fromCharCode((a&31)<<6|r&63)}else if(a>239&&a<365){const r=e[n++],s=e[n++],o=e[n++],u=((a&7)<<18|(r&63)<<12|(s&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],s=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(r&63)<<6|s&63)}}return t.join("")},ZE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const r=e[a],s=a+1<e.length,o=s?e[a+1]:0,u=a+2<e.length,c=u?e[a+2]:0,f=r>>2,g=(r&3)<<4|o>>4;let m=(o&15)<<2|c>>6,p=c&63;u||(p=64,s||(m=64)),i.push(n[f],n[g],n[m],n[p])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($E(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qw(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const r=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const c=a<e.length?n[e.charAt(a)]:64;++a;const g=a<e.length?n[e.charAt(a)]:64;if(++a,r==null||o==null||c==null||g==null)throw new Gw;const m=r<<2|o>>4;if(i.push(m),c!==64){const p=o<<4&240|c>>2;if(i.push(p),g!==64){const x=c<<6&192|g;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fw=function(e){const t=$E(e);return ZE.encodeByteArray(t,!0)},ou=function(e){return Fw(e).replace(/\./g,"")},Qw=function(e){try{return ZE.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=()=>Yw().__FIREBASE_DEFAULTS__,Xw=()=>{if(typeof process>"u"||typeof yy>"u")return;const e=yy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$w=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qw(e[1]);return t&&JSON.parse(t)},am=()=>{try{return Hw()||Kw()||Xw()||$w()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Zw=e=>{var t,n;return(n=(t=am())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},Jw=e=>{const t=Zw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},JE=()=>{var e;return(e=am())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tR(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[ou(JSON.stringify(n)),ou(JSON.stringify(s)),""].join(".")}const Ms={};function nR(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ms))Ms[t]?e.emulator.push(t):e.prod.push(t);return e}function iR(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let vy=!1;function aR(e,t){if(typeof window>"u"||typeof document>"u"||!rm(window.location.host)||Ms[e]===t||Ms[e]||vy)return;Ms[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=nR().prod.length>0;function s(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{vy=!0,s()},m}function f(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=iR(i),p=n("text"),x=document.getElementById(p)||document.createElement("span"),D=n("learnmore"),I=document.getElementById(D)||document.createElement("a"),T=n("preprendIcon"),v=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;o(E),f(I,D);const N=c();u(v,T),E.append(v,x,I,N),document.body.appendChild(E)}r?(x.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sR(){var t;const e=(t=am())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lR(){return!sR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var r;t(((r=a.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="FirebaseError";class Or extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=cR,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,WE.prototype.create)}}class WE{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,r=this.errors[t],s=r?hR(r,i):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Or(a,o,i)}}function hR(e,t){return e.replace(fR,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const fR=/\{\$([^}]+)}/g;function uu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const r=e[a],s=t[a];if(_y(r)&&_y(s)){if(!uu(r,s))return!1}else if(r!==s)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function _y(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(e){return e&&e._delegate?e._delegate:e}class Ws{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Ww;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gR(t))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:a});i.resolve(r)}catch{}}}}clearInstance(t=ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ea){return this.instances.has(t)}getOptions(t=ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&s.resolve(a)}return a}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const r=this.instances.get(i);return r&&t(r,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ea){return this.component?this.component.multipleInstances?t:ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(e){return e===ea?void 0:e}function gR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new dR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ct||(ct={}));const yR={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},vR=ct.INFO,_R={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},ER=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=_R[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class t1{constructor(t){this.name=t,this._logLevel=vR,this._logHandler=ER,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...t),this._logHandler(this,ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...t),this._logHandler(this,ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...t),this._logHandler(this,ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...t),this._logHandler(this,ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...t),this._logHandler(this,ct.ERROR,...t)}}const TR=(e,t)=>t.some(n=>e instanceof n);let Ey,Ty;function bR(){return Ey||(Ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SR(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,Cf=new WeakMap,n1=new WeakMap,yh=new WeakMap,sm=new WeakMap;function AR(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{n(Ai(e.result)),a()},s=()=>{i(e.error),a()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&e1.set(n,e)}).catch(()=>{}),sm.set(t,e),t}function wR(e){if(Cf.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{n(),a()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});Cf.set(e,t)}let Df={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Cf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||n1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function RR(e){Df=e(Df)}function xR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(vh(this),t,...n);return n1.set(i,t.sort?t.sort():[t]),Ai(i)}:SR().includes(e)?function(...t){return e.apply(vh(this),t),Ai(e1.get(this))}:function(...t){return Ai(e.apply(vh(this),t))}}function CR(e){return typeof e=="function"?xR(e):(e instanceof IDBTransaction&&wR(e),TR(e,bR())?new Proxy(e,Df):e)}function Ai(e){if(e instanceof IDBRequest)return AR(e);if(yh.has(e))return yh.get(e);const t=CR(e);return t!==e&&(yh.set(e,t),sm.set(t,e)),t}const vh=e=>sm.get(e);function DR(e,t,{blocked:n,upgrade:i,blocking:a,terminated:r}={}){const s=indexedDB.open(e,t),o=Ai(s);return i&&s.addEventListener("upgradeneeded",u=>{i(Ai(s.result),u.oldVersion,u.newVersion,Ai(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{r&&u.addEventListener("close",()=>r()),a&&u.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const NR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],_h=new Map;function by(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_h.get(t))return _h.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=VR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||NR.includes(n)))return;const r=async function(s,...o){const u=this.transaction(s,a?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),a&&u.done]))[0]};return _h.set(t,r),r}RR(e=>({...e,get:(t,n,i)=>by(t,n)||e.get(t,n,i),has:(t,n)=>!!by(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function MR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Nf="@firebase/app",Sy="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new t1("@firebase/app"),OR="@firebase/app-compat",LR="@firebase/analytics-compat",zR="@firebase/analytics",UR="@firebase/app-check-compat",jR="@firebase/app-check",kR="@firebase/auth",BR="@firebase/auth-compat",PR="@firebase/database",HR="@firebase/data-connect",qR="@firebase/database-compat",GR="@firebase/functions",FR="@firebase/functions-compat",QR="@firebase/installations",YR="@firebase/installations-compat",KR="@firebase/messaging",XR="@firebase/messaging-compat",$R="@firebase/performance",ZR="@firebase/performance-compat",JR="@firebase/remote-config",WR="@firebase/remote-config-compat",tx="@firebase/storage",ex="@firebase/storage-compat",nx="@firebase/firestore",ix="@firebase/ai",ax="@firebase/firestore-compat",rx="firebase",sx="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="[DEFAULT]",lx={[Nf]:"fire-core",[OR]:"fire-core-compat",[zR]:"fire-analytics",[LR]:"fire-analytics-compat",[jR]:"fire-app-check",[UR]:"fire-app-check-compat",[kR]:"fire-auth",[BR]:"fire-auth-compat",[PR]:"fire-rtdb",[HR]:"fire-data-connect",[qR]:"fire-rtdb-compat",[GR]:"fire-fn",[FR]:"fire-fn-compat",[QR]:"fire-iid",[YR]:"fire-iid-compat",[KR]:"fire-fcm",[XR]:"fire-fcm-compat",[$R]:"fire-perf",[ZR]:"fire-perf-compat",[JR]:"fire-rc",[WR]:"fire-rc-compat",[tx]:"fire-gcs",[ex]:"fire-gcs-compat",[nx]:"fire-fst",[ax]:"fire-fst-compat",[ix]:"fire-vertex","fire-js":"fire-js",[rx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,ox=new Map,If=new Map;function Ay(e,t){try{e.container.addComponent(t)}catch(n){Fn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function hu(e){const t=e.name;if(If.has(t))return Fn.debug(`There were multiple attempts to register component ${t}.`),!1;If.set(t,e);for(const n of cu.values())Ay(n,e);for(const n of ox.values())Ay(n,e);return!0}function ux(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function cx(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new WE("app","Firebase",hx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=sx;function i1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Vf,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw wi.create("bad-app-name",{appName:String(a)});if(n||(n=JE()),!n)throw wi.create("no-options");const r=cu.get(a);if(r){if(uu(n,r.options)&&uu(i,r.config))return r;throw wi.create("duplicate-app",{appName:a})}const s=new pR(a);for(const u of If.values())s.addComponent(u);const o=new fx(n,i,s);return cu.set(a,o),o}function mx(e=Vf){const t=cu.get(e);if(!t&&e===Vf&&JE())return i1();if(!t)throw wi.create("no-app",{appName:e});return t}function ar(e,t,n){let i=lx[e]??e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),r=t.match(/\s|\//);if(a||r){const s=[`Unable to register library "${i}" with version "${t}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&r&&s.push("and"),r&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fn.warn(s.join(" "));return}hu(new Ws(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="firebase-heartbeat-database",px=1,tl="firebase-heartbeat-store";let Eh=null;function a1(){return Eh||(Eh=DR(gx,px,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(tl)}catch(n){console.warn(n)}}}}).catch(e=>{throw wi.create("idb-open",{originalErrorMessage:e.message})})),Eh}async function yx(e){try{const n=(await a1()).transaction(tl),i=await n.objectStore(tl).get(r1(e));return await n.done,i}catch(t){if(t instanceof Or)Fn.warn(t.message);else{const n=wi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fn.warn(n.message)}}}async function wy(e,t){try{const i=(await a1()).transaction(tl,"readwrite");await i.objectStore(tl).put(t,r1(e)),await i.done}catch(n){if(n instanceof Or)Fn.warn(n.message);else{const i=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fn.warn(i.message)}}}function r1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=1024,_x=30;class Ex{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ry();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:a}),this._heartbeatsCache.heartbeats.length>_x){const s=Sx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Fn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ry(),{heartbeatsToSend:i,unsentEntries:a}=Tx(this._heartbeatsCache.heartbeats),r=ou(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Fn.warn(n),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function Tx(e,t=vx){const n=[];let i=e.slice();for(const a of e){const r=n.find(s=>s.agent===a.agent);if(r){if(r.dates.push(a.date),xy(n)>t){r.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),xy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class bx{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return wy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return wy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function xy(e){return ou(JSON.stringify({version:2,heartbeats:e})).length}function Sx(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(e){hu(new Ws("platform-logger",t=>new IR(t),"PRIVATE")),hu(new Ws("heartbeat",t=>new Ex(t),"PRIVATE")),ar(Nf,Sy,e),ar(Nf,Sy,"esm2020"),ar("fire-js","")}Ax("");var wx="firebase",Rx="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(wx,Rx,"app");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,s1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,_){function S(){}S.prototype=_.prototype,b.F=_.prototype,b.prototype=new S,b.prototype.constructor=b,b.D=function(w,C,V){for(var A=Array(arguments.length-2),X=2;X<arguments.length;X++)A[X-2]=arguments[X];return _.prototype[C].apply(w,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(b,_,S){S||(S=0);const w=Array(16);if(typeof _=="string")for(var C=0;C<16;++C)w[C]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(C=0;C<16;++C)w[C]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=b.g[0],S=b.g[1],C=b.g[2];let V=b.g[3],A;A=_+(V^S&(C^V))+w[0]+3614090360&4294967295,_=S+(A<<7&4294967295|A>>>25),A=V+(C^_&(S^C))+w[1]+3905402710&4294967295,V=_+(A<<12&4294967295|A>>>20),A=C+(S^V&(_^S))+w[2]+606105819&4294967295,C=V+(A<<17&4294967295|A>>>15),A=S+(_^C&(V^_))+w[3]+3250441966&4294967295,S=C+(A<<22&4294967295|A>>>10),A=_+(V^S&(C^V))+w[4]+4118548399&4294967295,_=S+(A<<7&4294967295|A>>>25),A=V+(C^_&(S^C))+w[5]+1200080426&4294967295,V=_+(A<<12&4294967295|A>>>20),A=C+(S^V&(_^S))+w[6]+2821735955&4294967295,C=V+(A<<17&4294967295|A>>>15),A=S+(_^C&(V^_))+w[7]+4249261313&4294967295,S=C+(A<<22&4294967295|A>>>10),A=_+(V^S&(C^V))+w[8]+1770035416&4294967295,_=S+(A<<7&4294967295|A>>>25),A=V+(C^_&(S^C))+w[9]+2336552879&4294967295,V=_+(A<<12&4294967295|A>>>20),A=C+(S^V&(_^S))+w[10]+4294925233&4294967295,C=V+(A<<17&4294967295|A>>>15),A=S+(_^C&(V^_))+w[11]+2304563134&4294967295,S=C+(A<<22&4294967295|A>>>10),A=_+(V^S&(C^V))+w[12]+1804603682&4294967295,_=S+(A<<7&4294967295|A>>>25),A=V+(C^_&(S^C))+w[13]+4254626195&4294967295,V=_+(A<<12&4294967295|A>>>20),A=C+(S^V&(_^S))+w[14]+2792965006&4294967295,C=V+(A<<17&4294967295|A>>>15),A=S+(_^C&(V^_))+w[15]+1236535329&4294967295,S=C+(A<<22&4294967295|A>>>10),A=_+(C^V&(S^C))+w[1]+4129170786&4294967295,_=S+(A<<5&4294967295|A>>>27),A=V+(S^C&(_^S))+w[6]+3225465664&4294967295,V=_+(A<<9&4294967295|A>>>23),A=C+(_^S&(V^_))+w[11]+643717713&4294967295,C=V+(A<<14&4294967295|A>>>18),A=S+(V^_&(C^V))+w[0]+3921069994&4294967295,S=C+(A<<20&4294967295|A>>>12),A=_+(C^V&(S^C))+w[5]+3593408605&4294967295,_=S+(A<<5&4294967295|A>>>27),A=V+(S^C&(_^S))+w[10]+38016083&4294967295,V=_+(A<<9&4294967295|A>>>23),A=C+(_^S&(V^_))+w[15]+3634488961&4294967295,C=V+(A<<14&4294967295|A>>>18),A=S+(V^_&(C^V))+w[4]+3889429448&4294967295,S=C+(A<<20&4294967295|A>>>12),A=_+(C^V&(S^C))+w[9]+568446438&4294967295,_=S+(A<<5&4294967295|A>>>27),A=V+(S^C&(_^S))+w[14]+3275163606&4294967295,V=_+(A<<9&4294967295|A>>>23),A=C+(_^S&(V^_))+w[3]+4107603335&4294967295,C=V+(A<<14&4294967295|A>>>18),A=S+(V^_&(C^V))+w[8]+1163531501&4294967295,S=C+(A<<20&4294967295|A>>>12),A=_+(C^V&(S^C))+w[13]+2850285829&4294967295,_=S+(A<<5&4294967295|A>>>27),A=V+(S^C&(_^S))+w[2]+4243563512&4294967295,V=_+(A<<9&4294967295|A>>>23),A=C+(_^S&(V^_))+w[7]+1735328473&4294967295,C=V+(A<<14&4294967295|A>>>18),A=S+(V^_&(C^V))+w[12]+2368359562&4294967295,S=C+(A<<20&4294967295|A>>>12),A=_+(S^C^V)+w[5]+4294588738&4294967295,_=S+(A<<4&4294967295|A>>>28),A=V+(_^S^C)+w[8]+2272392833&4294967295,V=_+(A<<11&4294967295|A>>>21),A=C+(V^_^S)+w[11]+1839030562&4294967295,C=V+(A<<16&4294967295|A>>>16),A=S+(C^V^_)+w[14]+4259657740&4294967295,S=C+(A<<23&4294967295|A>>>9),A=_+(S^C^V)+w[1]+2763975236&4294967295,_=S+(A<<4&4294967295|A>>>28),A=V+(_^S^C)+w[4]+1272893353&4294967295,V=_+(A<<11&4294967295|A>>>21),A=C+(V^_^S)+w[7]+4139469664&4294967295,C=V+(A<<16&4294967295|A>>>16),A=S+(C^V^_)+w[10]+3200236656&4294967295,S=C+(A<<23&4294967295|A>>>9),A=_+(S^C^V)+w[13]+681279174&4294967295,_=S+(A<<4&4294967295|A>>>28),A=V+(_^S^C)+w[0]+3936430074&4294967295,V=_+(A<<11&4294967295|A>>>21),A=C+(V^_^S)+w[3]+3572445317&4294967295,C=V+(A<<16&4294967295|A>>>16),A=S+(C^V^_)+w[6]+76029189&4294967295,S=C+(A<<23&4294967295|A>>>9),A=_+(S^C^V)+w[9]+3654602809&4294967295,_=S+(A<<4&4294967295|A>>>28),A=V+(_^S^C)+w[12]+3873151461&4294967295,V=_+(A<<11&4294967295|A>>>21),A=C+(V^_^S)+w[15]+530742520&4294967295,C=V+(A<<16&4294967295|A>>>16),A=S+(C^V^_)+w[2]+3299628645&4294967295,S=C+(A<<23&4294967295|A>>>9),A=_+(C^(S|~V))+w[0]+4096336452&4294967295,_=S+(A<<6&4294967295|A>>>26),A=V+(S^(_|~C))+w[7]+1126891415&4294967295,V=_+(A<<10&4294967295|A>>>22),A=C+(_^(V|~S))+w[14]+2878612391&4294967295,C=V+(A<<15&4294967295|A>>>17),A=S+(V^(C|~_))+w[5]+4237533241&4294967295,S=C+(A<<21&4294967295|A>>>11),A=_+(C^(S|~V))+w[12]+1700485571&4294967295,_=S+(A<<6&4294967295|A>>>26),A=V+(S^(_|~C))+w[3]+2399980690&4294967295,V=_+(A<<10&4294967295|A>>>22),A=C+(_^(V|~S))+w[10]+4293915773&4294967295,C=V+(A<<15&4294967295|A>>>17),A=S+(V^(C|~_))+w[1]+2240044497&4294967295,S=C+(A<<21&4294967295|A>>>11),A=_+(C^(S|~V))+w[8]+1873313359&4294967295,_=S+(A<<6&4294967295|A>>>26),A=V+(S^(_|~C))+w[15]+4264355552&4294967295,V=_+(A<<10&4294967295|A>>>22),A=C+(_^(V|~S))+w[6]+2734768916&4294967295,C=V+(A<<15&4294967295|A>>>17),A=S+(V^(C|~_))+w[13]+1309151649&4294967295,S=C+(A<<21&4294967295|A>>>11),A=_+(C^(S|~V))+w[4]+4149444226&4294967295,_=S+(A<<6&4294967295|A>>>26),A=V+(S^(_|~C))+w[11]+3174756917&4294967295,V=_+(A<<10&4294967295|A>>>22),A=C+(_^(V|~S))+w[2]+718787259&4294967295,C=V+(A<<15&4294967295|A>>>17),A=S+(V^(C|~_))+w[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(C+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+V&4294967295}i.prototype.v=function(b,_){_===void 0&&(_=b.length);const S=_-this.blockSize,w=this.C;let C=this.h,V=0;for(;V<_;){if(C==0)for(;V<=S;)a(this,b,V),V+=this.blockSize;if(typeof b=="string"){for(;V<_;)if(w[C++]=b.charCodeAt(V++),C==this.blockSize){a(this,w),C=0;break}}else for(;V<_;)if(w[C++]=b[V++],C==this.blockSize){a(this,w),C=0;break}}this.h=C,this.o+=_},i.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;_=this.o*8;for(var S=b.length-8;S<b.length;++S)b[S]=_&255,_/=256;for(this.v(b),b=Array(16),_=0,S=0;S<4;++S)for(let w=0;w<32;w+=8)b[_++]=this.g[S]>>>w&255;return b};function r(b,_){var S=o;return Object.prototype.hasOwnProperty.call(S,b)?S[b]:S[b]=_(b)}function s(b,_){this.h=_;const S=[];let w=!0;for(let C=b.length-1;C>=0;C--){const V=b[C]|0;w&&V==_||(S[C]=V,w=!1)}this.g=S}var o={};function u(b){return-128<=b&&b<128?r(b,function(_){return new s([_|0],_<0?-1:0)}):new s([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return g;if(b<0)return I(c(-b));const _=[];let S=1;for(let w=0;b>=S;w++)_[w]=b/S|0,S*=4294967296;return new s(_,0)}function f(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return I(f(b.substring(1),_));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=c(Math.pow(_,8));let w=g;for(let V=0;V<b.length;V+=8){var C=Math.min(8,b.length-V);const A=parseInt(b.substring(V,V+C),_);C<8?(C=c(Math.pow(_,C)),w=w.j(C).add(c(A))):(w=w.j(S),w=w.add(c(A)))}return w}var g=u(0),m=u(1),p=u(16777216);e=s.prototype,e.m=function(){if(D(this))return-I(this).m();let b=0,_=1;for(let S=0;S<this.g.length;S++){const w=this.i(S);b+=(w>=0?w:4294967296+w)*_,_*=4294967296}return b},e.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(x(this))return"0";if(D(this))return"-"+I(this).toString(b);const _=c(Math.pow(b,6));var S=this;let w="";for(;;){const C=N(S,_).g;S=T(S,C.j(_));let V=((S.g.length>0?S.g[0]:S.h)>>>0).toString(b);if(S=C,x(S))return V+w;for(;V.length<6;)V="0"+V;w=V+w}},e.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function x(b){if(b.h!=0)return!1;for(let _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function D(b){return b.h==-1}e.l=function(b){return b=T(this,b),D(b)?-1:x(b)?0:1};function I(b){const _=b.g.length,S=[];for(let w=0;w<_;w++)S[w]=~b.g[w];return new s(S,~b.h).add(m)}e.abs=function(){return D(this)?I(this):this},e.add=function(b){const _=Math.max(this.g.length,b.g.length),S=[];let w=0;for(let C=0;C<=_;C++){let V=w+(this.i(C)&65535)+(b.i(C)&65535),A=(V>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);w=A>>>16,V&=65535,A&=65535,S[C]=A<<16|V}return new s(S,S[S.length-1]&-2147483648?-1:0)};function T(b,_){return b.add(I(_))}e.j=function(b){if(x(this)||x(b))return g;if(D(this))return D(b)?I(this).j(I(b)):I(I(this).j(b));if(D(b))return I(this.j(I(b)));if(this.l(p)<0&&b.l(p)<0)return c(this.m()*b.m());const _=this.g.length+b.g.length,S=[];for(var w=0;w<2*_;w++)S[w]=0;for(w=0;w<this.g.length;w++)for(let C=0;C<b.g.length;C++){const V=this.i(w)>>>16,A=this.i(w)&65535,X=b.i(C)>>>16,Q=b.i(C)&65535;S[2*w+2*C]+=A*Q,v(S,2*w+2*C),S[2*w+2*C+1]+=V*Q,v(S,2*w+2*C+1),S[2*w+2*C+1]+=A*X,v(S,2*w+2*C+1),S[2*w+2*C+2]+=V*X,v(S,2*w+2*C+2)}for(b=0;b<_;b++)S[b]=S[2*b+1]<<16|S[2*b];for(b=_;b<2*_;b++)S[b]=0;return new s(S,0)};function v(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function E(b,_){this.g=b,this.h=_}function N(b,_){if(x(_))throw Error("division by zero");if(x(b))return new E(g,g);if(D(b))return _=N(I(b),_),new E(I(_.g),I(_.h));if(D(_))return _=N(b,I(_)),new E(I(_.g),_.h);if(b.g.length>30){if(D(b)||D(_))throw Error("slowDivide_ only works with positive integers.");for(var S=m,w=_;w.l(b)<=0;)S=j(S),w=j(w);var C=H(S,1),V=H(w,1);for(w=H(w,2),S=H(S,2);!x(w);){var A=V.add(w);A.l(b)<=0&&(C=C.add(S),V=A),w=H(w,1),S=H(S,1)}return _=T(b,C.j(_)),new E(C,_)}for(C=g;b.l(_)>=0;){for(S=Math.max(1,Math.floor(b.m()/_.m())),w=Math.ceil(Math.log(S)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),V=c(S),A=V.j(_);D(A)||A.l(b)>0;)S-=w,V=c(S),A=V.j(_);x(V)&&(V=m),C=C.add(V),b=T(b,A)}return new E(C,b)}e.B=function(b){return N(this,b).h},e.and=function(b){const _=Math.max(this.g.length,b.g.length),S=[];for(let w=0;w<_;w++)S[w]=this.i(w)&b.i(w);return new s(S,this.h&b.h)},e.or=function(b){const _=Math.max(this.g.length,b.g.length),S=[];for(let w=0;w<_;w++)S[w]=this.i(w)|b.i(w);return new s(S,this.h|b.h)},e.xor=function(b){const _=Math.max(this.g.length,b.g.length),S=[];for(let w=0;w<_;w++)S[w]=this.i(w)^b.i(w);return new s(S,this.h^b.h)};function j(b){const _=b.g.length+1,S=[];for(let w=0;w<_;w++)S[w]=b.i(w)<<1|b.i(w-1)>>>31;return new s(S,b.h)}function H(b,_){const S=_>>5;_%=32;const w=b.g.length-S,C=[];for(let V=0;V<w;V++)C[V]=_>0?b.i(V+S)>>>_|b.i(V+S+1)<<32-_:b.i(V+S);return new s(C,b.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,s1=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,Ri=s}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l1,gs,o1,Ro,Mf,u1,c1,h1;(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof io=="object"&&io];for(var h=0;h<l.length;++h){var d=l[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function a(l,h){if(h)t:{var d=i;l=l.split(".");for(var y=0;y<l.length-1;y++){var M=l[y];if(!(M in d))break t;d=d[M]}l=l[l.length-1],y=d[l],h=h(y),h!=y&&h!=null&&t(d,l,{configurable:!0,writable:!0,value:h})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(h){var d=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&d.push([y,h[y]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},s=this||self;function o(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,d){return l.call.apply(l.bind,arguments)}function c(l,h,d){return c=u,c.apply(null,arguments)}function f(l,h){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function g(l,h){function d(){}d.prototype=h.prototype,l.Z=h.prototype,l.prototype=new d,l.prototype.constructor=l,l.Ob=function(y,M,L){for(var P=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)P[nt-2]=arguments[nt];return h.prototype[M].apply(y,P)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function p(l){const h=l.length;if(h>0){const d=Array(h);for(let y=0;y<h;y++)d[y]=l[y];return d}return[]}function x(l,h){for(let y=1;y<arguments.length;y++){const M=arguments[y];var d=typeof M;if(d=d!="object"?d:M?Array.isArray(M)?"array":d:"null",d=="array"||d=="object"&&typeof M.length=="number"){d=l.length||0;const L=M.length||0;l.length=d+L;for(let P=0;P<L;P++)l[d+P]=M[P]}else l.push(M)}}class D{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function I(l){s.setTimeout(()=>{throw l},0)}function T(){var l=b;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class v{constructor(){this.h=this.g=null}add(h,d){const y=E.get();y.set(h,d),this.h?this.h.next=y:this.g=y,this.h=y}}var E=new D(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let j,H=!1,b=new v,_=()=>{const l=Promise.resolve(void 0);j=()=>{l.then(S)}};function S(){for(var l;l=T();){try{l.h.call(l.g)}catch(d){I(d)}var h=E;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}H=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const d=()=>{};s.addEventListener("test",d,h),s.removeEventListener("test",d,h)}catch{}return l}();function A(l){return/^[\s\xa0]*$/.test(l)}function X(l,h){C.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}g(X,C),X.prototype.init=function(l,h){const d=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(d=="mouseover"?h=l.fromElement:d=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&X.Z.h.call(this)},X.prototype.h=function(){X.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Q="closure_listenable_"+(Math.random()*1e6|0),B=0;function Z(l,h,d,y,M){this.listener=l,this.proxy=null,this.src=h,this.type=d,this.capture=!!y,this.ha=M,this.key=++B,this.da=this.fa=!1}function $(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function mt(l,h,d){for(const y in l)h.call(d,l[y],y,l)}function It(l,h){for(const d in l)h.call(void 0,l[d],d,l)}function qi(l){const h={};for(const d in l)h[d]=l[d];return h}const Gi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra(l,h){let d,y;for(let M=1;M<arguments.length;M++){y=arguments[M];for(d in y)l[d]=y[d];for(let L=0;L<Gi.length;L++)d=Gi[L],Object.prototype.hasOwnProperty.call(y,d)&&(l[d]=y[d])}}function Be(l){this.src=l,this.g={},this.h=0}Be.prototype.add=function(l,h,d,y,M){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const P=oc(l,h,y,M);return P>-1?(h=l[P],d||(h.fa=!1)):(h=new Z(h,this.src,L,!!y,M),h.fa=d,l.push(h)),h};function Xn(l,h){const d=h.type;if(d in l.g){var y=l.g[d],M=Array.prototype.indexOf.call(y,h,void 0),L;(L=M>=0)&&Array.prototype.splice.call(y,M,1),L&&($(h),l.g[d].length==0&&(delete l.g[d],l.h--))}}function oc(l,h,d,y){for(let M=0;M<l.length;++M){const L=l[M];if(!L.da&&L.listener==h&&L.capture==!!d&&L.ha==y)return M}return-1}var uc="closure_lm_"+(Math.random()*1e6|0),cc={};function km(l,h,d,y,M){if(Array.isArray(h)){for(let L=0;L<h.length;L++)km(l,h[L],d,y,M);return null}return d=Hm(d),l&&l[Q]?l.J(h,d,o(y)?!!y.capture:!1,M):kT(l,h,d,!1,y,M)}function kT(l,h,d,y,M,L){if(!h)throw Error("Invalid event type");const P=o(M)?!!M.capture:!!M;let nt=fc(l);if(nt||(l[uc]=nt=new Be(l)),d=nt.add(h,d,y,P,L),d.proxy)return d;if(y=BT(),d.proxy=y,y.src=l,y.listener=d,l.addEventListener)V||(M=P),M===void 0&&(M=!1),l.addEventListener(h.toString(),y,M);else if(l.attachEvent)l.attachEvent(Pm(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function BT(){function l(d){return h.call(l.src,l.listener,d)}const h=PT;return l}function Bm(l,h,d,y,M){if(Array.isArray(h))for(var L=0;L<h.length;L++)Bm(l,h[L],d,y,M);else y=o(y)?!!y.capture:!!y,d=Hm(d),l&&l[Q]?(l=l.i,L=String(h).toString(),L in l.g&&(h=l.g[L],d=oc(h,d,y,M),d>-1&&($(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete l.g[L],l.h--)))):l&&(l=fc(l))&&(h=l.g[h.toString()],l=-1,h&&(l=oc(h,d,y,M)),(d=l>-1?h[l]:null)&&hc(d))}function hc(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Q])Xn(h.i,l);else{var d=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(d,y,l.capture):h.detachEvent?h.detachEvent(Pm(d),y):h.addListener&&h.removeListener&&h.removeListener(y),(d=fc(h))?(Xn(d,l),d.h==0&&(d.src=null,h[uc]=null)):$(l)}}}function Pm(l){return l in cc?cc[l]:cc[l]="on"+l}function PT(l,h){if(l.da)l=!0;else{h=new X(h,this);const d=l.listener,y=l.ha||l.src;l.fa&&hc(l),l=d.call(y,h)}return l}function fc(l){return l=l[uc],l instanceof Be?l:null}var dc="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hm(l){return typeof l=="function"?l:(l[dc]||(l[dc]=function(h){return l.handleEvent(h)}),l[dc])}function ce(){w.call(this),this.i=new Be(this),this.M=this,this.G=null}g(ce,w),ce.prototype[Q]=!0,ce.prototype.removeEventListener=function(l,h,d,y){Bm(this,l,h,d,y)};function me(l,h){var d,y=l.G;if(y)for(d=[];y;y=y.G)d.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new C(h,l);else if(h instanceof C)h.target=h.target||l;else{var M=h;h=new C(y,l),Ra(h,M)}M=!0;let L,P;if(d)for(P=d.length-1;P>=0;P--)L=h.g=d[P],M=Cl(L,y,!0,h)&&M;if(L=h.g=l,M=Cl(L,y,!0,h)&&M,M=Cl(L,y,!1,h)&&M,d)for(P=0;P<d.length;P++)L=h.g=d[P],M=Cl(L,y,!1,h)&&M}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const d=l.g[h];for(let y=0;y<d.length;y++)$(d[y]);delete l.g[h],l.h--}}this.G=null},ce.prototype.J=function(l,h,d,y){return this.i.add(String(l),h,!1,d,y)},ce.prototype.K=function(l,h,d,y){return this.i.add(String(l),h,!0,d,y)};function Cl(l,h,d,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let M=!0;for(let L=0;L<h.length;++L){const P=h[L];if(P&&!P.da&&P.capture==d){const nt=P.listener,Qt=P.ha||P.src;P.fa&&Xn(l.i,P),M=nt.call(Qt,y)!==!1&&M}}return M&&!y.defaultPrevented}function HT(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:s.setTimeout(l,h||0)}function qm(l){l.g=HT(()=>{l.g=null,l.i&&(l.i=!1,qm(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class qT extends w{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:qm(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(l){w.call(this),this.h=l,this.g={}}g(kr,w);var Gm=[];function Fm(l){mt(l.g,function(h,d){this.g.hasOwnProperty(d)&&hc(h)},l),l.g={}}kr.prototype.N=function(){kr.Z.N.call(this),Fm(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mc=s.JSON.stringify,GT=s.JSON.parse,FT=class{stringify(l){return s.JSON.stringify(l,void 0)}parse(l){return s.JSON.parse(l,void 0)}};function Qm(){}function Ym(){}var Br={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gc(){C.call(this,"d")}g(gc,C);function pc(){C.call(this,"c")}g(pc,C);var Fi={},Km=null;function Dl(){return Km=Km||new ce}Fi.Ia="serverreachability";function Xm(l){C.call(this,Fi.Ia,l)}g(Xm,C);function Pr(l){const h=Dl();me(h,new Xm(h))}Fi.STAT_EVENT="statevent";function $m(l,h){C.call(this,Fi.STAT_EVENT,l),this.stat=h}g($m,C);function ge(l){const h=Dl();me(h,new $m(h,l))}Fi.Ja="timingevent";function Zm(l,h){C.call(this,Fi.Ja,l),this.size=h}g(Zm,C);function Hr(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){l()},h)}function qr(){this.g=!0}qr.prototype.ua=function(){this.g=!1};function QT(l,h,d,y,M,L){l.info(function(){if(l.g)if(L){var P="",nt=L.split("&");for(let _t=0;_t<nt.length;_t++){var Qt=nt[_t].split("=");if(Qt.length>1){const Zt=Qt[0];Qt=Qt[1];const un=Zt.split("_");P=un.length>=2&&un[1]=="type"?P+(Zt+"="+Qt+"&"):P+(Zt+"=redacted&")}}}else P=null;else P=L;return"XMLHTTP REQ ("+y+") [attempt "+M+"]: "+h+`
`+d+`
`+P})}function YT(l,h,d,y,M,L,P){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+M+"]: "+h+`
`+d+`
`+L+" "+P})}function xa(l,h,d,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+XT(l,d)+(y?" "+y:"")})}function KT(l,h){l.info(function(){return"TIMEOUT: "+h})}qr.prototype.info=function(){};function XT(l,h){if(!l.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var d=L[l];if(!(d.length<2)){var y=d[1];if(Array.isArray(y)&&!(y.length<1)){var M=y[0];if(M!="noop"&&M!="stop"&&M!="close")for(let P=1;P<y.length;P++)y[P]=""}}}}return mc(L)}catch{return h}}var Nl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jm={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wm;function yc(){}g(yc,Qm),yc.prototype.g=function(){return new XMLHttpRequest},Wm=new yc;function Gr(l){return encodeURIComponent(String(l))}function $T(l){var h=1;l=l.split(":");const d=[];for(;h>0&&l.length;)d.push(l.shift()),h--;return l.length&&d.push(l.join(":")),d}function $n(l,h,d,y){this.j=l,this.i=h,this.l=d,this.S=y||1,this.V=new kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new tg}function tg(){this.i=null,this.g="",this.h=!1}var eg={},vc={};function _c(l,h,d){l.M=1,l.A=Il(on(h)),l.u=d,l.R=!0,ng(l,null)}function ng(l,h){l.F=Date.now(),Vl(l),l.B=on(l.A);var d=l.B,y=l.S;Array.isArray(y)||(y=[String(y)]),gg(d.i,"t",y),l.C=0,d=l.j.L,l.h=new tg,l.g=Mg(l.j,d?h:null,!l.u),l.P>0&&(l.O=new qT(c(l.Y,l,l.g),l.P)),h=l.V,d=l.g,y=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(Gm[0]=M.toString()),M=Gm);for(let L=0;L<M.length;L++){const P=km(d,M[L],y||h.handleEvent,!1,h.h||h);if(!P)break;h.g[P.key]=P}h=l.J?qi(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Pr(),QT(l.i,l.v,l.B,l.l,l.S,l.u)}$n.prototype.ba=function(l){l=l.target;const h=this.O;h&&Wn(l)==3?h.j():this.Y(l)},$n.prototype.Y=function(l){try{if(l==this.g)t:{const nt=Wn(this.g),Qt=this.g.ya(),_t=this.g.ca();if(!(nt<3)&&(nt!=3||this.g&&(this.h.h||this.g.la()||bg(this.g)))){this.K||nt!=4||Qt==7||(Qt==8||_t<=0?Pr(3):Pr(2)),Ec(this);var h=this.g.ca();this.X=h;var d=ZT(this);if(this.o=h==200,YT(this.i,this.v,this.B,this.l,this.S,nt,h),this.o){if(this.U&&!this.L){e:{if(this.g){var y,M=this.g;if((y=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(y)){var L=y;break e}}L=null}if(l=L)xa(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Tc(this,l);else{this.o=!1,this.m=3,ge(12),Qi(this),Fr(this);break t}}if(this.R){l=!0;let Zt;for(;!this.K&&this.C<d.length;)if(Zt=JT(this,d),Zt==vc){nt==4&&(this.m=4,ge(14),l=!1),xa(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==eg){this.m=4,ge(15),xa(this.i,this.l,d,"[Invalid Chunk]"),l=!1;break}else xa(this.i,this.l,Zt,null),Tc(this,Zt);if(ig(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||d.length!=0||this.h.h||(this.m=1,ge(16),l=!1),this.o=this.o&&l,!l)xa(this.i,this.l,d,"[Invalid Chunked Response]"),Qi(this),Fr(this);else if(d.length>0&&!this.W){this.W=!0;var P=this.j;P.g==this&&P.aa&&!P.P&&(P.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),Dc(P),P.P=!0,ge(11))}}else xa(this.i,this.l,d,null),Tc(this,d);nt==4&&Qi(this),this.o&&!this.K&&(nt==4?Dg(this.j,this):(this.o=!1,Vl(this)))}else fb(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),Qi(this),Fr(this)}}}catch{}finally{}};function ZT(l){if(!ig(l))return l.g.la();const h=bg(l.g);if(h==="")return"";let d="";const y=h.length,M=Wn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Qi(l),Fr(l),"";l.h.i=new s.TextDecoder}for(let L=0;L<y;L++)l.h.h=!0,d+=l.h.i.decode(h[L],{stream:!(M&&L==y-1)});return h.length=0,l.h.g+=d,l.C=0,l.h.g}function ig(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function JT(l,h){var d=l.C,y=h.indexOf(`
`,d);return y==-1?vc:(d=Number(h.substring(d,y)),isNaN(d)?eg:(y+=1,y+d>h.length?vc:(h=h.slice(y,y+d),l.C=y+d,h)))}$n.prototype.cancel=function(){this.K=!0,Qi(this)};function Vl(l){l.T=Date.now()+l.H,ag(l,l.H)}function ag(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Hr(c(l.aa,l),h)}function Ec(l){l.D&&(s.clearTimeout(l.D),l.D=null)}$n.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(KT(this.i,this.B),this.M!=2&&(Pr(),ge(17)),Qi(this),this.m=2,Fr(this)):ag(this,this.T-l)};function Fr(l){l.j.I==0||l.K||Dg(l.j,l)}function Qi(l){Ec(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,Fm(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Tc(l,h){try{var d=l.j;if(d.I!=0&&(d.g==l||bc(d.h,l))){if(!l.L&&bc(d.h,l)&&d.I==3){try{var y=d.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var M=y;if(M[0]==0){t:if(!d.v){if(d.g)if(d.g.F+3e3<l.F)Ul(d),Ll(d);else break t;Cc(d),ge(18)}}else d.xa=M[1],0<d.xa-d.K&&M[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Hr(c(d.Va,d),6e3));lg(d.h)<=1&&d.ta&&(d.ta=void 0)}else Ki(d,11)}else if((l.L||d.g==l)&&Ul(d),!A(h))for(M=d.Ba.g.parse(h),h=0;h<M.length;h++){let _t=M[h];const Zt=_t[0];if(!(Zt<=d.K))if(d.K=Zt,_t=_t[1],d.I==2)if(_t[0]=="c"){d.M=_t[1],d.ba=_t[2];const un=_t[3];un!=null&&(d.ka=un,d.j.info("VER="+d.ka));const Xi=_t[4];Xi!=null&&(d.za=Xi,d.j.info("SVER="+d.za));const ti=_t[5];ti!=null&&typeof ti=="number"&&ti>0&&(y=1.5*ti,d.O=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const ei=l.g;if(ei){const kl=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kl){var L=y.h;L.g||kl.indexOf("spdy")==-1&&kl.indexOf("quic")==-1&&kl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Sc(L,L.h),L.h=null))}if(y.G){const Nc=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(y.wa=Nc,bt(y.J,y.G,Nc))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-l.F,d.j.info("Handshake RTT: "+d.T+"ms")),y=d;var P=l;if(y.na=Ig(y,y.L?y.ba:null,y.W),P.L){og(y.h,P);var nt=P,Qt=y.O;Qt&&(nt.H=Qt),nt.D&&(Ec(nt),Vl(nt)),y.g=P}else xg(y);d.i.length>0&&zl(d)}else _t[0]!="stop"&&_t[0]!="close"||Ki(d,7);else d.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Ki(d,7):xc(d):_t[0]!="noop"&&d.l&&d.l.qa(_t),d.A=0)}}Pr(4)}catch{}}var WT=class{constructor(l,h){this.g=l,this.map=h}};function rg(l){this.l=l||10,s.PerformanceNavigationTiming?(l=s.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function lg(l){return l.h?1:l.g?l.g.size:0}function bc(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Sc(l,h){l.g?l.g.add(h):l.h=h}function og(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}rg.prototype.cancel=function(){if(this.i=ug(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ug(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const d of l.g.values())h=h.concat(d.G);return h}return p(l.i)}var cg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tb(l,h){if(l){l=l.split("&");for(let d=0;d<l.length;d++){const y=l[d].indexOf("=");let M,L=null;y>=0?(M=l[d].substring(0,y),L=l[d].substring(y+1)):M=l[d],h(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Zn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Zn?(this.l=l.l,Qr(this,l.j),this.o=l.o,this.g=l.g,Yr(this,l.u),this.h=l.h,Ac(this,pg(l.i)),this.m=l.m):l&&(h=String(l).match(cg))?(this.l=!1,Qr(this,h[1]||"",!0),this.o=Kr(h[2]||""),this.g=Kr(h[3]||"",!0),Yr(this,h[4]),this.h=Kr(h[5]||"",!0),Ac(this,h[6]||"",!0),this.m=Kr(h[7]||"")):(this.l=!1,this.i=new $r(null,this.l))}Zn.prototype.toString=function(){const l=[];var h=this.j;h&&l.push(Xr(h,hg,!0),":");var d=this.g;return(d||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Xr(h,hg,!0),"@"),l.push(Gr(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&l.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&l.push("/"),l.push(Xr(d,d.charAt(0)=="/"?ib:nb,!0))),(d=this.i.toString())&&l.push("?",d),(d=this.m)&&l.push("#",Xr(d,rb)),l.join("")},Zn.prototype.resolve=function(l){const h=on(this);let d=!!l.j;d?Qr(h,l.j):d=!!l.o,d?h.o=l.o:d=!!l.g,d?h.g=l.g:d=l.u!=null;var y=l.h;if(d)Yr(h,l.u);else if(d=!!l.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var M=h.h.lastIndexOf("/");M!=-1&&(y=h.h.slice(0,M+1)+y)}if(M=y,M==".."||M==".")y="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){y=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let P=0;P<M.length;){const nt=M[P++];nt=="."?y&&P==M.length&&L.push(""):nt==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),y&&P==M.length&&L.push("")):(L.push(nt),y=!0)}y=L.join("/")}else y=M}return d?h.h=y:d=l.i.toString()!=="",d?Ac(h,pg(l.i)):d=!!l.m,d&&(h.m=l.m),h};function on(l){return new Zn(l)}function Qr(l,h,d){l.j=d?Kr(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Yr(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function Ac(l,h,d){h instanceof $r?(l.i=h,sb(l.i,l.l)):(d||(h=Xr(h,ab)),l.i=new $r(h,l.l))}function bt(l,h,d){l.i.set(h,d)}function Il(l){return bt(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Kr(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Xr(l,h,d){return typeof l=="string"?(l=encodeURI(l).replace(h,eb),d&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function eb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var hg=/[#\/\?@]/g,nb=/[#\?:]/g,ib=/[#\?]/g,ab=/[#\?@]/g,rb=/#/g;function $r(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Yi(l){l.g||(l.g=new Map,l.h=0,l.i&&tb(l.i,function(h,d){l.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}e=$r.prototype,e.add=function(l,h){Yi(this),this.i=null,l=Ca(this,l);let d=this.g.get(l);return d||this.g.set(l,d=[]),d.push(h),this.h+=1,this};function fg(l,h){Yi(l),h=Ca(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function dg(l,h){return Yi(l),h=Ca(l,h),l.g.has(h)}e.forEach=function(l,h){Yi(this),this.g.forEach(function(d,y){d.forEach(function(M){l.call(h,M,y,this)},this)},this)};function mg(l,h){Yi(l);let d=[];if(typeof h=="string")dg(l,h)&&(d=d.concat(l.g.get(Ca(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)d=d.concat(l[h]);return d}e.set=function(l,h){return Yi(this),this.i=null,l=Ca(this,l),dg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},e.get=function(l,h){return l?(l=mg(this,l),l.length>0?String(l[0]):h):h};function gg(l,h,d){fg(l,h),d.length>0&&(l.i=null,l.g.set(Ca(l,h),p(d)),l.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var d=h[y];const M=Gr(d);d=mg(this,d);for(let L=0;L<d.length;L++){let P=M;d[L]!==""&&(P+="="+Gr(d[L])),l.push(P)}}return this.i=l.join("&")};function pg(l){const h=new $r;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Ca(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function sb(l,h){h&&!l.j&&(Yi(l),l.i=null,l.g.forEach(function(d,y){const M=y.toLowerCase();y!=M&&(fg(this,y),gg(this,M,d))},l)),l.j=h}function lb(l,h){const d=new qr;if(s.Image){const y=new Image;y.onload=f(Jn,d,"TestLoadImage: loaded",!0,h,y),y.onerror=f(Jn,d,"TestLoadImage: error",!1,h,y),y.onabort=f(Jn,d,"TestLoadImage: abort",!1,h,y),y.ontimeout=f(Jn,d,"TestLoadImage: timeout",!1,h,y),s.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function ob(l,h){const d=new qr,y=new AbortController,M=setTimeout(()=>{y.abort(),Jn(d,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(L=>{clearTimeout(M),L.ok?Jn(d,"TestPingServer: ok",!0,h):Jn(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Jn(d,"TestPingServer: error",!1,h)})}function Jn(l,h,d,y,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),y(d)}catch{}}function ub(){this.g=new FT}function wc(l){this.i=l.Sb||null,this.h=l.ab||!1}g(wc,Qm),wc.prototype.g=function(){return new Ml(this.i,this.h)};function Ml(l,h){ce.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ml,ce),e=Ml.prototype,e.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,Jr(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||s).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Jr(this)),this.g&&(this.readyState=3,Jr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;yg(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function yg(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Zr(this):Jr(this),this.readyState==3&&yg(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,Zr(this))},e.Na=function(l){this.g&&(this.response=l,Zr(this))},e.ga=function(){this.g&&Zr(this)};function Zr(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Jr(l)}e.setRequestHeader=function(l,h){this.A.append(l,h)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,l.push(d[0]+": "+d[1]),d=h.next();return l.join(`\r
`)};function Jr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function vg(l){let h="";return mt(l,function(d,y){h+=y,h+=":",h+=d,h+=`\r
`}),h}function Rc(l,h,d){t:{for(y in d){var y=!1;break t}y=!0}y||(d=vg(d),typeof l=="string"?d!=null&&Gr(d):bt(l,h,d))}function Mt(l){ce.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Mt,ce);var cb=/^https?$/i,hb=["POST","PUT"];e=Mt.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,h,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wm.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(L){_g(this,L);return}if(l=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var M in y)d.set(M,y[M]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const L of y.keys())d.set(L,y.get(L));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(L=>L.toLowerCase()=="content-type"),M=s.FormData&&l instanceof s.FormData,!(Array.prototype.indexOf.call(hb,h,void 0)>=0)||y||M||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,P]of d)this.g.setRequestHeader(L,P);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){_g(this,L)}};function _g(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,Eg(l),Ol(l)}function Eg(l){l.A||(l.A=!0,me(l,"complete"),me(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,me(this,"complete"),me(this,"abort"),Ol(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ol(this,!0)),Mt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Tg(this):this.Xa())},e.Xa=function(){Tg(this)};function Tg(l){if(l.h&&typeof r<"u"){if(l.v&&Wn(l)==4)setTimeout(l.Ca.bind(l),0);else if(me(l,"readystatechange"),Wn(l)==4){l.h=!1;try{const L=l.ca();t:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var d;if(!(d=h)){var y;if(y=L===0){let P=String(l.D).match(cg)[1]||null;!P&&s.self&&s.self.location&&(P=s.self.location.protocol.slice(0,-1)),y=!cb.test(P?P.toLowerCase():"")}d=y}if(d)me(l,"complete"),me(l,"success");else{l.o=6;try{var M=Wn(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",Eg(l)}}finally{Ol(l)}}}}function Ol(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const d=l.g;l.g=null,h||me(l,"ready");try{d.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Wn(l){return l.g?l.g.readyState:0}e.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),GT(h)}};function bg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function fb(l){const h={};l=(l.g&&Wn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(A(l[y]))continue;var d=$T(l[y]);const M=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const L=h[M]||[];h[M]=L,L.push(d)}It(h,function(y){return y.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(l,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[l]||h}function Sg(l){this.za=0,this.i=[],this.j=new qr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wr("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wr("baseRetryDelayMs",5e3,l),this.Za=Wr("retryDelaySeedMs",1e4,l),this.Ta=Wr("forwardChannelMaxRetries",2,l),this.va=Wr("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new rg(l&&l.concurrentRequestLimit),this.Ba=new ub,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Sg.prototype,e.ka=8,e.I=1,e.connect=function(l,h,d,y){ge(0),this.W=l,this.H=h||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.J=Ig(this,null,this.W),zl(this)};function xc(l){if(Ag(l),l.I==3){var h=l.V++,d=on(l.J);if(bt(d,"SID",l.M),bt(d,"RID",h),bt(d,"TYPE","terminate"),ts(l,d),h=new $n(l,l.j,h),h.M=2,h.A=Il(on(d)),d=!1,s.navigator&&s.navigator.sendBeacon)try{d=s.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&s.Image&&(new Image().src=h.A,d=!0),d||(h.g=Mg(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Vl(h)}Vg(l)}function Ll(l){l.g&&(Dc(l),l.g.cancel(),l.g=null)}function Ag(l){Ll(l),l.v&&(s.clearTimeout(l.v),l.v=null),Ul(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&s.clearTimeout(l.m),l.m=null)}function zl(l){if(!sg(l.h)&&!l.m){l.m=!0;var h=l.Ea;j||_(),H||(j(),H=!0),b.add(h,l),l.D=0}}function db(l,h){return lg(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Hr(c(l.Ea,l,h),Ng(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new $n(this,this.j,l);let L=this.o;if(this.U&&(L?(L=qi(L),Ra(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)t:{for(var h=0,d=0;d<this.i.length;d++){e:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break e}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=d;break t}if(h===4096||d===this.i.length-1){h=d+1;break t}}h=1e3}else h=1e3;h=Rg(this,M,h),d=on(this.J),bt(d,"RID",l),bt(d,"CVER",22),this.G&&bt(d,"X-HTTP-Session-Id",this.G),ts(this,d),L&&(this.R?h="headers="+Gr(vg(L))+"&"+h:this.u&&Rc(d,this.u,L)),Sc(this.h,M),this.Ra&&bt(d,"TYPE","init"),this.S?(bt(d,"$req",h),bt(d,"SID","null"),M.U=!0,_c(M,d,null)):_c(M,d,h),this.I=2}}else this.I==3&&(l?wg(this,l):this.i.length==0||sg(this.h)||wg(this))};function wg(l,h){var d;h?d=h.l:d=l.V++;const y=on(l.J);bt(y,"SID",l.M),bt(y,"RID",d),bt(y,"AID",l.K),ts(l,y),l.u&&l.o&&Rc(y,l.u,l.o),d=new $n(l,l.j,d,l.D+1),l.u===null&&(d.J=l.o),h&&(l.i=h.G.concat(l.i)),h=Rg(l,d,1e3),d.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Sc(l.h,d),_c(d,y,h)}function ts(l,h){l.H&&mt(l.H,function(d,y){bt(h,y,d)}),l.l&&mt({},function(d,y){bt(h,y,d)})}function Rg(l,h,d){d=Math.min(l.i.length,d);const y=l.l?c(l.l.Ka,l.l,l):null;t:{var M=l.i;let nt=-1;for(;;){const Qt=["count="+d];nt==-1?d>0?(nt=M[0].g,Qt.push("ofs="+nt)):nt=0:Qt.push("ofs="+nt);let _t=!0;for(let Zt=0;Zt<d;Zt++){var L=M[Zt].g;const un=M[Zt].map;if(L-=nt,L<0)nt=Math.max(0,M[Zt].g-100),_t=!1;else try{L="req"+L+"_"||"";try{var P=un instanceof Map?un:Object.entries(un);for(const[Xi,ti]of P){let ei=ti;o(ti)&&(ei=mc(ti)),Qt.push(L+Xi+"="+encodeURIComponent(ei))}}catch(Xi){throw Qt.push(L+"type="+encodeURIComponent("_badmap")),Xi}}catch{y&&y(un)}}if(_t){P=Qt.join("&");break t}}P=void 0}return l=l.i.splice(0,d),h.G=l,P}function xg(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;j||_(),H||(j(),H=!0),b.add(h,l),l.A=0}}function Cc(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Hr(c(l.Da,l),Ng(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,Cg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Hr(c(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),Ll(this),Cg(this))};function Dc(l){l.B!=null&&(s.clearTimeout(l.B),l.B=null)}function Cg(l){l.g=new $n(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=on(l.na);bt(h,"RID","rpc"),bt(h,"SID",l.M),bt(h,"AID",l.K),bt(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&bt(h,"TO",l.ia),bt(h,"TYPE","xmlhttp"),ts(l,h),l.u&&l.o&&Rc(h,l.u,l.o),l.O&&(l.g.H=l.O);var d=l.g;l=l.ba,d.M=1,d.A=Il(on(h)),d.u=null,d.R=!0,ng(d,l)}e.Va=function(){this.C!=null&&(this.C=null,Ll(this),Cc(this),ge(19))};function Ul(l){l.C!=null&&(s.clearTimeout(l.C),l.C=null)}function Dg(l,h){var d=null;if(l.g==h){Ul(l),Dc(l),l.g=null;var y=2}else if(bc(l.h,h))d=h.G,og(l.h,h),y=1;else return;if(l.I!=0){if(h.o)if(y==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var M=l.D;y=Dl(),me(y,new Zm(y,d)),zl(l)}else xg(l);else if(M=h.m,M==3||M==0&&h.X>0||!(y==1&&db(l,h)||y==2&&Cc(l)))switch(d&&d.length>0&&(h=l.h,h.i=h.i.concat(d)),M){case 1:Ki(l,5);break;case 4:Ki(l,10);break;case 3:Ki(l,6);break;default:Ki(l,2)}}}function Ng(l,h){let d=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(d*=2),d*h}function Ki(l,h){if(l.j.info("Error code "+h),h==2){var d=c(l.bb,l),y=l.Ua;const M=!y;y=new Zn(y||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Qr(y,"https"),Il(y),M?lb(y.toString(),d):ob(y.toString(),d)}else ge(2);l.I=0,l.l&&l.l.pa(h),Vg(l),Ag(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Vg(l){if(l.I=0,l.ja=[],l.l){const h=ug(l.h);(h.length!=0||l.i.length!=0)&&(x(l.ja,h),x(l.ja,l.i),l.h.i.length=0,p(l.i),l.i.length=0),l.l.oa()}}function Ig(l,h,d){var y=d instanceof Zn?on(d):new Zn(d);if(y.g!="")h&&(y.g=h+"."+y.g),Yr(y,y.u);else{var M=s.location;y=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;const L=new Zn(null);y&&Qr(L,y),h&&(L.g=h),M&&Yr(L,M),d&&(L.h=d),y=L}return d=l.G,h=l.wa,d&&h&&bt(y,d,h),bt(y,"VER",l.ka),ts(l,y),y}function Mg(l,h,d){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new Mt(new wc({ab:d})):new Mt(l.ma),h.Fa(l.L),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Og(){}e=Og.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function jl(){}jl.prototype.g=function(l,h){return new Ce(l,h)};function Ce(l,h){ce.call(this),this.g=new Sg(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!A(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!A(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Da(this)}g(Ce,ce),Ce.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ce.prototype.close=function(){xc(this.g)},Ce.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var d={};d.__data__=l,l=d}else this.v&&(d={},d.__data__=mc(l),l=d);h.i.push(new WT(h.Ya++,l)),h.I==3&&zl(h)},Ce.prototype.N=function(){this.g.l=null,delete this.j,xc(this.g),delete this.g,Ce.Z.N.call(this)};function Lg(l){gc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){t:{for(const d in h){l=d;break t}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}g(Lg,gc);function zg(){pc.call(this),this.status=1}g(zg,pc);function Da(l){this.g=l}g(Da,Og),Da.prototype.ra=function(){me(this.g,"a")},Da.prototype.qa=function(l){me(this.g,new Lg(l))},Da.prototype.pa=function(l){me(this.g,new zg)},Da.prototype.oa=function(){me(this.g,"b")},jl.prototype.createWebChannel=jl.prototype.g,Ce.prototype.send=Ce.prototype.o,Ce.prototype.open=Ce.prototype.m,Ce.prototype.close=Ce.prototype.close,h1=function(){return new jl},c1=function(){return Dl()},u1=Fi,Mf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nl.NO_ERROR=0,Nl.TIMEOUT=8,Nl.HTTP_ERROR=6,Ro=Nl,Jm.COMPLETE="complete",o1=Jm,Ym.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",ce.prototype.listen=ce.prototype.J,gs=Ym,Mt.prototype.listenOnce=Mt.prototype.K,Mt.prototype.getLastError=Mt.prototype.Ha,Mt.prototype.getLastErrorCode=Mt.prototype.ya,Mt.prototype.getStatus=Mt.prototype.ca,Mt.prototype.getResponseJson=Mt.prototype.La,Mt.prototype.getResponseText=Mt.prototype.la,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Fa,l1=Mt}).apply(typeof io<"u"?io:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fe.UNAUTHENTICATED=new fe(null),fe.GOOGLE_CREDENTIALS=new fe("google-credentials-uid"),fe.FIRST_PARTY=new fe("first-party-uid"),fe.MOCK_USER=new fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lr="12.8.0";function xx(e){Lr=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new t1("@firebase/firestore");function La(){return ma.logLevel}function q(e,...t){if(ma.logLevel<=ct.DEBUG){const n=t.map(lm);ma.debug(`Firestore (${Lr}): ${e}`,...n)}}function Qn(e,...t){if(ma.logLevel<=ct.ERROR){const n=t.map(lm);ma.error(`Firestore (${Lr}): ${e}`,...n)}}function _r(e,...t){if(ma.logLevel<=ct.WARN){const n=t.map(lm);ma.warn(`Firestore (${Lr}): ${e}`,...n)}}function lm(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,f1(e,i,n)}function f1(e,t,n){let i=`FIRESTORE (${Lr}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qn(i),new Error(i)}function dt(e,t,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,e||f1(t,a,i)}function W(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Or{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Cx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(fe.UNAUTHENTICATED))}shutdown(){}}class Dx{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nx{constructor(t){this.t=t,this.currentUser=fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){dt(this.o===void 0,42304);let i=this.i;const a=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new xi,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new xi)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new d1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dt(t===null||typeof t=="string",2055,{h:t}),new fe(t)}}class Vx{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=fe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Ix{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new Vx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mx{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cx(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){dt(this.o===void 0,3512);const i=r=>{r.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const s=r.token!==this.m;return this.m=r.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const a=r=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>a(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?a(r):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Ox(40);for(let r=0;r<a.length;++r)i.length<20&&a[r]<n&&(i+=t.charAt(a[r]%62))}return i}}function rt(e,t){return e<t?-1:e>t?1:0}function Of(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=e.charAt(i),r=t.charAt(i);if(a!==r)return Th(a)===Th(r)?rt(a,r):Th(a)?1:-1}return rt(e.length,t.length)}const Lx=55296,zx=57343;function Th(e){const t=e.charCodeAt(0);return t>=Lx&&t<=zx}function Er(e,t,n){return e.length===t.length&&e.every((i,a)=>n(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="__name__";class cn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Y(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Y(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return cn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof cn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const r=cn.compareSegments(t.get(a),n.get(a));if(r!==0)return r}return rt(t.length,n.length)}static compareSegments(t,n){const i=cn.isNumericId(t),a=cn.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?cn.extractNumericId(t).compare(cn.extractNumericId(n)):Of(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ri.fromString(t.substring(4,t.length-2))}}class wt extends cn{construct(t,n,i){return new wt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new G(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const Ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends cn{construct(t,n,i){return new se(t,n,i)}static isValidIdentifier(t){return Ux.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ny}static keyField(){return new se([Ny])}static fromServerFormat(t){const n=[];let i="",a=0;const r=()=>{if(i.length===0)throw new G(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new G(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(i+=o,a++):(r(),a++)}if(r(),s)throw new G(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new se(n)}static emptyPath(){return new se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.path=t}static fromPath(t){return new F(wt.fromString(t))}static fromName(t){return new F(wt.fromString(t).popFirst(5))}static empty(){return new F(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new F(new wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(e,t,n){if(!n)throw new G(k.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function jx(e,t,n,i){if(t===!0&&i===!0)throw new G(k.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vy(e){if(!F.isDocumentKey(e))throw new G(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Iy(e){if(F.isDocumentKey(e))throw new G(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function g1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function um(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y(12329,{type:typeof e})}function nn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=um(e);throw new G(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e,t){const n={typeString:e};return t&&(n.value=t),n}function Sl(e,t){if(!g1(e))throw new G(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const a=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const s=e[i];if(a&&typeof s!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(r!==void 0&&s!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new G(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-62135596800,Oy=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(t){return Rt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Oy);return new Rt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<My)throw new G(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Oy}_compareTo(t){return this.seconds===t.seconds?rt(this.nanoseconds,t.nanoseconds):rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sl(t,Rt._jsonSchema))return new Rt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-My;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Ft("string",Rt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(t){return new J(t)}static min(){return new J(new Rt(0,0))}static max(){return new J(new Rt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=-1;function kx(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=J.fromTimestamp(i===1e9?new Rt(n+1,0):new Rt(n,i));return new Mi(a,F.empty(),t)}function Bx(e){return new Mi(e.readTime,e.key,el)}class Mi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Mi(J.min(),F.empty(),el)}static max(){return new Mi(J.max(),F.empty(),el)}}function Px(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=F.comparator(e.documentKey,t.documentKey),n!==0?n:rt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zr(e){if(e.code!==k.FAILED_PRECONDITION||e.message!==Hx)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new U((i,a)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,a)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):U.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):U.reject(n)}static resolve(t){return new U((n,i)=>{n(t)})}static reject(t){return new U((n,i)=>{i(t)})}static waitFor(t){return new U((n,i)=>{let a=0,r=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++r,s&&r===a&&n()},u=>i(u))}),s=!0,r===a&&n()})}static or(t){let n=U.resolve(!1);for(const i of t)n=n.next(a=>a?U.resolve(a):i());return n}static forEach(t,n){const i=[];return t.forEach((a,r)=>{i.push(n.call(this,a,r))}),this.waitFor(i)}static mapArray(t,n){return new U((i,a)=>{const r=t.length,s=new Array(r);let o=0;for(let u=0;u<r;u++){const c=u;n(t[c]).next(f=>{s[c]=f,++o,o===r&&i(s)},f=>a(f))}})}static doWhile(t,n){return new U((i,a)=>{const r=()=>{t()===!0?n().next(()=>{r()},a):i()};r()})}}function Gx(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ur(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Fu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=-1;function Qu(e){return e==null}function fu(e){return e===0&&1/e==-1/0}function Fx(e){return typeof e=="number"&&Number.isInteger(e)&&!fu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="";function Qx(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ly(t)),t=Yx(e.get(n),t);return Ly(t)}function Yx(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const r=e.charAt(a);switch(r){case"\0":n+="";break;case p1:n+="";break;default:n+=r}}return n}function Ly(e){return e+p1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function y1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,n){this.comparator=t,this.root=n||ie.EMPTY}insert(t,n){return new Vt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ie.BLACK,null,null))}remove(t){return new Vt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ie.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ao(this.root,t,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ao(this.root,t,this.comparator,!0)}}class ao{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&a&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ie{constructor(t,n,i,a,r){this.key=t,this.value=n,this.color=i??ie.RED,this.left=a??ie.EMPTY,this.right=r??ie.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,r){return new ie(t??this.key,n??this.value,i??this.color,a??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const r=i(t,a.key);return a=r<0?a.copy(null,null,null,a.left.insert(t,n,i),null):r===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ie.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return ie.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ie.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ie.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Y(27949);return t+(this.isRed()?0:1)}}ie.EMPTY=null,ie.RED=!0,ie.BLACK=!1;ie.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(t,n,i,a,r){return this}insert(t,n,i){return new ie(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.comparator=t,this.data=new Vt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uy(this.data.getIterator())}getIteratorFrom(t){return new Uy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Xt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(this.comparator(a,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Xt(this.comparator);return n.data=t,n}}class Uy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.fields=t,t.sort(se.comparator)}static empty(){return new Me([])}unionWith(t){let n=new Xt(se.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Me(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Er(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new v1("Invalid base64 string: "+r):r}}(t);return new ue(n)}static fromUint8Array(t){const n=function(a){let r="";for(let s=0;s<a.length;++s)r+=String.fromCharCode(a[s]);return r}(t);return new ue(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ue.EMPTY_BYTE_STRING=new ue("");const Kx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(e){if(dt(!!e,39018),typeof e=="string"){let t=0;const n=Kx.exec(e);if(dt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zt(e.seconds),nanos:zt(e.nanos)}}function zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Li(e){return typeof e=="string"?ue.fromBase64String(e):ue.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="server_timestamp",E1="__type__",T1="__previous_value__",b1="__local_write_time__";function hm(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[E1])==null?void 0:i.stringValue)===_1}function Yu(e){const t=e.mapValue.fields[T1];return hm(t)?Yu(t):t}function nl(e){const t=Oi(e.mapValue.fields[b1].timestampValue);return new Rt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n,i,a,r,s,o,u,c,f,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f,this.apiKey=g}}const du="(default)";class il{constructor(t,n){this.projectId=t,this.database=n||du}static empty(){return new il("","")}get isDefaultDatabase(){return this.database===du}isEqual(t){return t instanceof il&&t.projectId===this.projectId&&t.database===this.database}}function $x(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new G(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="__type__",Zx="__max__",ro={mapValue:{}},A1="__vector__",mu="value";function zi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?hm(e)?4:Wx(e)?9007199254740991:Jx(e)?10:11:Y(28295,{value:e})}function vn(e,t){if(e===t)return!0;const n=zi(e);if(n!==zi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nl(e).isEqual(nl(t));case 3:return function(a,r){if(typeof a.timestampValue=="string"&&typeof r.timestampValue=="string"&&a.timestampValue.length===r.timestampValue.length)return a.timestampValue===r.timestampValue;const s=Oi(a.timestampValue),o=Oi(r.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,r){return Li(a.bytesValue).isEqual(Li(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,r){return zt(a.geoPointValue.latitude)===zt(r.geoPointValue.latitude)&&zt(a.geoPointValue.longitude)===zt(r.geoPointValue.longitude)}(e,t);case 2:return function(a,r){if("integerValue"in a&&"integerValue"in r)return zt(a.integerValue)===zt(r.integerValue);if("doubleValue"in a&&"doubleValue"in r){const s=zt(a.doubleValue),o=zt(r.doubleValue);return s===o?fu(s)===fu(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Er(e.arrayValue.values||[],t.arrayValue.values||[],vn);case 10:case 11:return function(a,r){const s=a.mapValue.fields||{},o=r.mapValue.fields||{};if(zy(s)!==zy(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!vn(s[u],o[u])))return!1;return!0}(e,t);default:return Y(52216,{left:e})}}function al(e,t){return(e.values||[]).find(n=>vn(n,t))!==void 0}function Tr(e,t){if(e===t)return 0;const n=zi(e),i=zi(t);if(n!==i)return rt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(e.booleanValue,t.booleanValue);case 2:return function(r,s){const o=zt(r.integerValue||r.doubleValue),u=zt(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return jy(e.timestampValue,t.timestampValue);case 4:return jy(nl(e),nl(t));case 5:return Of(e.stringValue,t.stringValue);case 6:return function(r,s){const o=Li(r),u=Li(s);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(r,s){const o=r.split("/"),u=s.split("/");for(let c=0;c<o.length&&c<u.length;c++){const f=rt(o[c],u[c]);if(f!==0)return f}return rt(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,s){const o=rt(zt(r.latitude),zt(s.latitude));return o!==0?o:rt(zt(r.longitude),zt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ky(e.arrayValue,t.arrayValue);case 10:return function(r,s){var m,p,x,D;const o=r.fields||{},u=s.fields||{},c=(m=o[mu])==null?void 0:m.arrayValue,f=(p=u[mu])==null?void 0:p.arrayValue,g=rt(((x=c==null?void 0:c.values)==null?void 0:x.length)||0,((D=f==null?void 0:f.values)==null?void 0:D.length)||0);return g!==0?g:ky(c,f)}(e.mapValue,t.mapValue);case 11:return function(r,s){if(r===ro.mapValue&&s===ro.mapValue)return 0;if(r===ro.mapValue)return 1;if(s===ro.mapValue)return-1;const o=r.fields||{},u=Object.keys(o),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const m=Of(u[g],f[g]);if(m!==0)return m;const p=Tr(o[u[g]],c[f[g]]);if(p!==0)return p}return rt(u.length,f.length)}(e.mapValue,t.mapValue);default:throw Y(23264,{he:n})}}function jy(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return rt(e,t);const n=Oi(e),i=Oi(t),a=rt(n.seconds,i.seconds);return a!==0?a:rt(n.nanos,i.nanos)}function ky(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const r=Tr(n[a],i[a]);if(r)return r}return rt(n.length,i.length)}function br(e){return Lf(e)}function Lf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Oi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Li(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return F.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",a=!0;for(const r of n.values||[])a?a=!1:i+=",",i+=Lf(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",r=!0;for(const s of i)r?r=!1:a+=",",a+=`${s}:${Lf(n.fields[s])}`;return a+"}"}(e.mapValue):Y(61005,{value:e})}function xo(e){switch(zi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yu(e);return t?16+xo(t):16;case 5:return 2*e.stringValue.length;case 6:return Li(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,r)=>a+xo(r),0)}(e.arrayValue);case 10:case 11:return function(i){let a=0;return Pi(i.fields,(r,s)=>{a+=r.length+xo(s)}),a}(e.mapValue);default:throw Y(13486,{value:e})}}function zf(e){return!!e&&"integerValue"in e}function fm(e){return!!e&&"arrayValue"in e}function By(e){return!!e&&"nullValue"in e}function Py(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Co(e){return!!e&&"mapValue"in e}function Jx(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[S1])==null?void 0:i.stringValue)===A1}function Os(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Pi(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Os(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Os(e.arrayValue.values[n]);return t}return{...e}}function Wx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Zx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(t){this.value=t}static empty(){return new Ae({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Co(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Os(n)}setAll(t){let n=se.emptyPath(),i={},a=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,a),i={},a=[],n=o.popLast()}s?i[o.lastSegment()]=Os(s):a.push(o.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,a)}delete(t){const n=this.field(t.popLast());Co(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];Co(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){Pi(n,(a,r)=>t[a]=r);for(const a of i)delete t[a]}clone(){return new Ae(Os(this.value))}}function w1(e){const t=[];return Pi(e.fields,(n,i)=>{const a=new se([n]);if(Co(i)){const r=w1(i.mapValue).fields;if(r.length===0)t.push(a);else for(const s of r)t.push(a.child(s))}else t.push(a)}),new Me(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n,i,a,r,s,o){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new de(t,0,J.min(),J.min(),J.min(),Ae.empty(),0)}static newFoundDocument(t,n,i,a){return new de(t,1,n,J.min(),i,a,0)}static newNoDocument(t,n){return new de(t,2,n,J.min(),J.min(),Ae.empty(),0)}static newUnknownDocument(t,n){return new de(t,3,n,J.min(),J.min(),Ae.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ae.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ae.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof de&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new de(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,n){this.position=t,this.inclusive=n}}function Hy(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const r=t[a],s=e.position[a];if(r.field.isKeyField()?i=F.comparator(F.fromName(s.referenceValue),n.key):i=Tr(s,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function qy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,n="asc"){this.field=t,this.dir=n}}function tC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class Kt extends R1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new nC(t,n,i):n==="array-contains"?new rC(t,i):n==="in"?new sC(t,i):n==="not-in"?new lC(t,i):n==="array-contains-any"?new oC(t,i):new Kt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new iC(t,i):new aC(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tr(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Tr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _n extends R1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new _n(t,n)}matches(t){return x1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(e){return e.op==="and"}function C1(e){return eC(e)&&x1(e)}function eC(e){for(const t of e.filters)if(t instanceof _n)return!1;return!0}function Uf(e){if(e instanceof Kt)return e.field.canonicalString()+e.op.toString()+br(e.value);if(C1(e))return e.filters.map(t=>Uf(t)).join(",");{const t=e.filters.map(n=>Uf(n)).join(",");return`${e.op}(${t})`}}function D1(e,t){return e instanceof Kt?function(i,a){return a instanceof Kt&&i.op===a.op&&i.field.isEqual(a.field)&&vn(i.value,a.value)}(e,t):e instanceof _n?function(i,a){return a instanceof _n&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((r,s,o)=>r&&D1(s,a.filters[o]),!0):!1}(e,t):void Y(19439)}function N1(e){return e instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${br(n.value)}`}(e):e instanceof _n?function(n){return n.op.toString()+" {"+n.getFilters().map(N1).join(" ,")+"}"}(e):"Filter"}class nC extends Kt{constructor(t,n,i){super(t,n,i),this.key=F.fromName(i.referenceValue)}matches(t){const n=F.comparator(t.key,this.key);return this.matchesComparison(n)}}class iC extends Kt{constructor(t,n){super(t,"in",n),this.keys=V1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class aC extends Kt{constructor(t,n){super(t,"not-in",n),this.keys=V1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function V1(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>F.fromName(i.referenceValue))}class rC extends Kt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return fm(n)&&al(n.arrayValue,this.value)}}class sC extends Kt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&al(this.value.arrayValue,n)}}class lC extends Kt{constructor(t,n){super(t,"not-in",n)}matches(t){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!al(this.value.arrayValue,n)}}class oC extends Kt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>al(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(t,n=null,i=[],a=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=r,this.startAt=s,this.endAt=o,this.Te=null}}function Gy(e,t=null,n=[],i=[],a=null,r=null,s=null){return new uC(e,t,n,i,a,r,s)}function dm(e){const t=W(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Uf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Qu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>br(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>br(i)).join(",")),t.Te=n}return t.Te}function mm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!tC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!D1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qy(e.startAt,t.startAt)&&qy(e.endAt,t.endAt)}function jf(e){return F.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(t,n=null,i=[],a=[],r=null,s="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function cC(e,t,n,i,a,r,s,o){return new Ku(e,t,n,i,a,r,s,o)}function Xu(e){return new Ku(e)}function Fy(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function hC(e){return F.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function fC(e){return e.collectionGroup!==null}function Ls(e){const t=W(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Xt(se.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new pu(r,i))}),n.has(se.keyField().canonicalString())||t.Ie.push(new pu(se.keyField(),i))}return t.Ie}function gn(e){const t=W(e);return t.Ee||(t.Ee=dC(t,Ls(e))),t.Ee}function dC(e,t){if(e.limitType==="F")return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const r=a.dir==="desc"?"asc":"desc";return new pu(a.field,r)});const n=e.endAt?new gu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new gu(e.startAt.position,e.startAt.inclusive):null;return Gy(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function kf(e,t,n){return new Ku(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $u(e,t){return mm(gn(e),gn(t))&&e.limitType===t.limitType}function I1(e){return`${dm(gn(e))}|lt:${e.limitType}`}function za(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>N1(a)).join(", ")}]`),Qu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>br(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>br(a)).join(",")),`Target(${i})`}(gn(e))}; limitType=${e.limitType})`}function Zu(e,t){return t.isFoundDocument()&&function(i,a){const r=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):F.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,a){for(const r of Ls(i))if(!r.field.isKeyField()&&a.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,a){for(const r of i.filters)if(!r.matches(a))return!1;return!0}(e,t)&&function(i,a){return!(i.startAt&&!function(s,o,u){const c=Hy(s,o,u);return s.inclusive?c<=0:c<0}(i.startAt,Ls(i),a)||i.endAt&&!function(s,o,u){const c=Hy(s,o,u);return s.inclusive?c>=0:c>0}(i.endAt,Ls(i),a))}(e,t)}function mC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function M1(e){return(t,n)=>{let i=!1;for(const a of Ls(e)){const r=gC(a,t,n);if(r!==0)return r;i=i||a.field.isKeyField()}return 0}}function gC(e,t,n){const i=e.field.isKeyField()?F.comparator(t.key,n.key):function(r,s,o){const u=s.data.field(r),c=o.data.field(r);return u!==null&&c!==null?Tr(u,c):Y(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,r]of i)if(this.equalsFn(a,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<a.length;r++)if(this.equalsFn(a[r][0],t))return void(a[r]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Pi(this.inner,(n,i)=>{for(const[a,r]of i)t(a,r)})}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new Vt(F.comparator);function Yn(){return pC}const O1=new Vt(F.comparator);function ps(...e){let t=O1;for(const n of e)t=t.insert(n.key,n);return t}function L1(e){let t=O1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function na(){return zs()}function z1(){return zs()}function zs(){return new Aa(e=>e.toString(),(e,t)=>e.isEqual(t))}const yC=new Vt(F.comparator),vC=new Xt(F.comparator);function st(...e){let t=vC;for(const n of e)t=t.add(n);return t}const _C=new Xt(rt);function EC(){return _C}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fu(t)?"-0":t}}function U1(e){return{integerValue:""+e}}function TC(e,t){return Fx(t)?U1(t):gm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this._=void 0}}function bC(e,t,n){return e instanceof yu?function(a,r){const s={fields:{[E1]:{stringValue:_1},[b1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return r&&hm(r)&&(r=Yu(r)),r&&(s.fields[T1]=r),{mapValue:s}}(n,t):e instanceof rl?k1(e,t):e instanceof sl?B1(e,t):function(a,r){const s=j1(a,r),o=Qy(s)+Qy(a.Ae);return zf(s)&&zf(a.Ae)?U1(o):gm(a.serializer,o)}(e,t)}function SC(e,t,n){return e instanceof rl?k1(e,t):e instanceof sl?B1(e,t):n}function j1(e,t){return e instanceof vu?function(i){return zf(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class yu extends Ju{}class rl extends Ju{constructor(t){super(),this.elements=t}}function k1(e,t){const n=P1(t);for(const i of e.elements)n.some(a=>vn(a,i))||n.push(i);return{arrayValue:{values:n}}}class sl extends Ju{constructor(t){super(),this.elements=t}}function B1(e,t){let n=P1(t);for(const i of e.elements)n=n.filter(a=>!vn(a,i));return{arrayValue:{values:n}}}class vu extends Ju{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Qy(e){return zt(e.integerValue||e.doubleValue)}function P1(e){return fm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function AC(e,t){return e.field.isEqual(t.field)&&function(i,a){return i instanceof rl&&a instanceof rl||i instanceof sl&&a instanceof sl?Er(i.elements,a.elements,vn):i instanceof vu&&a instanceof vu?vn(i.Ae,a.Ae):i instanceof yu&&a instanceof yu}(e.transform,t.transform)}class wC{constructor(t,n){this.version=t,this.transformResults=n}}class an{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new an}static exists(t){return new an(void 0,t)}static updateTime(t){return new an(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Do(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Wu{}function H1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new pm(e.key,an.none()):new Al(e.key,e.data,an.none());{const n=e.data,i=Ae.empty();let a=new Xt(se.comparator);for(let r of t.fields)if(!a.has(r)){let s=n.field(r);s===null&&r.length>1&&(r=r.popLast(),s=n.field(r)),s===null?i.delete(r):i.set(r,s),a=a.add(r)}return new Hi(e.key,i,new Me(a.toArray()),an.none())}}function RC(e,t,n){e instanceof Al?function(a,r,s){const o=a.value.clone(),u=Ky(a.fieldTransforms,r,s.transformResults);o.setAll(u),r.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Hi?function(a,r,s){if(!Do(a.precondition,r))return void r.convertToUnknownDocument(s.version);const o=Ky(a.fieldTransforms,r,s.transformResults),u=r.data;u.setAll(q1(a)),u.setAll(o),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(a,r,s){r.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Us(e,t,n,i){return e instanceof Al?function(r,s,o,u){if(!Do(r.precondition,s))return o;const c=r.value.clone(),f=Xy(r.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof Hi?function(r,s,o,u){if(!Do(r.precondition,s))return o;const c=Xy(r.fieldTransforms,u,s),f=s.data;return f.setAll(q1(r)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(r,s,o){return Do(r.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function xC(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),r=j1(i.transform,a||null);r!=null&&(n===null&&(n=Ae.empty()),n.set(i.field,r))}return n||null}function Yy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Er(i,a,(r,s)=>AC(r,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Al extends Wu{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Hi extends Wu{constructor(t,n,i,a,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function q1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Ky(e,t,n){const i=new Map;dt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let a=0;a<n.length;a++){const r=e[a],s=r.transform,o=t.data.field(r.field);i.set(r.field,SC(s,o,n[a]))}return i}function Xy(e,t,n){const i=new Map;for(const a of e){const r=a.transform,s=n.data.field(a.field);i.set(a.field,bC(r,s,t))}return i}class pm extends Wu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CC extends Wu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const r=this.mutations[a];r.key.isEqual(t.key)&&RC(r,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Us(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Us(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=z1();return this.mutations.forEach(a=>{const r=t.get(a.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=n.has(a.key)?null:o;const u=H1(s,o);u!==null&&i.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&Er(this.mutations,t.mutations,(n,i)=>Yy(n,i))&&Er(this.baseMutations,t.baseMutations,(n,i)=>Yy(n,i))}}class ym{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){dt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=function(){return yC}();const r=t.mutations;for(let s=0;s<r.length;s++)a=a.insert(r[s].key,i[s].version);return new ym(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,ut;function IC(e){switch(e){case k.OK:return Y(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Y(15467,{code:e})}}function G1(e){if(e===void 0)return Qn("GRPC error has no .code"),k.UNKNOWN;switch(e){case Bt.OK:return k.OK;case Bt.CANCELLED:return k.CANCELLED;case Bt.UNKNOWN:return k.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return k.INTERNAL;case Bt.UNAVAILABLE:return k.UNAVAILABLE;case Bt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Bt.NOT_FOUND:return k.NOT_FOUND;case Bt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Bt.ABORTED:return k.ABORTED;case Bt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Bt.DATA_LOSS:return k.DATA_LOSS;default:return Y(39323,{code:e})}}(ut=Bt||(Bt={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new Ri([4294967295,4294967295],0);function $y(e){const t=MC().encode(e),n=new s1;return n.update(t),new Uint8Array(n.digest())}function Zy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Ri([n,i],0),new Ri([a,r],0)]}class vm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ys(`Invalid padding: ${n}`);if(i<0)throw new ys(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ys(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new ys(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ri.fromNumber(this.ge)}ye(t,n,i){let a=t.add(n.multiply(Ri.fromNumber(i)));return a.compare(OC)===1&&(a=new Ri([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=$y(t),[i,a]=Zy(n);for(let r=0;r<this.hashCount;r++){const s=this.ye(i,a,r);if(!this.we(s))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),s=new vm(r,a,n);return i.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const n=$y(t),[i,a]=Zy(n);for(let r=0;r<this.hashCount;r++){const s=this.ye(i,a,r);this.be(s)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class ys extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(t,n,i,a,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,wl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new tc(J.min(),a,new Vt(rt),Yn(),st())}}class wl{constructor(t,n,i,a,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new wl(i,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,n,i,a){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=a}}class F1{constructor(t,n){this.targetId=t,this.Ce=n}}class Q1{constructor(t,n,i=ue.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class Jy{constructor(){this.ve=0,this.Fe=Wy(),this.Me=ue.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=st(),n=st(),i=st();return this.Fe.forEach((a,r)=>{switch(r){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Y(38017,{changeType:r})}}),new wl(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=Wy()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class LC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Yn(),this.He=so(),this.Je=so(),this.Ze=new Vt(rt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Y(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,a)=>{this.rt(a)&&n(a)})}st(t){const n=t.targetId,i=t.Ce.count,a=this.ot(n);if(a){const r=a.target;if(jf(r))if(i===0){const s=new F(r.path);this.et(n,s,de.newNoDocument(s,J.min()))}else dt(i===1,20013,{expectedCount:i});else{const s=this._t(n);if(s!==i){const o=this.ut(t),u=o?this.ct(o,t,s):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:r=0}=n;let s,o;try{s=Li(i).toUint8Array()}catch(u){if(u instanceof v1)return _r("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new vm(s,a,r)}catch(u){return _r(u instanceof ys?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach(r=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`;t.mightContain(o)||(this.et(n,r,null),a++)}),a}Tt(t){const n=new Map;this.ze.forEach((r,s)=>{const o=this.ot(s);if(o){if(r.current&&jf(o.target)){const u=new F(o.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,de.newNoDocument(u,t))}r.Be&&(n.set(s,r.ke()),r.Ke())}});let i=st();this.Je.forEach((r,s)=>{let o=!0;s.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.je.forEach((r,s)=>s.setReadTime(t));const a=new tc(t,n,this.Ze,this.je,i);return this.je=Yn(),this.He=so(),this.Je=so(),this.Ze=new Vt(rt),a}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new Jy,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Xt(rt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Xt(rt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Jy),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function so(){return new Vt(F.comparator)}function Wy(){return new Vt(F.comparator)}const zC={asc:"ASCENDING",desc:"DESCENDING"},UC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jC={and:"AND",or:"OR"};class kC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bf(e,t){return e.useProto3Json||Qu(t)?t:{value:t}}function _u(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Y1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function BC(e,t){return _u(e,t.toTimestamp())}function pn(e){return dt(!!e,49232),J.fromTimestamp(function(n){const i=Oi(n);return new Rt(i.seconds,i.nanos)}(e))}function _m(e,t){return Pf(e,t).canonicalString()}function Pf(e,t){const n=function(a){return new wt(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function K1(e){const t=wt.fromString(e);return dt(W1(t),10190,{key:t.toString()}),t}function Hf(e,t){return _m(e.databaseId,t.path)}function bh(e,t){const n=K1(t);if(n.get(1)!==e.databaseId.projectId)throw new G(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new F($1(n))}function X1(e,t){return _m(e.databaseId,t)}function PC(e){const t=K1(e);return t.length===4?wt.emptyPath():$1(t)}function qf(e){return new wt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $1(e){return dt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function tv(e,t,n){return{name:Hf(e,t),fields:n.value.mapValue.fields}}function HC(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],r=function(c,f){return c.useProto3Json?(dt(f===void 0||typeof f=="string",58123),ue.fromBase64String(f||"")):(dt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ue.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const f=c.code===void 0?k.UNKNOWN:G1(c.code);return new G(f,c.message||"")}(s);n=new Q1(i,a,r,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=bh(e,i.document.name),r=pn(i.document.updateTime),s=i.document.createTime?pn(i.document.createTime):J.min(),o=new Ae({mapValue:{fields:i.document.fields}}),u=de.newFoundDocument(a,r,s,o),c=i.targetIds||[],f=i.removedTargetIds||[];n=new No(c,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=bh(e,i.document),r=i.readTime?pn(i.readTime):J.min(),s=de.newNoDocument(a,r),o=i.removedTargetIds||[];n=new No([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=bh(e,i.document),r=i.removedTargetIds||[];n=new No([],r,a,null)}else{if(!("filter"in t))return Y(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:r}=i,s=new VC(a,r),o=i.targetId;n=new F1(o,s)}}return n}function qC(e,t){let n;if(t instanceof Al)n={update:tv(e,t.key,t.value)};else if(t instanceof pm)n={delete:Hf(e,t.key)};else if(t instanceof Hi)n={update:tv(e,t.key,t.data),updateMask:JC(t.fieldMask)};else{if(!(t instanceof CC))return Y(16599,{dt:t.type});n={verify:Hf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const o=s.transform;if(o instanceof yu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof rl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof sl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof vu)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Y(20930,{transform:s.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(a,r){return r.updateTime!==void 0?{updateTime:BC(a,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Y(27497)}(e,t.precondition)),n}function GC(e,t){return e&&e.length>0?(dt(t!==void 0,14353),e.map(n=>function(a,r){let s=a.updateTime?pn(a.updateTime):pn(r);return s.isEqual(J.min())&&(s=pn(r)),new wC(s,a.transformResults||[])}(n,t))):[]}function FC(e,t){return{documents:[X1(e,t.path)]}}function QC(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=X1(e,a);const r=function(c){if(c.length!==0)return J1(_n.create(c,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:Ua(m.field),direction:XC(m.dir)}}(f))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Bf(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:a}}function YC(e){let t=PC(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){dt(i===1,65062);const f=n.from[0];f.allDescendants?a=f.collectionId:t=t.child(f.collectionId)}let r=[];n.where&&(r=function(g){const m=Z1(g);return m instanceof _n&&C1(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(m=>function(x){return new pu(ja(x.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(g){let m;return m=typeof g=="object"?g.value:g,Qu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,p=g.values||[];return new gu(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(g){const m=!g.before,p=g.values||[];return new gu(p,m)}(n.endAt)),cC(t,a,s,r,o,"F",u,c)}function KC(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Z1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ja(n.unaryFilter.field);return Kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ja(n.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ja(n.unaryFilter.field);return Kt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ja(n.unaryFilter.field);return Kt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(e):e.fieldFilter!==void 0?function(n){return Kt.create(ja(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return _n.create(n.compositeFilter.filters.map(i=>Z1(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(e):Y(30097,{filter:e})}function XC(e){return zC[e]}function $C(e){return UC[e]}function ZC(e){return jC[e]}function Ua(e){return{fieldPath:e.canonicalString()}}function ja(e){return se.fromServerFormat(e.fieldPath)}function J1(e){return e instanceof Kt?function(n){if(n.op==="=="){if(Py(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(By(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Py(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(By(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:$C(n.op),value:n.value}}}(e):e instanceof _n?function(n){const i=n.getFilters().map(a=>J1(a));return i.length===1?i[0]:{compositeFilter:{op:ZC(n.op),filters:i}}}(e):Y(54877,{filter:e})}function JC(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function W1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function tT(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,n,i,a,r=J.min(),s=J.min(),o=ue.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new mi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.yt=t}}function t4(e){const t=YC({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?kf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.Sn=new n4}addToCollectionParentIndex(t,n){return this.Sn.add(n),U.resolve()}getCollectionParents(t,n){return U.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return U.resolve()}deleteFieldIndex(t,n){return U.resolve()}deleteAllFieldIndexes(t){return U.resolve()}createTargetIndexes(t,n){return U.resolve()}getDocumentsMatchingTarget(t,n){return U.resolve(null)}getIndexType(t,n){return U.resolve(0)}getFieldIndexes(t,n){return U.resolve([])}getNextCollectionGroupToUpdate(t){return U.resolve(null)}getMinOffset(t,n){return U.resolve(Mi.min())}getMinOffsetFromCollectionGroup(t,n){return U.resolve(Mi.min())}updateCollectionGroup(t,n,i){return U.resolve()}updateIndexEntries(t,n){return U.resolve()}}class n4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new Xt(wt.comparator),r=!a.has(i);return this.index[n]=a.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Xt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eT=41943040;class Se{static withCacheSize(t){return new Se(t,Se.DEFAULT_COLLECTION_PERCENTILE,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Se.DEFAULT_COLLECTION_PERCENTILE=10,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Se.DEFAULT=new Se(eT,Se.DEFAULT_COLLECTION_PERCENTILE,Se.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Se.DISABLED=new Se(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Sr(0)}static ar(){return new Sr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="LruGarbageCollector",i4=1048576;function iv([e,t],[n,i]){const a=rt(e,n);return a===0?rt(t,i):a}class a4{constructor(t){this.Pr=t,this.buffer=new Xt(iv),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();iv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){q(nv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ur(n)?q(nv,"Ignoring IndexedDB error during garbage collection: ",n):await zr(n)}await this.Ar(3e5)})}}class s4{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return U.resolve(Fu.ce);const i=new a4(n);return this.Vr.forEachTarget(t,a=>i.Er(a.sequenceNumber)).next(()=>this.Vr.mr(t,a=>i.Er(a))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(ev)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,a,r,s,o,u,c;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,s=Date.now(),this.nthSequenceNumber(t,a))).next(g=>(i=g,o=Date.now(),this.removeTargets(t,i,n))).next(g=>(r=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(c=Date.now(),La()<=ct.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${r} targets in `+(u-o)+`ms
	Removed ${g} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:r,documentsRemoved:g})))}}function l4(e,t){return new s4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.changes=new Aa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,de.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(i!==null&&Us(i.mutation,a,Me.empty(),Rt.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,st()).next(()=>i))}getLocalViewOfDocuments(t,n,i=st()){const a=na();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,i).next(r=>{let s=ps();return r.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const i=na();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,st()))}populateOverlays(t,n,i){const a=[];return i.forEach(r=>{n.has(r)||a.push(r)}),this.documentOverlayCache.getOverlays(t,a).next(r=>{r.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,i,a){let r=Yn();const s=zs(),o=function(){return zs()}();return n.forEach((u,c)=>{const f=i.get(c.key);a.has(c.key)&&(f===void 0||f.mutation instanceof Hi)?r=r.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),Us(f.mutation,c,f.mutation.getFieldMask(),Rt.now())):s.set(c.key,Me.empty())}),this.recalculateAndSaveOverlays(t,r).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>o.set(c,new u4(f,s.get(c)??null))),o))}recalculateAndSaveOverlays(t,n){const i=zs();let a=new Vt((s,o)=>s-o),r=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Me.empty();f=o.applyToLocalView(c,f),i.set(u,f);const g=(a.get(o.batchId)||st()).add(u);a=a.insert(o.batchId,g)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,f=u.value,g=z1();f.forEach(m=>{if(!r.has(m)){const p=H1(n.get(m),i.get(m));p!==null&&g.set(m,p),r=r.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,g))}return U.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,a){return hC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next(r=>{const s=a-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-r.size):U.resolve(na());let o=el,u=r;return s.next(c=>U.forEach(c,(f,g)=>(o<g.largestBatchId&&(o=g.largestBatchId),r.get(f)?U.resolve():this.remoteDocumentCache.getEntry(t,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,u,c,st())).next(f=>({batchId:o,changes:L1(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new F(n)).next(i=>{let a=ps();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const r=n.collectionGroup;let s=ps();return this.indexManager.getCollectionParents(t,r).next(o=>U.forEach(o,u=>{const c=function(g,m){return new Ku(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,i,a).next(f=>{f.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i,a){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,r,a))).next(s=>{r.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,de.newInvalidDocument(f)))});let o=ps();return s.forEach((u,c)=>{const f=r.get(u);f!==void 0&&Us(f.mutation,c,Me.empty(),Rt.now()),Zu(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return U.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:pn(a.createTime)}}(n)),U.resolve()}getNamedQuery(t,n){return U.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(a){return{name:a.name,query:t4(a.bundledQuery),readTime:pn(a.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.overlays=new Vt(F.comparator),this.Lr=new Map}getOverlay(t,n){return U.resolve(this.overlays.get(n))}getOverlays(t,n){const i=na();return U.forEach(n,a=>this.getOverlay(t,a).next(r=>{r!==null&&i.set(a,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((a,r)=>{this.bt(t,n,r)}),U.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(i)),U.resolve()}getOverlaysForCollection(t,n,i){const a=na(),r=n.length+1,s=new F(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&u.largestBatchId>i&&a.set(u.getKey(),u)}return U.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let r=new Vt((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=r.get(c.largestBatchId);f===null&&(f=na(),r=r.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const o=na(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>o.set(c,f)),!(o.size()>=a)););return U.resolve(o)}bt(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const s=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new NC(n,i));let r=this.Lr.get(n);r===void 0&&(r=st(),this.Lr.set(n,r)),this.Lr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.sessionToken=ue.EMPTY_BYTE_STRING}getSessionToken(t){return U.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.kr=new Xt(Jt.Kr),this.qr=new Xt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new Jt(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new Jt(t,n))}Qr(t,n){t.forEach(i=>this.removeReference(i,n))}Gr(t){const n=new F(new wt([])),i=new Jt(n,t),a=new Jt(n,t+1),r=[];return this.qr.forEachInRange([i,a],s=>{this.Wr(s),r.push(s.key)}),r}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new F(new wt([])),i=new Jt(n,t),a=new Jt(n,t+1);let r=st();return this.qr.forEachInRange([i,a],s=>{r=r.add(s.key)}),r}containsKey(t){const n=new Jt(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Jt{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return F.comparator(t.key,n.key)||rt(t.Hr,n.Hr)}static Ur(t,n){return rt(t.Hr,n.Hr)||F.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(Jt.Kr)}checkEmpty(t){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new DC(r,n,i,a);this.mutationQueue.push(s);for(const o of a)this.Jr=this.Jr.add(new Jt(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return U.resolve(s)}lookupMutationBatch(t,n){return U.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.Xr(i),r=a<0?0:a;return U.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?cm:this.Yn-1)}getAllMutationBatches(t){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Jt(n,0),a=new Jt(n,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([i,a],s=>{const o=this.Zr(s.Hr);r.push(o)}),U.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Xt(rt);return n.forEach(a=>{const r=new Jt(a,0),s=new Jt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,s],o=>{i=i.add(o.Hr)})}),U.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let r=i;F.isDocumentKey(r)||(r=r.child(""));const s=new Jt(new F(r),0);let o=new Xt(rt);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===a&&(o=o.add(u.Hr)),!0)},s),U.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(i=>{const a=this.Zr(i);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){dt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return U.forEach(n.mutations,a=>{const r=new Jt(a.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Jr=i})}nr(t){}containsKey(t,n){const i=new Jt(n,0),a=this.Jr.firstAfterOrEqual(i);return U.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,U.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t){this.ti=t,this.docs=function(){return new Vt(F.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),r=a?a.size:0,s=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():de.newInvalidDocument(n))}getEntries(t,n){let i=Yn();return n.forEach(a=>{const r=this.docs.get(a);i=i.insert(a,r?r.document.mutableCopy():de.newInvalidDocument(a))}),U.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let r=Yn();const s=n.path,o=new F(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Px(Bx(f),i)<=0||(a.has(f.key)||Zu(n,f))&&(r=r.insert(f.key,f.mutableCopy()))}return U.resolve(r)}getAllFromCollectionGroup(t,n,i,a){Y(9500)}ni(t,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new p4(this)}getSize(t){return U.resolve(this.size)}}class p4 extends o4{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)}),U.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t){this.persistence=t,this.ri=new Aa(n=>dm(n),mm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ii=0,this.si=new Em,this.targetCount=0,this.oi=Sr._r()}forEachTarget(t,n){return this.ri.forEach((i,a)=>n(a)),U.resolve()}getLastRemoteSnapshotVersion(t){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return U.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),U.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Sr(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,U.resolve()}updateTargetData(t,n){return this.lr(n),U.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(t,n,i){let a=0;const r=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.ri.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),U.waitFor(r).next(()=>a)}getTargetCount(t){return U.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return U.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),U.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,r=[];return a&&n.forEach(s=>{r.push(a.markPotentiallyOrphaned(t,s))}),U.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),U.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return U.resolve(i)}containsKey(t,n){return U.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,n){this._i={},this.overlays={},this.ai=new Fu(0),this.ui=!1,this.ui=!0,this.ci=new d4,this.referenceDelegate=t(this),this.li=new y4(this),this.indexManager=new e4,this.remoteDocumentCache=function(a){return new g4(a)}(i=>this.referenceDelegate.hi(i)),this.serializer=new WC(n),this.Pi=new h4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new f4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new m4(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const a=new v4(this.ai.next());return this.referenceDelegate.Ti(),i(a).next(r=>this.referenceDelegate.Ii(a).next(()=>r)).toPromise().then(r=>(a.raiseOnCommittedEvent(),r))}Ei(t,n){return U.or(Object.values(this._i).map(i=>()=>i.containsKey(t,n)))}}class v4 extends qx{constructor(t){super(),this.currentSequenceNumber=t}}class Tm{constructor(t){this.persistence=t,this.Ri=new Em,this.Ai=null}static Vi(t){return new Tm(t)}get di(){if(this.Ai)return this.Ai;throw Y(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),U.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),U.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),U.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(r=>this.di.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,i=>{const a=F.fromPath(i);return this.mi(t,a).next(r=>{r||n.removeEntry(a,J.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Eu{constructor(t,n){this.persistence=t,this.fi=new Aa(i=>Qx(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=l4(this,n)}static Vi(t,n){return new Eu(t,n)}Ti(){}Ii(t){return U.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(a=>i+a))}pr(t){let n=0;return this.mr(t,i=>{n++}).next(()=>n)}mr(t,n){return U.forEach(this.fi,(i,a)=>this.wr(t,i,a).next(r=>r?U.resolve():n(a)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),r=a.newChangeBuffer();return a.ni(t,s=>this.wr(t,s,n).next(o=>{o||(i++,r.removeEntry(s,J.min()))})).next(()=>r.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),U.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),U.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),U.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),U.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xo(t.data.value)),n}wr(t,n,i){return U.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.fi.get(n);return U.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=a}static Es(t,n){let i=st(),a=st();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:a=a.add(r.doc.key)}return new bm(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return lR()?8:Gx(rR())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,a){const r={result:null};return this.gs(t,n).next(s=>{r.result=s}).next(()=>{if(!r.result)return this.ps(t,n,a,i).next(s=>{r.result=s})}).next(()=>{if(r.result)return;const s=new _4;return this.ys(t,n,s).next(o=>{if(r.result=o,this.As)return this.ws(t,n,s,o.size)})}).next(()=>r.result)}ws(t,n,i,a){return i.documentReadCount<this.Vs?(La()<=ct.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(La()<=ct.DEBUG&&q("QueryEngine","Query:",za(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(La()<=ct.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gn(n))):U.resolve())}gs(t,n){if(Fy(n))return U.resolve(null);let i=gn(n);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=kf(n,null,"F"),i=gn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const s=st(...r);return this.fs.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const c=this.bs(n,o);return this.Ss(n,c,s,u.readTime)?this.gs(t,kf(n,null,"F")):this.Ds(t,c,n,u)}))})))}ps(t,n,i,a){return Fy(n)||a.isEqual(J.min())?U.resolve(null):this.fs.getDocuments(t,i).next(r=>{const s=this.bs(n,r);return this.Ss(n,s,i,a)?U.resolve(null):(La()<=ct.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),za(n)),this.Ds(t,s,n,kx(a,el)).next(o=>o))})}bs(t,n){let i=new Xt(M1(t));return n.forEach((a,r)=>{Zu(t,r)&&(i=i.add(r))}),i}Ss(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(a)>0)}ys(t,n,i){return La()<=ct.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",za(n)),this.fs.getDocumentsMatchingQuery(t,n,Mi.min(),i)}Ds(t,n,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next(r=>(n.forEach(s=>{r=r.insert(s.key,s)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="LocalStore",T4=3e8;class b4{constructor(t,n,i,a){this.persistence=t,this.Cs=n,this.serializer=a,this.vs=new Vt(rt),this.Fs=new Aa(r=>dm(r),mm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new c4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function S4(e,t,n,i){return new b4(e,t,n,i)}async function iT(e,t){const n=W(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(r=>(a=r,n.Os(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const s=[],o=[];let u=st();for(const c of a){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of r){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function A4(e,t){const n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),r=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,u,c,f){const g=c.batch,m=g.keys();let p=U.resolve();return m.forEach(x=>{p=p.next(()=>f.getEntry(u,x)).next(D=>{const I=c.docVersions.get(x);dt(I!==null,48541),D.version.compareTo(I)<0&&(g.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),f.addEntry(D)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(u,g))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=st();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,a))})}function aT(e){const t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function w4(e,t){const n=W(e),i=t.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const o=[];t.targetChanges.forEach((f,g)=>{const m=a.get(g);if(!m)return;o.push(n.li.removeMatchingKeys(r,f.removedDocuments,g).next(()=>n.li.addMatchingKeys(r,f.addedDocuments,g)));let p=m.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(g)!==null?p=p.withResumeToken(ue.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,i)),a=a.insert(g,p),function(D,I,T){return D.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=T4?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,p,f)&&o.push(n.li.updateTargetData(r,p))});let u=Yn(),c=st();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(r,f))}),o.push(R4(r,s,t.documentUpdates).next(f=>{u=f.Bs,c=f.Ls})),!i.isEqual(J.min())){const f=n.li.getLastRemoteSnapshotVersion(r).next(g=>n.li.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(f)}return U.waitFor(o).next(()=>s.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,c)).next(()=>u)}).then(r=>(n.vs=a,r))}function R4(e,t,n){let i=st(),a=st();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let s=Yn();return n.forEach((o,u)=>{const c=r.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(J.min())?(t.removeEntry(o,u.readTime),s=s.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),s=s.insert(o,u)):q(Sm,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{Bs:s,Ls:a}})}function x4(e,t){const n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=cm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function C4(e,t){const n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.li.getTargetData(i,t).next(r=>r?(a=r,U.resolve(a)):n.li.allocateTargetId(i).next(s=>(a=new mi(t,s,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i})}async function Gf(e,t,n){const i=W(e),a=i.vs.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,s=>i.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Ur(s))throw s;q(Sm,`Failed to update sequence numbers for target ${t}: ${s}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function av(e,t,n){const i=W(e);let a=J.min(),r=st();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const g=W(u),m=g.Fs.get(f);return m!==void 0?U.resolve(g.vs.get(m)):g.li.getTargetData(c,f)}(i,s,gn(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(s,o.targetId).next(u=>{r=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(s,t,n?a:J.min(),n?r:st())).next(o=>(D4(i,mC(t),o),{documents:o,ks:r})))}function D4(e,t,n){let i=e.Ms.get(t)||J.min();n.forEach((a,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Ms.set(t,i)}class rv{constructor(){this.activeTargetIds=EC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class N4{constructor(){this.vo=new rv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new rv,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class lv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q(sv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){q(sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo=null;function Ff(){return lo===null?lo=function(){return 268435456+Math.round(2147483648*Math.random())}():lo++,"0x"+lo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="RestConnection",I4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class M4{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===du?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,n,i,a,r){const s=Ff(),o=this.Qo(t,n.toUriEncodedString());q(Sh,`Sending RPC '${t}' ${s}:`,o,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,a,r);const{host:c}=new URL(o),f=rm(c);return this.zo(t,o,u,i,f).then(g=>(q(Sh,`Received RPC '${t}' ${s}: `,g),g),g=>{throw _r(Sh,`RPC '${t}' ${s} failed with error: `,g,"url: ",o,"request:",i),g})}jo(t,n,i,a,r,s){return this.Wo(t,n,i,a,r)}Go(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,r)=>t[r]=a),i&&i.headers.forEach((a,r)=>t[r]=a)}Qo(t,n){const i=I4[t];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he="WebChannelConnection",us=(e,t,n)=>{e.listen(t,i=>{try{n(i)}catch(a){setTimeout(()=>{throw a},0)}})};class rr extends M4{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!rr.c_){const t=c1();us(t,u1.STAT_EVENT,n=>{n.stat===Mf.PROXY?q(he,"STAT_EVENT: detected buffering proxy"):n.stat===Mf.NOPROXY&&q(he,"STAT_EVENT: detected no buffering proxy")}),rr.c_=!0}}zo(t,n,i,a,r){const s=Ff();return new Promise((o,u)=>{const c=new l1;c.setWithCredentials(!0),c.listenOnce(o1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ro.NO_ERROR:const g=c.getResponseJson();q(he,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(g)),o(g);break;case Ro.TIMEOUT:q(he,`RPC '${t}' ${s} timed out`),u(new G(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ro.HTTP_ERROR:const m=c.getStatus();if(q(he,`RPC '${t}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const x=p==null?void 0:p.error;if(x&&x.status&&x.message){const D=function(T){const v=T.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(v)>=0?v:k.UNKNOWN}(x.status);u(new G(D,x.message))}else u(new G(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new G(k.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:t,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(he,`RPC '${t}' ${s} completed.`)}});const f=JSON.stringify(a);q(he,`RPC '${t}' ${s} sending request:`,a),c.send(n,"POST",f,i,15)})}T_(t,n,i){const a=Ff(),r=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,i),o.encodeInitMessageHeaders=!0;const c=r.join("");q(he,`Creating RPC '${t}' stream ${a}: ${c}`,o);const f=s.createWebChannel(c,o);this.I_(f);let g=!1,m=!1;const p=new O4({Ho:x=>{m?q(he,`Not sending because RPC '${t}' stream ${a} is closed:`,x):(g||(q(he,`Opening RPC '${t}' stream ${a} transport.`),f.open(),g=!0),q(he,`RPC '${t}' stream ${a} sending:`,x),f.send(x))},Jo:()=>f.close()});return us(f,gs.EventType.OPEN,()=>{m||(q(he,`RPC '${t}' stream ${a} transport opened.`),p.i_())}),us(f,gs.EventType.CLOSE,()=>{m||(m=!0,q(he,`RPC '${t}' stream ${a} transport closed`),p.o_(),this.E_(f))}),us(f,gs.EventType.ERROR,x=>{m||(m=!0,_r(he,`RPC '${t}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),p.o_(new G(k.UNAVAILABLE,"The operation could not be completed")))}),us(f,gs.EventType.MESSAGE,x=>{var D;if(!m){const I=x.data[0];dt(!!I,16349);const T=I,v=(T==null?void 0:T.error)||((D=T[0])==null?void 0:D.error);if(v){q(he,`RPC '${t}' stream ${a} received error:`,v);const E=v.status;let N=function(b){const _=Bt[b];if(_!==void 0)return G1(_)}(E),j=v.message;N===void 0&&(N=k.INTERNAL,j="Unknown error status: "+E+" with message "+v.message),m=!0,p.o_(new G(N,j)),f.close()}else q(he,`RPC '${t}' stream ${a} received:`,I),p.__(I)}}),rr.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return h1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(e){return new rr(e)}function Ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(e){return new kC(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr.c_=!1;class rT{constructor(t,n,i=1e3,a=1.5,r=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=a,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&q("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="PersistentStream";class sT{constructor(t,n,i,a,r,s,o,u){this.Ci=t,this.b_=i,this.S_=a,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===n&&this.G_(i,a)},i=>{t(()=>{const a=new G(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.H_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return q(ov,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(q(ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z4 extends sT{constructor(t,n,i,a,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=HC(this.serializer,t),i=function(r){if(!("targetChange"in r))return J.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?J.min():s.readTime?pn(s.readTime):J.min()}(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=qf(this.serializer),n.addTarget=function(r,s){let o;const u=s.target;if(o=jf(u)?{documents:FC(r,u)}:{query:QC(r,u).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Y1(r,s.resumeToken);const c=Bf(r,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(J.min())>0){o.readTime=_u(r,s.snapshotVersion.toTimestamp());const c=Bf(r,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const i=KC(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=qf(this.serializer),n.removeTarget=t,this.K_(n)}}class U4 extends sT{constructor(t,n,i,a,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,s),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return dt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,dt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){dt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=GC(t.writeResults,t.commitTime),i=pn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=qf(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>qC(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{}class k4 extends j4{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new G(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Wo(t,Pf(n,i),a,r,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new G(k.UNKNOWN,r.toString())})}jo(t,n,i,a,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(t,Pf(n,i),a,s,o,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(k.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function B4(e,t,n,i){return new k4(e,t,n,i)}class P4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class H4{constructor(t,n,i,a,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(s=>{i.enqueueAndForget(async()=>{wa(this)&&(q(ga,"Restarting streams for network reachability change."),await async function(u){const c=W(u);c.Ea.add(4),await Rl(c),c.Va.set("Unknown"),c.Ea.delete(4),await nc(c)}(this))})}),this.Va=new P4(i,a)}}async function nc(e){if(wa(e))for(const t of e.Ra)await t(!0)}async function Rl(e){for(const t of e.Ra)await t(!1)}function lT(e,t){const n=W(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),xm(n)?Rm(n):jr(n).O_()&&wm(n,t))}function Am(e,t){const n=W(e),i=jr(n);n.Ia.delete(t),i.O_()&&oT(n,t),n.Ia.size===0&&(i.O_()?i.L_():wa(n)&&n.Va.set("Unknown"))}function wm(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jr(e).Z_(t)}function oT(e,t){e.da.$e(t),jr(e).X_(t)}function Rm(e){e.da=new LC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),jr(e).start(),e.Va.ua()}function xm(e){return wa(e)&&!jr(e).x_()&&e.Ia.size>0}function wa(e){return W(e).Ea.size===0}function uT(e){e.da=void 0}async function q4(e){e.Va.set("Online")}async function G4(e){e.Ia.forEach((t,n)=>{wm(e,t)})}async function F4(e,t){uT(e),xm(e)?(e.Va.ha(t),Rm(e)):e.Va.set("Unknown")}async function Q4(e,t,n){if(e.Va.set("Online"),t instanceof Q1&&t.state===2&&t.cause)try{await async function(a,r){const s=r.cause;for(const o of r.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.da.removeTarget(o))}(e,t)}catch(i){q(ga,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Tu(e,i)}else if(t instanceof No?e.da.Xe(t):t instanceof F1?e.da.st(t):e.da.tt(t),!n.isEqual(J.min()))try{const i=await aT(e.localStore);n.compareTo(i)>=0&&await function(r,s){const o=r.da.Tt(s);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=r.Ia.get(c);f&&r.Ia.set(c,f.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,c)=>{const f=r.Ia.get(u);if(!f)return;r.Ia.set(u,f.withResumeToken(ue.EMPTY_BYTE_STRING,f.snapshotVersion)),oT(r,u);const g=new mi(f.target,u,c,f.sequenceNumber);wm(r,g)}),r.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){q(ga,"Failed to raise snapshot:",i),await Tu(e,i)}}async function Tu(e,t,n){if(!Ur(t))throw t;e.Ea.add(1),await Rl(e),e.Va.set("Offline"),n||(n=()=>aT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(ga,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await nc(e)})}function cT(e,t){return t().catch(n=>Tu(e,n,t))}async function ic(e){const t=W(e),n=Ui(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:cm;for(;Y4(t);)try{const a=await x4(t.localStore,i);if(a===null){t.Ta.length===0&&n.L_();break}i=a.batchId,K4(t,a)}catch(a){await Tu(t,a)}hT(t)&&fT(t)}function Y4(e){return wa(e)&&e.Ta.length<10}function K4(e,t){e.Ta.push(t);const n=Ui(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function hT(e){return wa(e)&&!Ui(e).x_()&&e.Ta.length>0}function fT(e){Ui(e).start()}async function X4(e){Ui(e).ra()}async function $4(e){const t=Ui(e);for(const n of e.Ta)t.ea(n.mutations)}async function Z4(e,t,n){const i=e.Ta.shift(),a=ym.from(i,t,n);await cT(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await ic(e)}async function J4(e,t){t&&Ui(e).Y_&&await async function(i,a){if(function(s){return IC(s)&&s!==k.ABORTED}(a.code)){const r=i.Ta.shift();Ui(i).B_(),await cT(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,a)),await ic(i)}}(e,t),hT(e)&&fT(e)}async function uv(e,t){const n=W(e);n.asyncQueue.verifyOperationInProgress(),q(ga,"RemoteStore received new credentials");const i=wa(n);n.Ea.add(3),await Rl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await nc(n)}async function W4(e,t){const n=W(e);t?(n.Ea.delete(2),await nc(n)):t||(n.Ea.add(2),await Rl(n),n.Va.set("Unknown"))}function jr(e){return e.ma||(e.ma=function(n,i,a){const r=W(n);return r.sa(),new z4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Zo:q4.bind(null,e),Yo:G4.bind(null,e),t_:F4.bind(null,e),J_:Q4.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),xm(e)?Rm(e):e.Va.set("Unknown")):(await e.ma.stop(),uT(e))})),e.ma}function Ui(e){return e.fa||(e.fa=function(n,i,a){const r=W(n);return r.sa(),new U4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,a)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:X4.bind(null,e),t_:J4.bind(null,e),ta:$4.bind(null,e),na:Z4.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await ic(e)):(await e.fa.stop(),e.Ta.length>0&&(q(ga,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,n,i,a,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=r,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,r){const s=Date.now()+i,o=new Cm(t,n,s,a,r);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(e,t){if(Qn("AsyncQueue",`${t}: ${e}`),Ur(e))return new G(k.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{static emptySet(t){return new sr(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||F.comparator(n.key,i.key):(n,i)=>F.comparator(n.key,i.key),this.keyedMap=ps(),this.sortedSet=new Vt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof sr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,r=i.getNext().key;if(!a.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new sr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.ga=new Vt(F.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Y(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ar{constructor(t,n,i,a,r,s,o,u,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,a,r){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ar(t,n,sr.emptySet(n),s,i,a,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$u(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class eD{constructor(){this.queries=hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=W(n),r=a.queries;a.queries=hv(),r.forEach((s,o)=>{for(const u of o.ba)u.onError(i)})})(this,new G(k.ABORTED,"Firestore shutting down"))}}function hv(){return new Aa(e=>I1(e),$u)}async function dT(e,t){const n=W(e);let i=3;const a=t.query;let r=n.queries.get(a);r?!r.Sa()&&t.Da()&&(i=2):(r=new tD,i=t.Da()?0:1);try{switch(i){case 0:r.wa=await n.onListen(a,!0);break;case 1:r.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const o=Dm(s,`Initialization of query '${za(t.query)}' failed`);return void t.onError(o)}n.queries.set(a,r),r.ba.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&Nm(n)}async function mT(e,t){const n=W(e),i=t.query;let a=3;const r=n.queries.get(i);if(r){const s=r.ba.indexOf(t);s>=0&&(r.ba.splice(s,1),r.ba.length===0?a=t.Da()?0:1:!r.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function nD(e,t){const n=W(e);let i=!1;for(const a of t){const r=a.query,s=n.queries.get(r);if(s){for(const o of s.ba)o.Fa(a)&&(i=!0);s.wa=a}}i&&Nm(n)}function iD(e,t,n){const i=W(e),a=i.queries.get(t);if(a)for(const r of a.ba)r.onError(n);i.queries.delete(t)}function Nm(e){e.Ca.forEach(t=>{t.next()})}var Qf,fv;(fv=Qf||(Qf={})).Ma="default",fv.Cache="cache";class gT{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Ar(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Ar.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t){this.key=t}}class yT{constructor(t){this.key=t}}class aD{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=st(),this.mutatedKeys=st(),this.eu=M1(t),this.tu=new sr(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new cv,a=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,s=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((f,g)=>{const m=a.get(f),p=Zu(this.query,g)?g:null,x=!!m&&this.mutatedKeys.has(m.key),D=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let I=!1;m&&p?m.data.isEqual(p.data)?x!==D&&(i.track({type:3,doc:p}),I=!0):this.su(m,p)||(i.track({type:2,doc:p}),I=!0,(u&&this.eu(p,u)>0||c&&this.eu(p,c)<0)&&(o=!0)):!m&&p?(i.track({type:0,doc:p}),I=!0):m&&!p&&(i.track({type:1,doc:m}),I=!0,(u||c)&&(o=!0)),I&&(p?(s=s.add(p),r=D?r.add(f):r.delete(f)):(s=s.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),r=r.delete(f.key),i.track({type:1,doc:f})}return{tu:s,iu:i,Ss:o,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((f,g)=>function(p,x){const D=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:I})}};return D(p)-D(x)}(f.type,g.type)||this.eu(f.doc,g.doc)),this.ou(i),a=a??!1;const o=n&&!a?this._u():[],u=this.Ya.size===0&&this.current&&!a?1:0,c=u!==this.Xa;return this.Xa=u,s.length!==0||c?{snapshot:new Ar(this.query,t.tu,r,s,t.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=st(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new yT(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new pT(i))}),n}cu(t){this.Za=t.ks,this.Ya=st();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Ar.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Vm="SyncEngine";class rD{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class sD{constructor(t){this.key=t,this.hu=!1}}class lD{constructor(t,n,i,a,r,s){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Aa(o=>I1(o),$u),this.Iu=new Map,this.Eu=new Set,this.Ru=new Vt(F.comparator),this.Au=new Map,this.Vu=new Em,this.du={},this.mu=new Map,this.fu=Sr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oD(e,t,n=!0){const i=ST(e);let a;const r=i.Tu.get(t);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),a=r.view.lu()):a=await vT(i,t,n,!0),a}async function uD(e,t){const n=ST(e);await vT(n,t,!0,!1)}async function vT(e,t,n,i){const a=await C4(e.localStore,gn(t)),r=a.targetId,s=e.sharedClientState.addLocalQueryTarget(r,n);let o;return i&&(o=await cD(e,t,r,s==="current",a.resumeToken)),e.isPrimaryClient&&n&&lT(e.remoteStore,a),o}async function cD(e,t,n,i,a){e.pu=(g,m,p)=>async function(D,I,T,v){let E=I.view.ru(T);E.Ss&&(E=await av(D.localStore,I.query,!1).then(({documents:b})=>I.view.ru(b,E)));const N=v&&v.targetChanges.get(I.targetId),j=v&&v.targetMismatches.get(I.targetId)!=null,H=I.view.applyChanges(E,D.isPrimaryClient,N,j);return mv(D,I.targetId,H.au),H.snapshot}(e,g,m,p);const r=await av(e.localStore,t,!0),s=new aD(t,r.ks),o=s.ru(r.documents),u=wl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,u);mv(e,n,c.au);const f=new rD(t,n,s);return e.Tu.set(t,f),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function hD(e,t,n){const i=W(e),a=i.Tu.get(t),r=i.Iu.get(a.targetId);if(r.length>1)return i.Iu.set(a.targetId,r.filter(s=>!$u(s,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Gf(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Am(i.remoteStore,a.targetId),Yf(i,a.targetId)}).catch(zr)):(Yf(i,a.targetId),await Gf(i.localStore,a.targetId,!0))}async function fD(e,t){const n=W(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Am(n.remoteStore,i.targetId))}async function dD(e,t,n){const i=ED(e);try{const a=await function(s,o){const u=W(s),c=Rt.now(),f=o.reduce((p,x)=>p.add(x.key),st());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let x=Yn(),D=st();return u.xs.getEntries(p,f).next(I=>{x=I,x.forEach((T,v)=>{v.isValidDocument()||(D=D.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,x)).next(I=>{g=I;const T=[];for(const v of o){const E=xC(v,g.get(v.key).overlayedDocument);E!=null&&T.push(new Hi(v.key,E,w1(E.value.mapValue),an.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,T,o)}).next(I=>{m=I;const T=I.applyToLocalDocumentSet(g,D);return u.documentOverlayCache.saveOverlays(p,I.batchId,T)})}).then(()=>({batchId:m.batchId,changes:L1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(s,o,u){let c=s.du[s.currentUser.toKey()];c||(c=new Vt(rt)),c=c.insert(o,u),s.du[s.currentUser.toKey()]=c}(i,a.batchId,n),await xl(i,a.changes),await ic(i.remoteStore)}catch(a){const r=Dm(a,"Failed to persist write");n.reject(r)}}async function _T(e,t){const n=W(e);try{const i=await w4(n.localStore,t);t.targetChanges.forEach((a,r)=>{const s=n.Au.get(r);s&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?dt(s.hu,14607):a.removedDocuments.size>0&&(dt(s.hu,42227),s.hu=!1))}),await xl(n,i,t)}catch(i){await zr(i)}}function dv(e,t,n){const i=W(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach((r,s)=>{const o=s.view.va(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const u=W(s);u.onlineState=o;let c=!1;u.queries.forEach((f,g)=>{for(const m of g.ba)m.va(o)&&(c=!0)}),c&&Nm(u)}(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function mD(e,t,n){const i=W(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Au.get(t),r=a&&a.key;if(r){let s=new Vt(F.comparator);s=s.insert(r,de.newNoDocument(r,J.min()));const o=st().add(r),u=new tc(J.min(),new Map,new Vt(rt),s,o);await _T(i,u),i.Ru=i.Ru.remove(r),i.Au.delete(t),Im(i)}else await Gf(i.localStore,t,!1).then(()=>Yf(i,t,n)).catch(zr)}async function gD(e,t){const n=W(e),i=t.batch.batchId;try{const a=await A4(n.localStore,t);TT(n,i,null),ET(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xl(n,a)}catch(a){await zr(a)}}async function pD(e,t,n){const i=W(e);try{const a=await function(s,o){const u=W(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,o).next(g=>(dt(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(c,g))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,t);TT(i,t,n),ET(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await xl(i,a)}catch(a){await zr(a)}}function ET(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function TT(e,t,n){const i=W(e);let a=i.du[i.currentUser.toKey()];if(a){const r=a.get(t);r&&(n?r.reject(n):r.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function Yf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(i=>{e.Vu.containsKey(i)||bT(e,i)})}function bT(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(Am(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Im(e))}function mv(e,t,n){for(const i of n)i instanceof pT?(e.Vu.addReference(i.key,t),yD(e,i)):i instanceof yT?(q(Vm,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||bT(e,i.key)):Y(19791,{wu:i})}function yD(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(q(Vm,"New document in limbo: "+n),e.Eu.add(i),Im(e))}function Im(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new F(wt.fromString(t)),i=e.fu.next();e.Au.set(i,new sD(n)),e.Ru=e.Ru.insert(n,i),lT(e.remoteStore,new mi(gn(Xu(n.path)),i,"TargetPurposeLimboResolution",Fu.ce))}}async function xl(e,t,n){const i=W(e),a=[],r=[],s=[];i.Tu.isEmpty()||(i.Tu.forEach((o,u)=>{s.push(i.pu(u,t,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const g=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(c){a.push(c);const g=bm.Es(u.targetId,c);r.push(g)}}))}),await Promise.all(s),i.Pu.J_(a),await async function(u,c){const f=W(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>U.forEach(c,m=>U.forEach(m.Ts,p=>f.persistence.referenceDelegate.addReference(g,m.targetId,p)).next(()=>U.forEach(m.Is,p=>f.persistence.referenceDelegate.removeReference(g,m.targetId,p)))))}catch(g){if(!Ur(g))throw g;q(Sm,"Failed to update sequence numbers: "+g)}for(const g of c){const m=g.targetId;if(!g.fromCache){const p=f.vs.get(m),x=p.snapshotVersion,D=p.withLastLimboFreeSnapshotVersion(x);f.vs=f.vs.insert(m,D)}}}(i.localStore,r))}async function vD(e,t){const n=W(e);if(!n.currentUser.isEqual(t)){q(Vm,"User change. New user:",t.toKey());const i=await iT(n.localStore,t);n.currentUser=t,function(r,s){r.mu.forEach(o=>{o.forEach(u=>{u.reject(new G(k.CANCELLED,s))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await xl(n,i.Ns)}}function _D(e,t){const n=W(e),i=n.Au.get(t);if(i&&i.hu)return st().add(i.key);{let a=st();const r=n.Iu.get(t);if(!r)return a;for(const s of r){const o=n.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function ST(e){const t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_D.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mD.bind(null,t),t.Pu.J_=nD.bind(null,t.eventManager),t.Pu.yu=iD.bind(null,t.eventManager),t}function ED(e){const t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pD.bind(null,t),t}class bu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ec(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return S4(this.persistence,new E4,t.initialUser,this.serializer)}Cu(t){return new nT(Tm.Vi,this.serializer)}Du(t){return new N4}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bu.provider={build:()=>new bu};class TD extends bu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){dt(this.persistence.referenceDelegate instanceof Eu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new r4(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Se.withCacheSize(this.cacheSizeBytes):Se.DEFAULT;return new nT(i=>Eu.Vi(i,n),this.serializer)}}class Kf{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vD.bind(null,this.syncEngine),await W4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new eD}()}createDatastore(t){const n=ec(t.databaseInfo.databaseId),i=L4(t.databaseInfo);return B4(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,a,r,s,o){return new H4(i,a,r,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>dv(this.syncEngine,n,0),function(){return lv.v()?new lv:new V4}())}createSyncEngine(t,n){return function(a,r,s,o,u,c,f){const g=new lD(a,r,s,o,u,c);return f&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const r=W(a);q(ga,"RemoteStore shutting down."),r.Ea.add(5),await Rl(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class bD{constructor(t,n,i,a,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=fe.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async s=>{q(ji,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(q(ji,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Dm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function wh(e,t){e.asyncQueue.verifyOperationInProgress(),q(ji,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async a=>{i.isEqual(a)||(await iT(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function gv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await SD(e);q(ji,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>uv(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,a)=>uv(t.remoteStore,a)),e._onlineComponents=t}async function SD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(ji,"Using user provided OfflineComponentProvider");try{await wh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===k.FAILED_PRECONDITION||a.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;_r("Error using user provided cache. Falling back to memory cache: "+n),await wh(e,new bu)}}else q(ji,"Using default OfflineComponentProvider"),await wh(e,new TD(void 0));return e._offlineComponents}async function wT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(ji,"Using user provided OnlineComponentProvider"),await gv(e,e._uninitializedComponentsProvider._online)):(q(ji,"Using default OnlineComponentProvider"),await gv(e,new Kf))),e._onlineComponents}function AD(e){return wT(e).then(t=>t.syncEngine)}async function Xf(e){const t=await wT(e),n=t.eventManager;return n.onListen=oD.bind(null,t.syncEngine),n.onUnlisten=hD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=uD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=fD.bind(null,t.syncEngine),n}function wD(e,t,n,i){const a=new AT(i),r=new gT(t,a,n);return e.asyncQueue.enqueueAndForget(async()=>dT(await Xf(e),r)),()=>{a.Nu(),e.asyncQueue.enqueueAndForget(async()=>mT(await Xf(e),r))}}function RD(e,t,n={}){const i=new xi;return e.asyncQueue.enqueueAndForget(async()=>function(r,s,o,u,c){const f=new AT({next:m=>{f.Nu(),s.enqueueAndForget(()=>mT(r,g));const p=m.docs.has(o);!p&&m.fromCache?c.reject(new G(k.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&u&&u.source==="server"?c.reject(new G(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new gT(Xu(o.path),f,{includeMetadataChanges:!0,Ka:!0});return dT(r,g)}(await Xf(e),e.asyncQueue,t,n,i)),i.promise}function xD(e,t){const n=new xi;return e.asyncQueue.enqueueAndForget(async()=>dD(await AD(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD="ComponentProvider",pv=new Map;function DD(e,t,n,i,a){return new Xx(e,t,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,RT(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firestore.googleapis.com",yv=!0;class vv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new G(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xT,this.ssl=yv}else this.host=t.host,this.ssl=t.ssl??yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<i4)throw new G(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ac{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new G(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Cx;switch(i.type){case"firstParty":return new Ix(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=pv.get(n);i&&(q(CD,"Removing Datastore"),pv.delete(n),i.terminate())}(this),Promise.resolve()}}function ND(e,t,n,i={}){var c;e=nn(e,ac);const a=rm(t),r=e._getSettings(),s={...r,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;a&&(tR(`https://${o}`),aR("Firestore",!0)),r.host!==xT&&r.host!==o&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...r,host:o,ssl:a,emulatorOptions:i};if(!uu(u,s)&&(e._setSettings(u),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=fe.MOCK_USER;else{f=eR(i.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new G(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new fe(m)}e._authCredentials=new Dx(new d1(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new rc(this.firestore,t,this._query)}}class jt{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new jt(this.firestore,t,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Sl(n,jt._jsonSchema))return new jt(t,i||null,new F(wt.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Ft("string",jt._jsonSchemaVersion),referencePath:Ft("string")};class Ci extends rc{constructor(t,n,i){super(t,n,Xu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new jt(this.firestore,null,new F(t))}withConverter(t){return new Ci(this.firestore,t,this._path)}}function _v(e,t,...n){if(e=Gn(e),m1("collection","path",t),e instanceof ac){const i=wt.fromString(t,...n);return Iy(i),new Ci(e,null,i)}{if(!(e instanceof jt||e instanceof Ci))throw new G(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(wt.fromString(t,...n));return Iy(i),new Ci(e.firestore,null,i)}}function Cn(e,t,...n){if(e=Gn(e),arguments.length===1&&(t=om.newId()),m1("doc","path",t),e instanceof ac){const i=wt.fromString(t,...n);return Vy(i),new jt(e,null,new F(i))}{if(!(e instanceof jt||e instanceof Ci))throw new G(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(wt.fromString(t,...n));return Vy(i),new jt(e.firestore,e instanceof Ci?e.converter:null,new F(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="AsyncQueue";class Tv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const i=Ah();i&&q(Ev,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Ah();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new xi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ur(t))throw t;q(Ev,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Qn("INTERNAL UNHANDLED ERROR: ",bv(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=Cm.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(a),a}uc(){this.nc&&Y(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function bv(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class pa extends ac{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new Tv,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tv(t),this._firestoreClient=void 0,await t}}}function VD(e,t){const n=typeof e=="object"?e:mx(),i=typeof e=="string"?e:du,a=ux(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const r=Jw("firestore");r&&ND(a,...r)}return a}function Mm(e){if(e._terminated)throw new G(k.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ID(e),e._firestoreClient}function ID(e){var i,a,r,s;const t=e._freezeSettings(),n=DD(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,(a=e._app)==null?void 0:a.options.apiKey,t);e._componentsProvider||(r=t.localCache)!=null&&r._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new bD(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ke(ue.fromBase64String(t))}catch(n){throw new G(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ke(ue.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ke._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sl(t,Ke._jsonSchema))return Ke.fromBase64String(t.bytes)}}Ke._jsonSchemaVersion="firestore/bytes/1.0",Ke._jsonSchema={type:Ft("string",Ke._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return rt(this._lat,t._lat)||rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yn._jsonSchemaVersion}}static fromJSON(t){if(Sl(t,yn._jsonSchema))return new yn(t.latitude,t.longitude)}}yn._jsonSchemaVersion="firestore/geoPoint/1.0",yn._jsonSchema={type:Ft("string",yn._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==a[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:rn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sl(t,rn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new rn(t.vectorValues);throw new G(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rn._jsonSchemaVersion="firestore/vectorValue/1.0",rn._jsonSchema={type:Ft("string",rn._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=/^__.*__$/;class OD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Hi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Al(t,this.data,n,this.fieldTransforms)}}class CT{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Hi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function DT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{dataSource:e})}}class zm{constructor(t,n,i,a,r,s){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var a;const n=(a=this.path)==null?void 0:a.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var a;const n=(a=this.path)==null?void 0:a.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Su(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(DT(this.dataSource)&&MD.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class LD{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||ec(t)}createContext(t,n,i,a=!1){return new zm({dataSource:t,methodName:n,targetDoc:i,path:se.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NT(e){const t=e._freezeSettings(),n=ec(e._databaseId);return new LD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zD(e,t,n,i,a,r={}){const s=e.createContext(r.merge||r.mergeFields?2:0,t,n,a);Um("Data must be an object, but it was:",s,i);const o=VT(i,s);let u,c;if(r.merge)u=new Me(s.fieldMask),c=s.fieldTransforms;else if(r.mergeFields){const f=[];for(const g of r.mergeFields){const m=ll(t,g,n);if(!s.contains(m))throw new G(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);OT(f,m)||f.push(m)}u=new Me(f),c=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=s.fieldTransforms;return new OD(new Ae(o),u,c)}class sc extends Lm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sc}}function UD(e,t,n,i){const a=e.createContext(1,t,n);Um("Data must be an object, but it was:",a,i);const r=[],s=Ae.empty();Pi(i,(u,c)=>{const f=MT(t,u,n);c=Gn(c);const g=a.childContextForFieldPath(f);if(c instanceof sc)r.push(f);else{const m=lc(c,g);m!=null&&(r.push(f),s.set(f,m))}});const o=new Me(r);return new CT(s,o,a.fieldTransforms)}function jD(e,t,n,i,a,r){const s=e.createContext(1,t,n),o=[ll(t,i,n)],u=[a];if(r.length%2!=0)throw new G(k.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<r.length;m+=2)o.push(ll(t,r[m])),u.push(r[m+1]);const c=[],f=Ae.empty();for(let m=o.length-1;m>=0;--m)if(!OT(c,o[m])){const p=o[m];let x=u[m];x=Gn(x);const D=s.childContextForFieldPath(p);if(x instanceof sc)c.push(p);else{const I=lc(x,D);I!=null&&(c.push(p),f.set(p,I))}}const g=new Me(c);return new CT(f,g,s.fieldTransforms)}function lc(e,t){if(IT(e=Gn(e)))return Um("Unsupported field value:",t,e),VT(e,t);if(e instanceof Lm)return function(i,a){if(!DT(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(a);r&&a.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(i,a){const r=[];let s=0;for(const o of i){let u=lc(o,a.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),s++}return{arrayValue:{values:r}}}(e,t)}return function(i,a){if((i=Gn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TC(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Rt.fromDate(i);return{timestampValue:_u(a.serializer,r)}}if(i instanceof Rt){const r=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_u(a.serializer,r)}}if(i instanceof yn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ke)return{bytesValue:Y1(a.serializer,i._byteString)};if(i instanceof jt){const r=a.databaseId,s=i.firestore._databaseId;if(!s.isEqual(r))throw a.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:_m(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof rn)return function(s,o){const u=s instanceof rn?s.toArray():s;return{mapValue:{fields:{[S1]:{stringValue:A1},[mu]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw o.createError("VectorValues must only contain numeric values.");return gm(o.serializer,f)})}}}}}}(i,a);if(tT(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${um(i)}`)}(e,t)}function VT(e,t){const n={};return y1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pi(e,(i,a)=>{const r=lc(a,t.childContextForField(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function IT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Rt||e instanceof yn||e instanceof Ke||e instanceof jt||e instanceof Lm||e instanceof rn||tT(e))}function Um(e,t,n){if(!IT(n)||!g1(n)){const i=um(n);throw i==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function ll(e,t,n){if((t=Gn(t))instanceof Om)return t._internalPath;if(typeof t=="string")return MT(e,t);throw Su("Field path arguments must be of type string or ",e,!1,void 0,n)}const kD=new RegExp("[~\\*/\\[\\]]");function MT(e,t,n){if(t.search(kD)>=0)throw Su(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Om(...t.split("."))._internalPath}catch{throw Su(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Su(e,t,n,i,a){const r=i&&!i.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(r||s)&&(u+=" (found",r&&(u+=` in field ${i}`),s&&(u+=` in document ${a}`),u+=")"),new G(k.INVALID_ARGUMENT,o+e+u)}function OT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{convertValue(t,n="none"){switch(zi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Li(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Y(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Pi(t,(a,r)=>{i[a]=this.convertValue(r,n)}),i}convertVectorValue(t){var i,a,r;const n=(r=(a=(i=t.fields)==null?void 0:i[mu].arrayValue)==null?void 0:a.values)==null?void 0:r.map(s=>zt(s.doubleValue));return new rn(n)}convertGeoPoint(t){return new yn(zt(t.latitude),zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Yu(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(nl(t));default:return null}}convertTimestamp(t){const n=Oi(t);return new Rt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=wt.fromString(t);dt(W1(i),9688,{name:t});const a=new il(i.get(1),i.get(3)),r=new F(i.popFirst(5));return a.isEqual(n)||Qn(`Document ${r} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends BD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ke(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new jt(this.firestore,null,n)}}const Sv="@firebase/firestore",Av="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const r of i)if(r in a&&typeof a[r]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,n,i,a,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(ll("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PD extends zT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function qD(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class vs{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oa extends zT{constructor(t,n,i,a,r,s){super(t,n,i,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Vo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(ll("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=oa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Ft("string",oa._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Vo extends oa{data(t={}){return super.data(t)}}class lr{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new vs(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Vo(this._firestore,this._userDataWriter,i.key,i,new vs(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,r){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const u=new Vo(a._firestore,a._userDataWriter,o.doc.key,o.doc,new vs(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const u=new Vo(a._firestore,a._userDataWriter,o.doc.key,o.doc,new vs(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,f=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),f=s.indexOf(o.doc.key)),{type:GD(o.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lr._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),a.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function GD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr._jsonSchemaVersion="firestore/querySnapshot/1.0",lr._jsonSchema={type:Ft("string",lr._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(e){e=nn(e,jt);const t=nn(e.firestore,pa),n=Mm(t);return RD(n,e._key).then(i=>UT(t,e,i))}function $f(e,t,n){e=nn(e,jt);const i=nn(e.firestore,pa),a=qD(e.converter,t),r=NT(i);return jm(i,[zD(r,"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,an.none())])}function Rh(e,t,n,...i){e=nn(e,jt);const a=nn(e.firestore,pa),r=NT(a);let s;return s=typeof(t=Gn(t))=="string"||t instanceof Om?jD(r,"updateDoc",e._key,t,n,i):UD(r,"updateDoc",e._key,t),jm(a,[s.toMutation(e._key,an.exists(!0))])}function xh(e){return jm(nn(e.firestore,pa),[new pm(e._key,an.none())])}function Rv(e,...t){var c,f,g;e=Gn(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||wv(t[i])||(n=t[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wv(t[i])){const m=t[i];t[i]=(c=m.next)==null?void 0:c.bind(m),t[i+1]=(f=m.error)==null?void 0:f.bind(m),t[i+2]=(g=m.complete)==null?void 0:g.bind(m)}let r,s,o;if(e instanceof jt)s=nn(e.firestore,pa),o=Xu(e._key.path),r={next:m=>{t[i]&&t[i](UT(s,e,m))},error:t[i+1],complete:t[i+2]};else{const m=nn(e,rc);s=nn(m.firestore,pa),o=m._query;const p=new LT(s);r={next:x=>{t[i]&&t[i](new lr(s,p,m,x))},error:t[i+1],complete:t[i+2]},HD(e._query)}const u=Mm(s);return wD(u,o,a,r)}function jm(e,t){const n=Mm(e);return xD(n,t)}function UT(e,t,n){const i=n.docs.get(t._key),a=new LT(e);return new oa(e,a,t._key,i,new vs(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){xx(dx),hu(new Ws("firestore",(i,{instanceIdentifier:a,options:r})=>{const s=i.getProvider("app").getImmediate(),o=new pa(new Nx(i.getProvider("auth-internal")),new Mx(s,i.getProvider("app-check-internal")),$x(s,a),s);return r={useFetchStreams:n,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),ar(Sv,Av,t),ar(Sv,Av,"esm2020")})();const QD={apiKey:"AIzaSyB7oHTGIM61ZIuRqi9fWMqzAzNpgZESlQg",authDomain:"calendar-scheduler-beae1.firebaseapp.com",projectId:"calendar-scheduler-beae1",storageBucket:"calendar-scheduler-beae1.firebasestorage.app",messagingSenderId:"517635746650",appId:"1:517635746650:web:9f6fe403c3b093371f2163"},YD=i1(QD),tn=VD(YD);function jT({message:e,type:t="info",onClose:n,duration:i=3e3}){O.useEffect(()=>{const s=setTimeout(n,i);return()=>clearTimeout(s)},[n,i]);const a={info:"bg-gray-900 border-white/10 text-white",error:"bg-red-600 border-red-500/50 text-white",success:"bg-green-600 border-green-500/50 text-white"},r={info:R.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),error:R.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),success:R.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})};return R.jsx("div",{className:"fixed top-8 left-1/2 -translate-x-1/2 z-[100] animate-in fade-in slide-in-from-top-4 duration-300",children:R.jsxs("div",{className:`${a[t]} px-5 py-2.5 rounded-full shadow-2xl flex items-center gap-2 border`,children:[r[t],R.jsx("span",{className:"text-sm font-bold tracking-tight",children:e})]})})}function KD(){const e=Wd(),[t,n]=O.useState(""),[i,a]=O.useState(!1),[r,s]=O.useState(null),o=()=>{const c="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",f=new Uint32Array(6);window.crypto.getRandomValues(f);let g="";for(let m=0;m<6;m++)g+=c.charAt(f[m]%c.length);return g},u=async c=>{if(c.preventDefault(),!t.trim())return;a(!0);const f=o();try{await $f(Cn(tn,"events",f),{name:t.trim(),createdAt:new Date().toISOString(),lastAccessedAt:new Date().toISOString(),version:"1.3.0"}),e(`/${f}`)}catch(g){console.error("Error creating event:",g),s({message:"Failed to create event. Please try again.",type:"error"})}finally{a(!1)}};return R.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:[r&&R.jsx(jT,{message:r.message,type:r.type,onClose:()=>s(null)}),R.jsxs("div",{className:"max-w-md w-full text-center space-y-8 bg-white p-10 rounded-2xl shadow-xl border border-gray-100 transition-all hover:shadow-2xl relative",children:[R.jsxs("div",{className:"space-y-2",children:[R.jsx("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Scheduler"}),R.jsx("p",{className:"text-gray-500 font-medium",children:"Create a private schedule and invite others to help coordinate."})]}),R.jsxs("form",{onSubmit:u,className:"space-y-4",children:[R.jsxs("div",{className:"relative group",children:[R.jsx("input",{type:"text",value:t,onChange:c=>n(c.target.value),placeholder:"What's this event for?",className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-100 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none text-center font-bold text-gray-700 placeholder:text-gray-300 placeholder:font-medium",required:!0}),R.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-transparent group-focus-within:border-indigo-500/20 pointer-events-none transition-all"})]}),R.jsx("button",{type:"submit",disabled:!t.trim()||i,className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-lg font-bold rounded-xl text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:i?R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[R.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),R.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),R.jsx("span",{children:"Generating..."})]}):R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("svg",{className:"h-5 w-5 text-indigo-300 group-hover:text-indigo-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:R.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),R.jsx("span",{children:"Create My Event"})]})})]}),R.jsxs("div",{className:"flex flex-col items-center gap-3 pt-4",children:[R.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"No sign-up required. Just create and share the link."}),R.jsx("span",{className:"px-2 py-0.5 rounded-md bg-gray-50 text-[10px] font-bold text-gray-300 border border-gray-100",children:"v1.3.0"})]})]})]})}function XD({users:e,currentUser:t,onAddUser:n,onSelectUser:i,onUpdateUser:a,onDeleteUser:r}){var g,m,p;const[s,o]=O.useState(""),[u,c]=O.useState("#6366f1"),f=x=>{x.preventDefault(),s.trim()&&(n({name:s,color:u}),o(""))};return R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[R.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Active User"}),R.jsxs("div",{className:"flex items-center space-x-3",children:[R.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-inner",style:{backgroundColor:(g=e.find(x=>x.id===t))==null?void 0:g.color},children:(m=e.find(x=>x.id===t))==null?void 0:m.name[0].toUpperCase()}),R.jsxs("div",{children:[R.jsx("div",{className:"font-semibold text-gray-800",children:(p=e.find(x=>x.id===t))==null?void 0:p.name}),R.jsx("div",{className:"text-xs text-gray-400",children:"Ready to book"})]})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Switch User"}),R.jsx($D,{users:e,currentUser:t,onSelect:i,onUpdateUser:a,onDeleteUser:r})]}),R.jsxs("form",{onSubmit:f,className:"pt-4 border-t border-gray-100",children:[R.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Create Profile"}),R.jsxs("div",{className:"space-y-3",children:[R.jsx("div",{children:R.jsx("input",{type:"text",value:s,onChange:x=>o(x.target.value),placeholder:"Enter name...",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all placeholder-gray-400"})}),R.jsxs("div",{className:"flex space-x-2",children:[R.jsx("input",{type:"color",value:u,onChange:x=>c(x.target.value),className:"h-9 w-12 p-0 border-0 rounded bg-transparent cursor-pointer"}),R.jsx("button",{type:"submit",disabled:!s.trim(),className:"flex-1 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add User"})]})]})]})]})}function $D({users:e,currentUser:t,onSelect:n,onUpdateUser:i,onDeleteUser:a}){const[r,s]=O.useState(!1),[o,u]=O.useState(null),[c,f]=O.useState(null),[g,m]=O.useState(""),p=O.useRef(null),x=e.find(E=>E.id===t)||e[0],D=e.filter(E=>E.name.toLowerCase().includes(g.toLowerCase())),I=(E,N)=>{E.preventDefault();const j=E.clientX||E.touches&&E.touches[0].clientX||0,H=E.clientY||E.touches&&E.touches[0].clientY||0;u({x:j,y:H,userId:N})},T=(E,N)=>{const j=E.touches[0],H=setTimeout(()=>{I({preventDefault:()=>{},clientX:j.clientX,clientY:j.clientY},N)},800);f(H)},v=()=>{c&&(clearTimeout(c),f(null))};return O.useEffect(()=>{r&&p.current&&p.current.focus()},[r]),O.useEffect(()=>{const E=()=>u(null);return window.addEventListener("click",E),()=>window.removeEventListener("click",E)},[]),R.jsxs("div",{className:"relative",children:[R.jsxs("button",{type:"button",onClick:()=>s(!r),className:"w-full bg-white border border-gray-200 text-gray-700 py-2 px-3 rounded-lg flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:x==null?void 0:x.color}}),R.jsx("span",{className:"text-sm",children:x==null?void 0:x.name})]}),R.jsx("svg",{className:`fill-current h-4 w-4 text-gray-400 transform transition-transform ${r?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})]}),r&&R.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-100 rounded-lg shadow-xl max-h-60 overflow-hidden flex flex-col",children:[R.jsx("div",{className:"p-2 border-b border-gray-100",children:R.jsx("input",{ref:p,type:"text",placeholder:"Search users...",value:g,onChange:E=>m(E.target.value),className:"w-full px-2 py-1 text-sm bg-gray-50 border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",onClick:E=>E.stopPropagation()})}),R.jsx("div",{className:"overflow-y-auto flex-1",children:D.length>0?D.map(E=>R.jsxs("div",{onClick:()=>{n(E.id),s(!1),m("")},onContextMenu:N=>I(N,E.id),onTouchStart:N=>T(N,E.id),onTouchEnd:v,onTouchMove:v,className:`w-full flex items-center space-x-2 px-4 py-2 text-sm hover:bg-gray-50 text-left cursor-pointer group relative ${t===E.id?"bg-indigo-50 text-indigo-900 font-medium":"text-gray-700"}`,children:[R.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:E.color}}),R.jsx("span",{className:"flex-1",children:E.name}),R.jsx("span",{className:"text-xs text-gray-300 opacity-0 group-hover:opacity-100 hidden md:inline",children:"Right-click edit"})]},E.id)):R.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 text-center italic",children:"No users found"})})]}),r&&R.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>s(!1)}),o&&R.jsxs("div",{className:"fixed z-50 bg-white border border-gray-200 shadow-xl rounded-lg py-1 w-32 flex flex-col",style:{top:o.y,left:o.x},onClick:E=>E.stopPropagation(),children:[R.jsx("div",{className:"px-3 py-2 border-b border-gray-100 text-xs text-gray-400 font-bold uppercase tracking-wider",children:"Options"}),R.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-50 cursor-pointer text-sm text-gray-700",children:[R.jsx("span",{className:"flex-1",children:"Color"}),R.jsx("input",{type:"color",className:"w-4 h-4 p-0 border-0 rounded overflow-hidden",onChange:E=>{i(o.userId,E.target.value),u(null)}})]}),R.jsx("button",{className:"text-left px-3 py-2 hover:bg-red-50 text-red-600 text-sm w-full",onClick:()=>{a(o.userId),u(null)},children:"Delete User"})]})]})}function ZD({bookings:e,users:t,filterUserIds:n}){const[i,a]=O.useState(0),r=O.useMemo(()=>{const f={};Object.entries(e).forEach(([D,I])=>{f[D]=new Set(I)});let g=Object.keys(f);if(n&&n.length>0&&(g=g.filter(D=>{const I=f[D];return n.every(T=>I.has(T))})),g.length===0)return null;let m=0;return g.forEach(D=>{const I=f[D].size;I>m&&(m=I)}),m===0?null:g.filter(D=>f[D].size===m).sort().map(D=>{const[I,T,v]=D.split("-").map(Number),E=new Date(I,T-1,v),N=f[D],j=t.filter(H=>!N.has(H.id));return{dateObj:E,dateStr:D,count:m,missing:j,total:N.size}})},[e,t,n]);if(O.useEffect(()=>{a(0)},[r]),!r||r.length===0)return R.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No data available for current selection."});const s=r[i],o=s.dateObj.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"}),u=()=>{a(f=>(f-1+r.length)%r.length)},c=()=>{a(f=>(f+1)%r.length)};return R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100 relative",children:[R.jsxs("div",{className:"flex items-center justify-between mb-1",children:[R.jsx("div",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider",children:"Best Date"}),r.length>1&&R.jsxs("div",{className:"text-[10px] font-bold text-indigo-300 bg-white px-2 py-0.5 rounded-full",children:[i+1," / ",r.length]})]}),R.jsxs("div",{className:"flex items-center justify-between",children:[r.length>1&&R.jsx("button",{onClick:u,className:"p-1 hover:bg-white/50 rounded-full text-indigo-400 transition-colors",children:R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),R.jsxs("div",{className:"text-center flex-1",children:[R.jsx("div",{className:"text-xl font-bold text-indigo-900",children:o}),R.jsxs("div",{className:"text-sm text-indigo-600 font-medium mt-1",children:[s.count," ",s.count===1?"person":"people"," available"]})]}),r.length>1&&R.jsx("button",{onClick:c,className:"p-1 hover:bg-white/50 rounded-full text-indigo-400 transition-colors",children:R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),s.missing.length>0?R.jsxs("div",{children:[R.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Who's Missing"}),R.jsx("div",{className:"flex flex-wrap gap-2",children:s.missing.map(f=>R.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-red-50 text-red-700 rounded-md text-xs font-medium border border-red-100",children:[R.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:f.color}}),R.jsx("span",{children:f.name})]},f.id))})]}):R.jsxs("div",{className:"flex items-center space-x-2 text-green-600 text-sm font-medium bg-green-50 p-3 rounded-lg border border-green-100",children:[R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),R.jsx("span",{children:"Everyone is available!"})]})]})}function JD({users:e,selectedUserIds:t,onChange:n}){const[i,a]=O.useState(!1),r=O.useRef(null);O.useEffect(()=>{const o=u=>{r.current&&!r.current.contains(u.target)&&a(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const s=o=>{const u=t.includes(o)?t.filter(c=>c!==o):[...t,o];n(u)};return R.jsxs("div",{className:"relative",ref:r,children:[R.jsxs("button",{onClick:()=>a(!i),className:"w-full bg-white border border-gray-200 text-gray-700 py-2 px-3 rounded-lg flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-indigo-500 text-xs font-medium",children:[R.jsx("div",{className:"flex items-center gap-1 truncate",children:t.length===0?R.jsx("span",{className:"text-gray-400",children:"No filter (Everyone)"}):R.jsx("div",{className:"flex -space-x-1",children:t.map(o=>{const u=e.find(c=>c.id===o);return u?R.jsx("div",{className:"w-4 h-4 rounded-full border border-white",style:{backgroundColor:u.color},title:u.name},o):null})})}),R.jsx("svg",{className:`fill-current h-3 w-3 text-gray-400 transform transition-transform ${i?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})]}),i&&R.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-100 rounded-lg shadow-xl max-h-60 overflow-auto",children:[R.jsx("div",{className:"px-3 py-2 text-[10px] uppercase font-bold text-gray-400 tracking-wider bg-gray-50 border-b border-gray-50",children:"Require Attendance"}),e.map(o=>{const u=t.includes(o.id);return R.jsxs("div",{onClick:()=>s(o.id),className:`flex items-center justify-between px-3 py-2 cursor-pointer hover:bg-indigo-50 transition-colors ${u?"bg-indigo-50/50":""}`,children:[R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),R.jsx("span",{className:`text-sm ${u?"font-semibold text-indigo-900":"text-gray-600"}`,children:o.name})]}),u&&R.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},o.id)}),t.length>0&&R.jsx("div",{onClick:()=>{n([]),a(!1)},className:"text-center text-xs text-red-500 py-2 border-t border-gray-100 font-medium cursor-pointer hover:bg-red-50",children:"Clear Filter"})]})]})}function WD({currentDate:e,bookings:t,bookingsMap:n,onDateClick:i,users:a}){const r=O.useMemo(()=>{const o=e.getFullYear(),u=e.getMonth(),c=new Date(o,u,1),f=new Date(o,u+1,0),g=c.getDay(),m=[];for(let x=0;x<g;x++){const D=new Date(o,u,1-(g-x));m.push({date:D,isCurrentMonth:!1})}for(let x=1;x<=f.getDate();x++){const D=new Date(o,u,x);m.push({date:D,isCurrentMonth:!0})}const p=42-m.length;for(let x=1;x<=p;x++){const D=new Date(o,u+1,x);m.push({date:D,isCurrentMonth:!1})}return m},[e]),s=o=>{const u=new Date;return o.getDate()===u.getDate()&&o.getMonth()===u.getMonth()&&o.getFullYear()===u.getFullYear()};return R.jsxs("div",{className:"h-full flex flex-col",children:[R.jsx("div",{className:"grid grid-cols-7 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(o=>R.jsxs("div",{className:"text-center text-[10px] md:text-xs font-semibold text-gray-400 uppercase tracking-wider py-2",children:[R.jsx("span",{className:"md:hidden",children:o.charAt(0)}),R.jsx("span",{className:"hidden md:block",children:o})]},o))}),R.jsx("div",{className:"flex-1 grid grid-cols-7 gap-2 auto-rows-fr",children:r.map((o,u)=>{const c=o.date.toISOString().split("T")[0],f=n[c]||[];return R.jsxs("div",{onClick:()=>i(c),className:`
                            relative p-0.5 md:p-1 rounded-lg md:rounded-xl border transition-all cursor-pointer flex flex-col items-start justify-start overflow-hidden group
                            ${o.isCurrentMonth?"bg-white border-gray-100":"bg-gray-50 border-transparent text-gray-300"}
                            ${s(o.date)?"ring-2 ring-indigo-500 ring-offset-1 md:ring-offset-2 z-10":"hover:border-indigo-200 hover:shadow-md"}
                        `,children:[R.jsx("span",{className:`text-[10px] md:text-sm font-semibold ml-1 mt-0.5 md:mt-1 ${s(o.date)?"text-indigo-600":"text-gray-700"}`,children:o.date.getDate()}),R.jsx("div",{className:"flex-1 w-full p-1 flex flex-wrap content-start gap-1 overflow-y-auto mt-1 custom-scrollbar",children:f.map(g=>{const m=a.find(p=>p.id===g);return m?R.jsx("div",{className:"h-1.5 w-1.5 md:h-2 md:w-2 rounded-full",style:{backgroundColor:m.color},title:m.name},g):null})})]},u)})})]})}function xv({currentDate:e,bookingsMap:t,onDateClick:n,users:i,daysToShow:a=7}){const r=O.useMemo(()=>{const o=new Date(e);if(a===7){const c=o.getDay();o.setDate(o.getDate()-c)}const u=[];for(let c=0;c<a;c++){const f=new Date(o);f.setDate(o.getDate()+c),u.push(f)}return u},[e,a]),s=o=>{const u=new Date;return o.getDate()===u.getDate()&&o.getMonth()===u.getMonth()&&o.getFullYear()===u.getFullYear()};return R.jsx("div",{className:"h-full overflow-x-auto",children:R.jsx("div",{className:`h-full grid gap-2 md:gap-4 min-w-[800px] md:min-w-0 ${a===7?"grid-cols-7":"grid-cols-3"}`,children:r.map((o,u)=>{const c=o.toISOString().split("T")[0],f=t[c]||[];return R.jsxs("div",{onClick:()=>n(c),className:`
                            rounded-xl md:rounded-2xl border flex flex-col group transition-all cursor-pointer
                            ${s(o)?"bg-indigo-50/50 border-indigo-200":"bg-white border-gray-100 hover:border-indigo-200 hover:shadow-lg"}
                        `,children:[R.jsxs("div",{className:`p-2 md:p-4 text-center border-b border-gray-50 ${s(o)?"bg-indigo-100/50 text-indigo-700":""} rounded-t-xl md:rounded-t-2xl`,children:[R.jsx("div",{className:"text-[10px] md:text-xs uppercase tracking-wider font-bold opacity-60",children:o.toLocaleDateString("default",{weekday:"short"})}),R.jsx("div",{className:"text-xl md:text-2xl font-black mt-1",children:o.getDate()})]}),R.jsx("div",{className:"flex-1 p-2 md:p-3 space-y-1 md:space-y-2 overflow-y-auto",children:f.length>0?f.map(g=>{const m=i.find(p=>p.id===g);return m?R.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 p-1.5 md:p-2 rounded-lg bg-white shadow-sm border border-gray-100",children:[R.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full flex-shrink-0",style:{backgroundColor:m.color}}),R.jsx("span",{className:"text-[10px] md:text-xs font-semibold text-gray-700 truncate max-w-full",children:m.name})]},g):null}):R.jsx("div",{className:"h-full flex items-center justify-center",children:R.jsx("span",{className:"text-[10px] md:text-xs text-gray-300 font-medium italic group-hover:text-indigo-300 transition-colors",children:"Join"})})})]},u)})})})}function tN({view:e,currentDate:t,bookings:n,bookingsMap:i,onDateClick:a,users:r}){return e==="month"?R.jsx(WD,{currentDate:t,bookingsMap:i,onDateClick:a,users:r}):e==="week"?R.jsx(xv,{currentDate:t,bookingsMap:i,onDateClick:a,users:r,daysToShow:7}):e==="3day"?R.jsx(xv,{currentDate:t,bookingsMap:i,onDateClick:a,users:r,daysToShow:3}):null}function eN(){const{eventCode:e}=Y2(),t=Wd(),[n,i]=O.useState("month"),[a,r]=O.useState(new Date),[s,o]=O.useState([]),[u,c]=O.useState(""),[f,g]=O.useState({}),[m,p]=O.useState([]),[x,D]=O.useState(!0),[I,T]=O.useState(!0),[v,E]=O.useState(null),[N,j]=O.useState(null);O.useEffect(()=>{(async()=>{if(!e)return;const X=Cn(tn,"events",e);try{const Q=await FD(X);Q.exists()?(E(Q.data()),await Rh(X,{lastAccessedAt:new Date().toISOString()})):T(!1)}catch(Q){console.error("Error checking event:",Q),T(!1)}})()},[e]),O.useEffect(()=>{const A=()=>{window.innerWidth>=768&&D(!1)};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),O.useEffect(()=>{if(!e)return;const A=Rv(_v(tn,"events",e,"users"),X=>{const Q=X.docs.map(B=>({...B.data(),id:B.id}));o(Q),Q.length>0&&(!u||!Q.find(B=>B.id===u))&&c(Q[0].id)});return()=>A()},[e,u]),O.useEffect(()=>{if(!e)return;const A=Rv(_v(tn,"events",e,"bookings"),X=>{const Q={};X.docs.forEach(B=>{Q[B.id]=B.data().userIds||[]}),g(Q)});return()=>A()},[e]);const H=async A=>{const X="u"+Date.now().toString().slice(-6),Q={...A,id:X};try{await $f(Cn(tn,"events",e,"users",X),Q),c(X)}catch(B){console.error("Error adding user: ",B),j({message:"Error adding user.",type:"error"})}},b=async(A,X)=>{try{await Rh(Cn(tn,"events",e,"users",A),{color:X})}catch(Q){console.error("Error updating user: ",Q)}},_=async A=>{if(s.length<=1){j({message:"Cannot delete the last user.",type:"error"});return}try{if(await xh(Cn(tn,"events",e,"users",A)),Object.keys(f).forEach(async X=>{if(f[X].includes(A)){const Q=f[X].filter(B=>B!==A);Q.length===0?await xh(Cn(tn,"events",e,"bookings",X)):await Rh(Cn(tn,"events",e,"bookings",X),{userIds:Q})}}),u===A){const X=s.find(Q=>Q.id!==A);X&&c(X.id)}}catch(X){console.error("Error deleting user: ",X),j({message:"Error deleting user.",type:"error"})}},S=async A=>{if(!u){j({message:"Please add a user first to start scheduling.",type:"info"});return}const X=f[A]||[],Q=X.includes(u);let B;Q?B=X.filter(Z=>Z!==u):B=[...X,u];try{B.length===0?await xh(Cn(tn,"events",e,"bookings",A)):await $f(Cn(tn,"events",e,"bookings",A),{userIds:B})}catch(Z){console.error("Error updating booking: ",Z)}},w=A=>{r(X=>{const Q=new Date(X);return n==="month"?Q.setMonth(Q.getMonth()+A,1):n==="week"?Q.setDate(Q.getDate()+A*7):n==="3day"&&Q.setDate(Q.getDate()+A*3),Q})},C=()=>{const A=a.getFullYear(),X=a.toLocaleString("default",{month:"long"});if(n==="month")return`${X} ${A}`;const Q=new Date(a);if(n==="week"){const It=Q.getDay();Q.setDate(Q.getDate()-It)}const B=new Date(Q),Z=n==="week"?6:2;B.setDate(Q.getDate()+Z);const $=Q.toLocaleString("default",{month:"short"}),mt=B.toLocaleString("default",{month:"short"});return $===mt?`${$} ${Q.getDate()} - ${B.getDate()}`:`${$} ${Q.getDate()} - ${mt} ${B.getDate()}`},V=()=>{navigator.clipboard.writeText(window.location.href),j({message:"Link copied!",type:"success"})};return I?R.jsxs("div",{className:"flex h-screen bg-gray-50 text-gray-800 font-sans overflow-hidden",children:[N&&R.jsx(jT,{message:N.message,type:N.type,onClose:()=>j(null)}),x&&R.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>D(!1)}),R.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-80 bg-white shadow-xl flex flex-col p-6 border-r border-gray-100 transition-transform duration-300 ease-in-out
        md:relative md:translate-x-0
        ${x?"translate-x-0":"-translate-x-full"}
      `,children:[R.jsxs("div",{className:"flex items-center justify-between mb-8",children:[R.jsxs("div",{className:"flex flex-col min-w-0",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("h1",{className:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 truncate",children:(v==null?void 0:v.name)||"Scheduler"}),R.jsx("span",{className:"shrink-0 px-1.5 py-0.5 rounded-md bg-indigo-50 text-[10px] font-bold text-indigo-300 border border-indigo-100",children:"v1.3.0"})]}),R.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[R.jsx("span",{className:"text-[10px] font-mono font-bold text-gray-400 bg-gray-50 px-2 py-0.5 rounded border border-gray-100 uppercase tracking-tighter",children:e}),R.jsxs("button",{onClick:V,className:"flex items-center gap-1.5 text-[11px] font-bold text-indigo-500 hover:text-indigo-600 transition-colors px-2 py-1 rounded-md bg-indigo-50/50 border border-indigo-100/50",children:[R.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),R.jsx("span",{children:"Copy Link"})]})]})]}),R.jsx("button",{onClick:()=>D(!1),className:"md:hidden p-1 text-gray-400 hover:text-gray-600",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),R.jsx("div",{className:"mb-8",children:R.jsx(XD,{users:s,currentUser:u,onAddUser:H,onSelectUser:c,onUpdateUser:b,onDeleteUser:_})}),R.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[R.jsxs("div",{className:"flex items-center justify-between mb-3",children:[R.jsx("h2",{className:"text-xs uppercase tracking-wider text-gray-400 font-bold",children:"Summary"}),R.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded",children:"Filter"})]}),R.jsx("div",{className:"mb-4",children:R.jsx(JD,{users:s,selectedUserIds:m,onChange:p})}),R.jsx(ZD,{bookings:f,users:s,filterUserIds:m})]})]}),R.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[R.jsxs("header",{className:"flex items-center justify-between px-4 md:px-8 py-5 bg-white border-b border-gray-200",children:[R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsx("button",{onClick:()=>D(!0),className:"md:hidden p-2 -ml-2 text-gray-500 hover:bg-gray-100 rounded-md",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),R.jsxs("div",{className:"flex items-center space-x-1",children:[R.jsx("button",{onClick:()=>w(-1),className:"p-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-indigo-600 transition-colors","aria-label":"Previous",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),R.jsx("button",{onClick:()=>w(1),className:"p-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-indigo-600 transition-colors","aria-label":"Next",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),R.jsx("h2",{className:"text-sm md:text-xl font-semibold min-w-32 md:min-w-48 text-center select-none truncate",children:C()})]}),R.jsxs("div",{className:"flex space-x-2 bg-gray-100 p-1 rounded-lg",children:[R.jsxs("div",{className:"md:hidden relative",children:[R.jsxs("select",{value:n,onChange:A=>i(A.target.value),className:"appearance-none bg-white text-indigo-600 text-sm font-semibold py-1.5 pl-3 pr-8 rounded-md shadow-sm border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[R.jsx("option",{value:"month",children:"Month"}),R.jsx("option",{value:"week",children:"Week"}),R.jsx("option",{value:"3day",children:"3 Days"})]}),R.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-indigo-600",children:R.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:R.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),R.jsx("div",{className:"hidden md:flex space-x-1",children:[{id:"month",label:"Month"},{id:"week",label:"Week"},{id:"3day",label:"3 Days"}].map(A=>R.jsx("button",{onClick:()=>i(A.id),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${n===A.id?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:A.label},A.id))})]})]}),R.jsx("div",{className:"flex-1 overflow-auto p-8 relative",children:R.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-full p-6",children:R.jsx(tN,{view:n,currentDate:a,bookingsMap:f,onDateClick:S,users:s})})})]})]}):R.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:R.jsxs("div",{className:"max-w-md w-full text-center space-y-6 bg-white p-10 rounded-2xl shadow-xl border border-gray-100",children:[R.jsx("h1",{className:"text-3xl font-black text-gray-800",children:"Event Not Found"}),R.jsx("p",{className:"text-gray-500",children:"The event code you entered doesn't exist or may have been deleted."}),R.jsx("button",{onClick:()=>t("/"),className:"w-full py-3 px-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors",children:"Go to Landing Page"})]})})}function nN(){return R.jsxs(ow,{children:[R.jsx(Rf,{path:"/",element:R.jsx(KD,{})}),R.jsx(Rf,{path:"/:eventCode",element:R.jsx(eN,{})})]})}c2.createRoot(document.getElementById("root")).render(R.jsx(O.StrictMode,{children:R.jsx(Iw,{children:R.jsx(nN,{})})}));
