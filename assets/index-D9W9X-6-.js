(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function bb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var M0={exports:{}},xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb=Symbol.for("react.transitional.element"),Ab=Symbol.for("react.fragment");function O0(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:Sb,type:e,key:i,ref:t!==void 0?t:null,props:n}}xu.Fragment=Ab;xu.jsx=O0;xu.jsxs=O0;M0.exports=xu;var S=M0.exports,L0={exports:{}},W={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=Symbol.for("react.transitional.element"),wb=Symbol.for("react.portal"),xb=Symbol.for("react.fragment"),Rb=Symbol.for("react.strict_mode"),Cb=Symbol.for("react.profiler"),Db=Symbol.for("react.consumer"),Nb=Symbol.for("react.context"),Vb=Symbol.for("react.forward_ref"),Ib=Symbol.for("react.suspense"),Mb=Symbol.for("react.memo"),U0=Symbol.for("react.lazy"),Ob=Symbol.for("react.activity"),kg=Symbol.iterator;function Lb(e){return e===null||typeof e!="object"?null:(e=kg&&e[kg]||e["@@iterator"],typeof e=="function"?e:null)}var j0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z0=Object.assign,k0={};function xa(e,t,n){this.props=e,this.context=t,this.refs=k0,this.updater=n||j0}xa.prototype.isReactComponent={};xa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B0(){}B0.prototype=xa.prototype;function Wf(e,t,n){this.props=e,this.context=t,this.refs=k0,this.updater=n||j0}var td=Wf.prototype=new B0;td.constructor=Wf;z0(td,xa.prototype);td.isPureReactComponent=!0;var Bg=Array.isArray;function Nh(){}var Rt={H:null,A:null,T:null,S:null},P0=Object.prototype.hasOwnProperty;function ed(e,t,n){var i=n.ref;return{$$typeof:Jf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function Ub(e,t){return ed(e.type,t,e.props)}function nd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jf}function jb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Pg=/\/+/g;function Mc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jb(""+e.key):t.toString(36)}function zb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Nh,Nh):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Mr(e,t,n,i,r){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Jf:case wb:s=!0;break;case U0:return s=e._init,Mr(s(e._payload),t,n,i,r)}}if(s)return r=r(e),s=i===""?"."+Mc(e,0):i,Bg(r)?(n="",s!=null&&(n=s.replace(Pg,"$&/")+"/"),Mr(r,t,n,"",function(c){return c})):r!=null&&(nd(r)&&(r=Ub(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(Pg,"$&/")+"/")+s)),t.push(r)),1;s=0;var o=i===""?".":i+":";if(Bg(e))for(var u=0;u<e.length;u++)i=e[u],a=o+Mc(i,u),s+=Mr(i,t,n,a,r);else if(u=Lb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,a=o+Mc(i,u++),s+=Mr(i,t,n,a,r);else if(a==="object"){if(typeof e.then=="function")return Mr(zb(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Pl(e,t,n){if(e==null)return e;var i=[],r=0;return Mr(e,i,"","",function(a){return t.call(n,a,r++)}),i}function kb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bb={map:Pl,forEach:function(e,t,n){Pl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Pl(e,function(){t++}),t},toArray:function(e){return Pl(e,function(t){return t})||[]},only:function(e){if(!nd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Activity=Ob;W.Children=Bb;W.Component=xa;W.Fragment=xb;W.Profiler=Cb;W.PureComponent=Wf;W.StrictMode=Rb;W.Suspense=Ib;W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt;W.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Rt.H.useMemoCache(e)}};W.cache=function(e){return function(){return e.apply(null,arguments)}};W.cacheSignal=function(){return null};W.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=z0({},e.props),r=e.key;if(t!=null)for(a in t.key!==void 0&&(r=""+t.key),t)!P0.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];i.children=s}return ed(e.type,r,i)};W.createContext=function(e){return e={$$typeof:Nb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Db,_context:e},e};W.createElement=function(e,t,n){var i,r={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)P0.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];r.children=o}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)r[i]===void 0&&(r[i]=s[i]);return ed(e,a,r)};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Vb,render:e}};W.isValidElement=nd;W.lazy=function(e){return{$$typeof:U0,_payload:{_status:-1,_result:e},_init:kb}};W.memo=function(e,t){return{$$typeof:Mb,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Rt.T,n={};Rt.T=n;try{var i=e(),r=Rt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Nh,Hg)}catch(a){Hg(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),Rt.T=t}};W.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()};W.use=function(e){return Rt.H.use(e)};W.useActionState=function(e,t,n){return Rt.H.useActionState(e,t,n)};W.useCallback=function(e,t){return Rt.H.useCallback(e,t)};W.useContext=function(e){return Rt.H.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e,t){return Rt.H.useDeferredValue(e,t)};W.useEffect=function(e,t){return Rt.H.useEffect(e,t)};W.useEffectEvent=function(e){return Rt.H.useEffectEvent(e)};W.useId=function(){return Rt.H.useId()};W.useImperativeHandle=function(e,t,n){return Rt.H.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return Rt.H.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Rt.H.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Rt.H.useMemo(e,t)};W.useOptimistic=function(e,t){return Rt.H.useOptimistic(e,t)};W.useReducer=function(e,t,n){return Rt.H.useReducer(e,t,n)};W.useRef=function(e){return Rt.H.useRef(e)};W.useState=function(e){return Rt.H.useState(e)};W.useSyncExternalStore=function(e,t,n){return Rt.H.useSyncExternalStore(e,t,n)};W.useTransition=function(){return Rt.H.useTransition()};W.version="19.2.4";L0.exports=W;var M=L0.exports;const Hl=bb(M);var H0={exports:{}},Ru={},q0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,G){var $=B.length;B.push(G);t:for(;0<$;){var ct=$-1>>>1,vt=B[ct];if(0<r(vt,G))B[ct]=G,B[$]=vt,$=ct;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var G=B[0],$=B.pop();if($!==G){B[0]=$;t:for(var ct=0,vt=B.length,qi=vt>>>1;ct<qi;){var Fi=2*(ct+1)-1,Rr=B[Fi],Pe=Fi+1,Xn=B[Pe];if(0>r(Rr,$))Pe<vt&&0>r(Xn,Rr)?(B[ct]=Xn,B[Pe]=$,ct=Pe):(B[ct]=Rr,B[Fi]=$,ct=Fi);else if(Pe<vt&&0>r(Xn,$))B[ct]=Xn,B[Pe]=$,ct=Pe;else break t}}return G}function r(B,G){var $=B.sortIndex-G.sortIndex;return $!==0?$:B.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],c=[],f=1,g=null,m=3,p=!1,C=!1,N=!1,D=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function V(B){for(var G=n(c);G!==null;){if(G.callback===null)i(c);else if(G.startTime<=B)i(c),G.sortIndex=G.expirationTime,t(u,G);else break;G=n(c)}}function L(B){if(N=!1,V(B),!C)if(n(u)!==null)C=!0,P||(P=!0,I());else{var G=n(c);G!==null&&_e(L,G.startTime-B)}}var P=!1,y=-1,_=5,b=-1;function w(){return D?!0:!(e.unstable_now()-b<_)}function R(){if(D=!1,P){var B=e.unstable_now();b=B;var G=!0;try{t:{C=!1,N&&(N=!1,T(y),y=-1),p=!0;var $=m;try{e:{for(V(B),g=n(u);g!==null&&!(g.expirationTime>B&&w());){var ct=g.callback;if(typeof ct=="function"){g.callback=null,m=g.priorityLevel;var vt=ct(g.expirationTime<=B);if(B=e.unstable_now(),typeof vt=="function"){g.callback=vt,V(B),G=!0;break e}g===n(u)&&i(u),V(B)}else i(u);g=n(u)}if(g!==null)G=!0;else{var qi=n(c);qi!==null&&_e(L,qi.startTime-B),G=!1}}break t}finally{g=null,m=$,p=!1}G=void 0}}finally{G?I():P=!1}}}var I;if(typeof A=="function")I=function(){A(R)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Gt=x.port2;x.port1.onmessage=R,I=function(){Gt.postMessage(null)}}else I=function(){E(R,0)};function _e(B,G){y=E(function(){B(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(B){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var $=m;m=G;try{return B()}finally{m=$}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=m;m=B;try{return G()}finally{m=$}},e.unstable_scheduleCallback=function(B,G,$){var ct=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ct+$:ct):$=ct,B){case 1:var vt=-1;break;case 2:vt=250;break;case 5:vt=1073741823;break;case 4:vt=1e4;break;default:vt=5e3}return vt=$+vt,B={id:f++,callback:G,priorityLevel:B,startTime:$,expirationTime:vt,sortIndex:-1},$>ct?(B.sortIndex=$,t(c,B),n(u)===null&&B===n(c)&&(N?(T(y),y=-1):N=!0,_e(L,$-ct))):(B.sortIndex=vt,t(u,B),C||p||(C=!0,P||(P=!0,I()))),B},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(B){var G=m;return function(){var $=m;m=G;try{return B.apply(this,arguments)}finally{m=$}}}})(F0);q0.exports=F0;var Pb=q0.exports,G0={exports:{}},ve={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hb=M;function Q0(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ni(){}var ye={d:{f:ni,r:function(){throw Error(Q0(522))},D:ni,C:ni,L:ni,m:ni,X:ni,S:ni,M:ni},p:0,findDOMNode:null},qb=Symbol.for("react.portal");function Fb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Es=Hb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Cu(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ve.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ye;ve.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Q0(299));return Fb(e,t,null,n)};ve.flushSync=function(e){var t=Es.T,n=ye.p;try{if(Es.T=null,ye.p=2,e)return e()}finally{Es.T=t,ye.p=n,ye.d.f()}};ve.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ye.d.C(e,t))};ve.prefetchDNS=function(e){typeof e=="string"&&ye.d.D(e)};ve.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Cu(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:a}):n==="script"&&ye.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ve.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Cu(t.as,t.crossOrigin);ye.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ye.d.M(e)};ve.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Cu(n,t.crossOrigin);ye.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ve.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Cu(t.as,t.crossOrigin);ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ye.d.m(e)};ve.requestFormReset=function(e){ye.d.r(e)};ve.unstable_batchedUpdates=function(e,t){return e(t)};ve.useFormState=function(e,t,n){return Es.H.useFormState(e,t,n)};ve.useFormStatus=function(){return Es.H.useHostTransitionStatus()};ve.version="19.2.4";function Y0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y0)}catch(e){console.error(e)}}Y0(),G0.exports=ve;var Gb=G0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t=Pb,K0=M,Qb=Gb;function j(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function X0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ul(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z0(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qg(e){if(ul(e)!==e)throw Error(j(188))}function Yb(e){var t=e.alternate;if(!t){if(t=ul(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return qg(r),e;if(a===i)return qg(r),t;a=a.sibling}throw Error(j(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==i)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function J0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=J0(e),t!==null)return t;e=e.sibling}return null}var Ct=Object.assign,Kb=Symbol.for("react.element"),ql=Symbol.for("react.transitional.element"),hs=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),tv=Symbol.for("react.consumer"),Vn=Symbol.for("react.context"),id=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Mh=Symbol.for("react.suspense_list"),rd=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),Oh=Symbol.for("react.activity"),Xb=Symbol.for("react.memo_cache_sentinel"),Fg=Symbol.iterator;function ns(e){return e===null||typeof e!="object"?null:(e=Fg&&e[Fg]||e["@@iterator"],typeof e=="function"?e:null)}var $b=Symbol.for("react.client.reference");function Lh(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case Vh:return"Profiler";case W0:return"StrictMode";case Ih:return"Suspense";case Mh:return"SuspenseList";case Oh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case hs:return"Portal";case Vn:return e.displayName||"Context";case tv:return(e._context.displayName||"Context")+".Consumer";case id:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rd:return t=e.displayName||null,t!==null?t:Lh(e.type)||"Memo";case ii:t=e._payload,e=e._init;try{return Lh(e(t))}catch{}}return null}var fs=Array.isArray,X=K0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=Qb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rr={pending:!1,data:null,method:null,action:null},Uh=[],Pr=-1;function En(e){return{current:e}}function ee(e){0>Pr||(e.current=Uh[Pr],Uh[Pr]=null,Pr--)}function Tt(e,t){Pr++,Uh[Pr]=e.current,e.current=t}var mn=En(null),ks=En(null),gi=En(null),Oo=En(null);function Lo(e,t){switch(Tt(gi,t),Tt(ks,e),Tt(mn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$p(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$p(t),e=EE(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(mn),Tt(mn,e)}function ua(){ee(mn),ee(ks),ee(gi)}function jh(e){e.memoizedState!==null&&Tt(Oo,e);var t=mn.current,n=EE(t,e.type);t!==n&&(Tt(ks,e),Tt(mn,n))}function Uo(e){ks.current===e&&(ee(mn),ee(ks)),Oo.current===e&&(ee(Oo),$s._currentValue=rr)}var Oc,Gg;function Zi(e){if(Oc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Oc=t&&t[1]||"",Gg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oc+e+Gg}var Lc=!1;function Uc(e,t){if(!e||Lc)return"";Lc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(p){var m=p}Reflect.construct(e,[],g)}else{try{g.call()}catch(p){m=p}e.call(g.prototype)}}else{try{throw Error()}catch(p){m=p}(g=e())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(p){if(p&&m&&typeof p.stack=="string")return[p.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var u=s.split(`
`),c=o.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=r);break}}}finally{Lc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zi(n):""}function Zb(e,t){switch(e.tag){case 26:case 27:case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return e.child!==t&&t!==null?Zi("Suspense Fallback"):Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return Uc(e.type,!1);case 11:return Uc(e.type.render,!1);case 1:return Uc(e.type,!0);case 31:return Zi("Activity");default:return""}}function Qg(e){try{var t="",n=null;do t+=Zb(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var zh=Object.prototype.hasOwnProperty,ad=$t.unstable_scheduleCallback,jc=$t.unstable_cancelCallback,Jb=$t.unstable_shouldYield,Wb=$t.unstable_requestPaint,Le=$t.unstable_now,tS=$t.unstable_getCurrentPriorityLevel,ev=$t.unstable_ImmediatePriority,nv=$t.unstable_UserBlockingPriority,jo=$t.unstable_NormalPriority,eS=$t.unstable_LowPriority,iv=$t.unstable_IdlePriority,nS=$t.log,iS=$t.unstable_setDisableYieldValue,cl=null,Ue=null;function ui(e){if(typeof nS=="function"&&iS(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(cl,e)}catch{}}var je=Math.clz32?Math.clz32:sS,rS=Math.log,aS=Math.LN2;function sS(e){return e>>>=0,e===0?32:31-(rS(e)/aS|0)|0}var Fl=256,Gl=262144,Ql=4194304;function Ji(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Du(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~a,i!==0?r=Ji(i):(s&=o,s!==0?r=Ji(s):n||(n=o&~e,n!==0&&(r=Ji(n))))):(o=i&~a,o!==0?r=Ji(o):s!==0?r=Ji(s):n||(n=i&~e,n!==0&&(r=Ji(n)))),r===0?0:t!==0&&t!==r&&!(t&a)&&(a=r&-r,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:r}function hl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function lS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rv(){var e=Ql;return Ql<<=1,!(Ql&62914560)&&(Ql=4194304),e}function zc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function oS(e,t,n,i,r,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var f=31-je(n),g=1<<f;o[f]=0,u[f]=-1;var m=c[f];if(m!==null)for(c[f]=null,f=0;f<m.length;f++){var p=m[f];p!==null&&(p.lane&=-536870913)}n&=~g}i!==0&&av(e,i,0),a!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=a&~(s&~t))}function av(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-je(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function sv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-je(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function lv(e,t){var n=t&-t;return n=n&42?1:sd(n),n&(e.suspendedLanes|t)?0:n}function sd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ld(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ov(){var e=ft.p;return e!==0?e:(e=window.event,e===void 0?32:VE(e.type))}function Yg(e,t){var n=ft.p;try{return ft.p=e,t()}finally{ft.p=n}}var ki=Math.random().toString(36).slice(2),re="__reactFiber$"+ki,Re="__reactProps$"+ki,Ra="__reactContainer$"+ki,kh="__reactEvents$"+ki,uS="__reactListeners$"+ki,cS="__reactHandles$"+ki,Kg="__reactResources$"+ki,dl="__reactMarker$"+ki;function od(e){delete e[re],delete e[Re],delete e[kh],delete e[uS],delete e[cS]}function Hr(e){var t=e[re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ra]||n[re]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ey(e);e!==null;){if(n=e[re])return n;e=ey(e)}return t}e=n,n=e.parentNode}return null}function Ca(e){if(e=e[re]||e[Ra]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ds(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(j(33))}function Jr(e){var t=e[Kg];return t||(t=e[Kg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function te(e){e[dl]=!0}var uv=new Set,cv={};function vr(e,t){ca(e,t),ca(e+"Capture",t)}function ca(e,t){for(cv[e]=t,e=0;e<t.length;e++)uv.add(t[e])}var hS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xg={},$g={};function fS(e){return zh.call($g,e)?!0:zh.call(Xg,e)?!1:hS.test(e)?$g[e]=!0:(Xg[e]=!0,!1)}function co(e,t,n){if(fS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Yl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Sn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dS(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bh(e){if(!e._valueTracker){var t=hv(e)?"checked":"value";e._valueTracker=dS(e,t,""+e[t])}}function fv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=hv(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mS=/[\n"\\]/g;function Qe(e){return e.replace(mS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ph(e,t,n,i,r,a,s,o){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qe(t)):e.value!==""+qe(t)&&(e.value=""+qe(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?Hh(e,s,qe(t)):n!=null?Hh(e,s,qe(n)):i!=null&&e.removeAttribute("value"),r==null&&a!=null&&(e.defaultChecked=!!a),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+qe(o):e.removeAttribute("name")}function dv(e,t,n,i,r,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){Bh(e);return}n=n!=null?""+qe(n):"",t=t!=null?""+qe(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),Bh(e)}function Hh(e,t,n){t==="number"&&zo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Wr(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+qe(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function mv(e,t,n){if(t!=null&&(t=""+qe(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+qe(n):""}function gv(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(j(92));if(fs(i)){if(1<i.length)throw Error(j(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=qe(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Bh(e)}function ha(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||gS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function pv(e,t,n){if(t!=null&&typeof t!="object")throw Error(j(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Zg(e,r,i)}else for(var a in t)t.hasOwnProperty(a)&&Zg(e,a,t[a])}function ud(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ho(e){return yS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function In(){}var qh=null;function cd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qr=null,ta=null;function Jg(e){var t=Ca(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;t:switch(e=t.stateNode,t.type){case"input":if(Ph(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Qe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Re]||null;if(!r)throw Error(j(90));Ph(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&fv(i)}break t;case"textarea":mv(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Wr(e,!!n.multiple,t,!1)}}}var kc=!1;function yv(e,t,n){if(kc)return e(t,n);kc=!0;try{var i=e(t);return i}finally{if(kc=!1,(qr!==null||ta!==null)&&(Pu(),qr&&(t=qr,e=ta,ta=qr=null,Jg(t),e)))for(t=0;t<e.length;t++)Jg(e[t])}}function Bs(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Re]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=!1;if(zn)try{var is={};Object.defineProperty(is,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Fh=!1}var ci=null,hd=null,fo=null;function vv(){if(fo)return fo;var e,t=hd,n=t.length,i,r="value"in ci?ci.value:ci.textContent,a=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[a-i];i++);return fo=r.slice(e,1<i?1-i:void 0)}function mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function Wg(){return!1}function Ce(e){function t(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Kl:Wg,this.isPropagationStopped=Wg,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),t}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Ce(_r),ml=Ct({},_r,{view:0,detail:0}),vS=Ce(ml),Bc,Pc,rs,Vu=Ct({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(Bc=e.screenX-rs.screenX,Pc=e.screenY-rs.screenY):Pc=Bc=0,rs=e),Bc)},movementY:function(e){return"movementY"in e?e.movementY:Pc}}),tp=Ce(Vu),_S=Ct({},Vu,{dataTransfer:0}),ES=Ce(_S),TS=Ct({},ml,{relatedTarget:0}),Hc=Ce(TS),bS=Ct({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=Ce(bS),AS=Ct({},_r,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wS=Ce(AS),xS=Ct({},_r,{data:0}),ep=Ce(xS),RS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DS[e])?!!t[e]:!1}function fd(){return NS}var VS=Ct({},ml,{key:function(e){if(e.key){var t=RS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?CS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(e){return e.type==="keypress"?mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IS=Ce(VS),MS=Ct({},Vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),np=Ce(MS),OS=Ct({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),LS=Ce(OS),US=Ct({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),jS=Ce(US),zS=Ct({},Vu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kS=Ce(zS),BS=Ct({},_r,{newState:0,oldState:0}),PS=Ce(BS),HS=[9,13,27,32],dd=zn&&"CompositionEvent"in window,Ts=null;zn&&"documentMode"in document&&(Ts=document.documentMode);var qS=zn&&"TextEvent"in window&&!Ts,_v=zn&&(!dd||Ts&&8<Ts&&11>=Ts),ip=" ",rp=!1;function Ev(e,t){switch(e){case"keyup":return HS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function FS(e,t){switch(e){case"compositionend":return Tv(t);case"keypress":return t.which!==32?null:(rp=!0,ip);case"textInput":return e=t.data,e===ip&&rp?null:e;default:return null}}function GS(e,t){if(Fr)return e==="compositionend"||!dd&&Ev(e,t)?(e=vv(),fo=hd=ci=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _v&&t.locale!=="ko"?null:t.data;default:return null}}var QS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ap(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QS[e.type]:t==="textarea"}function bv(e,t,n,i){qr?ta?ta.push(i):ta=[i]:qr=i,t=nu(t,"onChange"),0<t.length&&(n=new Nu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var bs=null,Ps=null;function YS(e){yE(e,0)}function Iu(e){var t=ds(e);if(fv(t))return e}function sp(e,t){if(e==="change")return t}var Sv=!1;if(zn){var qc;if(zn){var Fc="oninput"in document;if(!Fc){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),Fc=typeof lp.oninput=="function"}qc=Fc}else qc=!1;Sv=qc&&(!document.documentMode||9<document.documentMode)}function op(){bs&&(bs.detachEvent("onpropertychange",Av),Ps=bs=null)}function Av(e){if(e.propertyName==="value"&&Iu(Ps)){var t=[];bv(t,Ps,e,cd(e)),yv(YS,t)}}function KS(e,t,n){e==="focusin"?(op(),bs=t,Ps=n,bs.attachEvent("onpropertychange",Av)):e==="focusout"&&op()}function XS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(Ps)}function $S(e,t){if(e==="click")return Iu(t)}function ZS(e,t){if(e==="input"||e==="change")return Iu(t)}function JS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ke=typeof Object.is=="function"?Object.is:JS;function Hs(e,t){if(ke(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!zh.call(t,r)||!ke(e[r],t[r]))return!1}return!0}function up(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cp(e,t){var n=up(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=up(n)}}function wv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xv(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zo(e.document)}return t}function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var WS=zn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Gh=null,Ss=null,Qh=!1;function hp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qh||Gr==null||Gr!==zo(i)||(i=Gr,"selectionStart"in i&&md(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ss&&Hs(Ss,i)||(Ss=i,i=nu(Gh,"onSelect"),0<i.length&&(t=new Nu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Gr)))}function $i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qr={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Gc={},Rv={};zn&&(Rv=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function Er(e){if(Gc[e])return Gc[e];if(!Qr[e])return e;var t=Qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rv)return Gc[e]=t[n];return e}var Cv=Er("animationend"),Dv=Er("animationiteration"),Nv=Er("animationstart"),t2=Er("transitionrun"),e2=Er("transitionstart"),n2=Er("transitioncancel"),Vv=Er("transitionend"),Iv=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function ln(e,t){Iv.set(e,t),vr(t,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},He=[],Yr=0,gd=0;function Mu(){for(var e=Yr,t=gd=Yr=0;t<e;){var n=He[t];He[t++]=null;var i=He[t];He[t++]=null;var r=He[t];He[t++]=null;var a=He[t];if(He[t++]=null,i!==null&&r!==null){var s=i.pending;s===null?r.next=r:(r.next=s.next,s.next=r),i.pending=r}a!==0&&Mv(n,r,a)}}function Ou(e,t,n,i){He[Yr++]=e,He[Yr++]=t,He[Yr++]=n,He[Yr++]=i,gd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function pd(e,t,n,i){return Ou(e,t,n,i),Bo(e)}function Tr(e,t){return Ou(e,null,null,t),Bo(e)}function Mv(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(r=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,r&&t!==null&&(r=31-je(n),e=a.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),a):null}function Bo(e){if(50<Is)throw Is=0,gf=null,Error(j(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Kr={};function i2(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,n,i){return new i2(e,t,n,i)}function yd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,t){var n=e.alternate;return n===null?(n=Ie(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ov(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function go(e,t,n,i,r,a){var s=0;if(i=e,typeof e=="function")yd(e)&&(s=1);else if(typeof e=="string")s=oA(e,n,mn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Oh:return e=Ie(31,n,t,r),e.elementType=Oh,e.lanes=a,e;case Br:return ar(n.children,r,a,t);case W0:s=8,r|=24;break;case Vh:return e=Ie(12,n,t,r|2),e.elementType=Vh,e.lanes=a,e;case Ih:return e=Ie(13,n,t,r),e.elementType=Ih,e.lanes=a,e;case Mh:return e=Ie(19,n,t,r),e.elementType=Mh,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vn:s=10;break t;case tv:s=9;break t;case id:s=11;break t;case rd:s=14;break t;case ii:s=16,i=null;break t}s=29,n=Error(j(130,e===null?"null":typeof e,"")),i=null}return t=Ie(s,n,t,r),t.elementType=e,t.type=i,t.lanes=a,t}function ar(e,t,n,i){return e=Ie(7,e,i,t),e.lanes=n,e}function Qc(e,t,n){return e=Ie(6,e,null,t),e.lanes=n,e}function Lv(e){var t=Ie(18,null,null,0);return t.stateNode=e,t}function Yc(e,t,n){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fp=new WeakMap;function Ye(e,t){if(typeof e=="object"&&e!==null){var n=fp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qg(t)},fp.set(e,t),t)}return{value:e,source:t,stack:Qg(t)}}var Xr=[],$r=0,Po=null,qs=0,Fe=[],Ge=0,Di=null,hn=1,fn="";function Cn(e,t){Xr[$r++]=qs,Xr[$r++]=Po,Po=e,qs=t}function Uv(e,t,n){Fe[Ge++]=hn,Fe[Ge++]=fn,Fe[Ge++]=Di,Di=e;var i=hn;e=fn;var r=32-je(i)-1;i&=~(1<<r),n+=1;var a=32-je(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,hn=1<<32-je(t)+r|n<<r|i,fn=a+e}else hn=1<<a|n<<r|i,fn=e}function vd(e){e.return!==null&&(Cn(e,1),Uv(e,1,0))}function _d(e){for(;e===Po;)Po=Xr[--$r],Xr[$r]=null,qs=Xr[--$r],Xr[$r]=null;for(;e===Di;)Di=Fe[--Ge],Fe[Ge]=null,fn=Fe[--Ge],Fe[Ge]=null,hn=Fe[--Ge],Fe[Ge]=null}function jv(e,t){Fe[Ge++]=hn,Fe[Ge++]=fn,Fe[Ge++]=Di,hn=t.id,fn=t.overflow,Di=e}var ae=null,At=null,lt=!1,pi=null,Ke=!1,Kh=Error(j(519));function Ni(e){var t=Error(j(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fs(Ye(t,e)),Kh}function dp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[re]=e,t[Re]=i,n){case"dialog":nt("cancel",t),nt("close",t);break;case"iframe":case"object":case"embed":nt("load",t);break;case"video":case"audio":for(n=0;n<Ks.length;n++)nt(Ks[n],t);break;case"source":nt("error",t);break;case"img":case"image":case"link":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"input":nt("invalid",t),dv(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":nt("invalid",t);break;case"textarea":nt("invalid",t),gv(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||_E(t.textContent,n)?(i.popover!=null&&(nt("beforetoggle",t),nt("toggle",t)),i.onScroll!=null&&nt("scroll",t),i.onScrollEnd!=null&&nt("scrollend",t),i.onClick!=null&&(t.onclick=In),t=!0):t=!1,t||Ni(e,!0)}function mp(e){for(ae=e.return;ae;)switch(ae.tag){case 5:case 31:case 13:Ke=!1;return;case 27:case 3:Ke=!0;return;default:ae=ae.return}}function Vr(e){if(e!==ae)return!1;if(!lt)return mp(e),lt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ef(e.type,e.memoizedProps)),n=!n),n&&At&&Ni(e),mp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));At=ty(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));At=ty(e)}else t===27?(t=At,Bi(e.type)?(e=Af,Af=null,At=e):At=t):At=ae?Ze(e.stateNode.nextSibling):null;return!0}function cr(){At=ae=null,lt=!1}function Kc(){var e=pi;return e!==null&&(Se===null?Se=e:Se.push.apply(Se,e),pi=null),e}function Fs(e){pi===null?pi=[e]:pi.push(e)}var Xh=En(null),br=null,Mn=null;function ai(e,t,n){Tt(Xh,t._currentValue),t._currentValue=n}function Ln(e){e._currentValue=Xh.current,ee(Xh)}function $h(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Zh(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){var s=r.child;a=a.firstContext;t:for(;a!==null;){var o=a;a=r;for(var u=0;u<t.length;u++)if(o.context===t[u]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),$h(a.return,n,e),i||(s=null);break t}a=o.next}}else if(r.tag===18){if(s=r.return,s===null)throw Error(j(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),$h(s,n,e),s=null}else s=r.child;if(s!==null)s.return=r;else for(s=r;s!==null;){if(s===e){s=null;break}if(r=s.sibling,r!==null){r.return=s.return,s=r;break}s=s.return}r=s}}function Da(e,t,n,i){e=null;for(var r=t,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var s=r.alternate;if(s===null)throw Error(j(387));if(s=s.memoizedProps,s!==null){var o=r.type;ke(r.pendingProps.value,s.value)||(e!==null?e.push(o):e=[o])}}else if(r===Oo.current){if(s=r.alternate,s===null)throw Error(j(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push($s):e=[$s])}r=r.return}e!==null&&Zh(t,e,n,i),t.flags|=262144}function Ho(e){for(e=e.firstContext;e!==null;){if(!ke(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hr(e){br=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function le(e){return zv(br,e)}function Xl(e,t){return br===null&&hr(e),zv(e,t)}function zv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Mn===null){if(e===null)throw Error(j(308));Mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mn=Mn.next=t;return n}var r2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},a2=$t.unstable_scheduleCallback,s2=$t.unstable_NormalPriority,Ht={$$typeof:Vn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new r2,data:new Map,refCount:0}}function gl(e){e.refCount--,e.refCount===0&&a2(s2,function(){e.controller.abort()})}var As=null,Jh=0,fa=0,ea=null;function l2(e,t){if(As===null){var n=As=[];Jh=0,fa=Gd(),ea={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Jh++,t.then(gp,gp),t}function gp(){if(--Jh===0&&As!==null){ea!==null&&(ea.status="fulfilled");var e=As;As=null,fa=0,ea=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function o2(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var pp=X.S;X.S=function(e,t){J_=Le(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&l2(e,t),pp!==null&&pp(e,t)};var sr=En(null);function Td(){var e=sr.current;return e!==null?e:Et.pooledCache}function po(e,t){t===null?Tt(sr,sr.current):Tt(sr,t.pool)}function kv(){var e=Td();return e===null?null:{parent:Ht._currentValue,pool:e}}var Na=Error(j(460)),bd=Error(j(474)),Lu=Error(j(542)),qo={then:function(){}};function yp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(In,In),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_p(e),e;default:if(typeof t.status=="string")t.then(In,In);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(j(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_p(e),e}throw lr=t,Na}}function Wi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(lr=n,Na):n}}var lr=null;function vp(){if(lr===null)throw Error(j(459));var e=lr;return lr=null,e}function _p(e){if(e===Na||e===Lu)throw Error(j(483))}var na=null,Gs=0;function $l(e){var t=Gs;return Gs+=1,na===null&&(na=[]),Bv(na,e,t)}function as(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Zl(e,t){throw t.$$typeof===Kb?Error(j(525)):(e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pv(e){function t(E,T){if(e){var A=E.deletions;A===null?(E.deletions=[T],E.flags|=16):A.push(T)}}function n(E,T){if(!e)return null;for(;T!==null;)t(E,T),T=T.sibling;return null}function i(E){for(var T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function r(E,T){return E=On(E,T),E.index=0,E.sibling=null,E}function a(E,T,A){return E.index=A,e?(A=E.alternate,A!==null?(A=A.index,A<T?(E.flags|=67108866,T):A):(E.flags|=67108866,T)):(E.flags|=1048576,T)}function s(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function o(E,T,A,V){return T===null||T.tag!==6?(T=Qc(A,E.mode,V),T.return=E,T):(T=r(T,A),T.return=E,T)}function u(E,T,A,V){var L=A.type;return L===Br?f(E,T,A.props.children,V,A.key):T!==null&&(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ii&&Wi(L)===T.type)?(T=r(T,A.props),as(T,A),T.return=E,T):(T=go(A.type,A.key,A.props,null,E.mode,V),as(T,A),T.return=E,T)}function c(E,T,A,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Yc(A,E.mode,V),T.return=E,T):(T=r(T,A.children||[]),T.return=E,T)}function f(E,T,A,V,L){return T===null||T.tag!==7?(T=ar(A,E.mode,V,L),T.return=E,T):(T=r(T,A),T.return=E,T)}function g(E,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Qc(""+T,E.mode,A),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ql:return A=go(T.type,T.key,T.props,null,E.mode,A),as(A,T),A.return=E,A;case hs:return T=Yc(T,E.mode,A),T.return=E,T;case ii:return T=Wi(T),g(E,T,A)}if(fs(T)||ns(T))return T=ar(T,E.mode,A,null),T.return=E,T;if(typeof T.then=="function")return g(E,$l(T),A);if(T.$$typeof===Vn)return g(E,Xl(E,T),A);Zl(E,T)}return null}function m(E,T,A,V){var L=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return L!==null?null:o(E,T,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ql:return A.key===L?u(E,T,A,V):null;case hs:return A.key===L?c(E,T,A,V):null;case ii:return A=Wi(A),m(E,T,A,V)}if(fs(A)||ns(A))return L!==null?null:f(E,T,A,V,null);if(typeof A.then=="function")return m(E,T,$l(A),V);if(A.$$typeof===Vn)return m(E,T,Xl(E,A),V);Zl(E,A)}return null}function p(E,T,A,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return E=E.get(A)||null,o(T,E,""+V,L);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ql:return E=E.get(V.key===null?A:V.key)||null,u(T,E,V,L);case hs:return E=E.get(V.key===null?A:V.key)||null,c(T,E,V,L);case ii:return V=Wi(V),p(E,T,A,V,L)}if(fs(V)||ns(V))return E=E.get(A)||null,f(T,E,V,L,null);if(typeof V.then=="function")return p(E,T,A,$l(V),L);if(V.$$typeof===Vn)return p(E,T,A,Xl(T,V),L);Zl(T,V)}return null}function C(E,T,A,V){for(var L=null,P=null,y=T,_=T=0,b=null;y!==null&&_<A.length;_++){y.index>_?(b=y,y=null):b=y.sibling;var w=m(E,y,A[_],V);if(w===null){y===null&&(y=b);break}e&&y&&w.alternate===null&&t(E,y),T=a(w,T,_),P===null?L=w:P.sibling=w,P=w,y=b}if(_===A.length)return n(E,y),lt&&Cn(E,_),L;if(y===null){for(;_<A.length;_++)y=g(E,A[_],V),y!==null&&(T=a(y,T,_),P===null?L=y:P.sibling=y,P=y);return lt&&Cn(E,_),L}for(y=i(y);_<A.length;_++)b=p(y,E,_,A[_],V),b!==null&&(e&&b.alternate!==null&&y.delete(b.key===null?_:b.key),T=a(b,T,_),P===null?L=b:P.sibling=b,P=b);return e&&y.forEach(function(R){return t(E,R)}),lt&&Cn(E,_),L}function N(E,T,A,V){if(A==null)throw Error(j(151));for(var L=null,P=null,y=T,_=T=0,b=null,w=A.next();y!==null&&!w.done;_++,w=A.next()){y.index>_?(b=y,y=null):b=y.sibling;var R=m(E,y,w.value,V);if(R===null){y===null&&(y=b);break}e&&y&&R.alternate===null&&t(E,y),T=a(R,T,_),P===null?L=R:P.sibling=R,P=R,y=b}if(w.done)return n(E,y),lt&&Cn(E,_),L;if(y===null){for(;!w.done;_++,w=A.next())w=g(E,w.value,V),w!==null&&(T=a(w,T,_),P===null?L=w:P.sibling=w,P=w);return lt&&Cn(E,_),L}for(y=i(y);!w.done;_++,w=A.next())w=p(y,E,_,w.value,V),w!==null&&(e&&w.alternate!==null&&y.delete(w.key===null?_:w.key),T=a(w,T,_),P===null?L=w:P.sibling=w,P=w);return e&&y.forEach(function(I){return t(E,I)}),lt&&Cn(E,_),L}function D(E,T,A,V){if(typeof A=="object"&&A!==null&&A.type===Br&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ql:t:{for(var L=A.key;T!==null;){if(T.key===L){if(L=A.type,L===Br){if(T.tag===7){n(E,T.sibling),V=r(T,A.props.children),V.return=E,E=V;break t}}else if(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ii&&Wi(L)===T.type){n(E,T.sibling),V=r(T,A.props),as(V,A),V.return=E,E=V;break t}n(E,T);break}else t(E,T);T=T.sibling}A.type===Br?(V=ar(A.props.children,E.mode,V,A.key),V.return=E,E=V):(V=go(A.type,A.key,A.props,null,E.mode,V),as(V,A),V.return=E,E=V)}return s(E);case hs:t:{for(L=A.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){n(E,T.sibling),V=r(T,A.children||[]),V.return=E,E=V;break t}else{n(E,T);break}else t(E,T);T=T.sibling}V=Yc(A,E.mode,V),V.return=E,E=V}return s(E);case ii:return A=Wi(A),D(E,T,A,V)}if(fs(A))return C(E,T,A,V);if(ns(A)){if(L=ns(A),typeof L!="function")throw Error(j(150));return A=L.call(A),N(E,T,A,V)}if(typeof A.then=="function")return D(E,T,$l(A),V);if(A.$$typeof===Vn)return D(E,T,Xl(E,A),V);Zl(E,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(n(E,T.sibling),V=r(T,A),V.return=E,E=V):(n(E,T),V=Qc(A,E.mode,V),V.return=E,E=V),s(E)):n(E,T)}return function(E,T,A,V){try{Gs=0;var L=D(E,T,A,V);return na=null,L}catch(y){if(y===Na||y===Lu)throw y;var P=Ie(29,y,null,E.mode);return P.lanes=V,P.return=E,P}finally{}}}var fr=Pv(!0),Hv=Pv(!1),ri=!1;function Sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ht&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Bo(e),Mv(e,null,n),t}return Ou(e,i,t,n),Bo(e)}function ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,sv(e,n)}}function Xc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=t:a=a.next=t}else r=a=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var tf=!1;function xs(){if(tf){var e=ea;if(e!==null)throw e}}function Rs(e,t,n,i){tf=!1;var r=e.updateQueue;ri=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==s&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(a!==null){var g=r.baseState;s=0,f=c=u=null,o=a;do{var m=o.lane&-536870913,p=m!==o.lane;if(p?(st&m)===m:(i&m)===m){m!==0&&m===fa&&(tf=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var C=e,N=o;m=t;var D=n;switch(N.tag){case 1:if(C=N.payload,typeof C=="function"){g=C.call(D,g,m);break t}g=C;break t;case 3:C.flags=C.flags&-65537|128;case 0:if(C=N.payload,m=typeof C=="function"?C.call(D,g,m):C,m==null)break t;g=Ct({},g,m);break t;case 2:ri=!0}}m=o.callback,m!==null&&(e.flags|=64,p&&(e.flags|=8192),p=r.callbacks,p===null?r.callbacks=[m]:p.push(m))}else p={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=p,u=g):f=f.next=p,s|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;p=o,o=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);f===null&&(u=g),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,a===null&&(r.shared.lanes=0),Ii|=s,e.lanes=s,e.memoizedState=g}}function qv(e,t){if(typeof e!="function")throw Error(j(191,e));e.call(t)}function Fv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)qv(n[e],t)}var da=En(null),Fo=En(0);function Ep(e,t){e=Hn,Tt(Fo,e),Tt(da,t),Hn=e|t.baseLanes}function ef(){Tt(Fo,Hn),Tt(da,da.current)}function Ad(){Hn=Fo.current,ee(da),ee(Fo)}var Be=En(null),$e=null;function si(e){var t=e.alternate;Tt(Ut,Ut.current&1),Tt(Be,e),$e===null&&(t===null||da.current!==null||t.memoizedState!==null)&&($e=e)}function nf(e){Tt(Ut,Ut.current),Tt(Be,e),$e===null&&($e=e)}function Gv(e){e.tag===22?(Tt(Ut,Ut.current),Tt(Be,e),$e===null&&($e=e)):li()}function li(){Tt(Ut,Ut.current),Tt(Be,Be.current)}function Ve(e){ee(Be),$e===e&&($e=null),ee(Ut)}var Ut=En(0);function Go(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||bf(n)||Sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kn=0,tt=null,yt=null,Bt=null,Qo=!1,ia=!1,dr=!1,Yo=0,Qs=0,ra=null,u2=0;function Mt(){throw Error(j(321))}function wd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ke(e[n],t[n]))return!1;return!0}function xd(e,t,n,i,r,a){return kn=a,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?b_:jd,dr=!1,a=n(i,r),dr=!1,ia&&(a=Yv(t,n,i,r)),Qv(e),a}function Qv(e){X.H=Ys;var t=yt!==null&&yt.next!==null;if(kn=0,Bt=yt=tt=null,Qo=!1,Qs=0,ra=null,t)throw Error(j(300));e===null||qt||(e=e.dependencies,e!==null&&Ho(e)&&(qt=!0))}function Yv(e,t,n,i){tt=e;var r=0;do{if(ia&&(ra=null),Qs=0,ia=!1,25<=r)throw Error(j(301));if(r+=1,Bt=yt=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}X.H=S_,a=t(n,i)}while(ia);return a}function c2(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?pl(t):t,e=e.useState()[0],(yt!==null?yt.memoizedState:null)!==e&&(tt.flags|=1024),t}function Rd(){var e=Yo!==0;return Yo=0,e}function Cd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Dd(e){if(Qo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qo=!1}kn=0,Bt=yt=tt=null,ia=!1,Qs=Yo=0,ra=null}function pe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?tt.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function zt(){if(yt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=Bt===null?tt.memoizedState:Bt.next;if(t!==null)Bt=t,yt=e;else{if(e===null)throw tt.alternate===null?Error(j(467)):Error(j(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Bt===null?tt.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(e){var t=Qs;return Qs+=1,ra===null&&(ra=[]),e=Bv(ra,e,t),t=tt,(Bt===null?t.memoizedState:Bt.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?b_:jd),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pl(e);if(e.$$typeof===Vn)return le(e)}throw Error(j(438,String(e)))}function Nd(e){var t=null,n=tt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=tt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Uu(),tt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Xb;return t.index++,n}function Bn(e,t){return typeof t=="function"?t(e):t}function yo(e){var t=zt();return Vd(t,yt,e)}function Vd(e,t,n){var i=e.queue;if(i===null)throw Error(j(311));i.lastRenderedReducer=n;var r=e.baseQueue,a=i.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}t.baseQueue=r=a,i.pending=null}if(a=e.baseState,r===null)e.memoizedState=a;else{t=r.next;var o=s=null,u=null,c=t,f=!1;do{var g=c.lane&-536870913;if(g!==c.lane?(st&g)===g:(kn&g)===g){var m=c.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),g===fa&&(f=!0);else if((kn&m)===m){c=c.next,m===fa&&(f=!0);continue}else g={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=g,s=a):u=u.next=g,tt.lanes|=m,Ii|=m;g=c.action,dr&&n(a,g),a=c.hasEagerState?c.eagerState:n(a,g)}else m={lane:g,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,s=a):u=u.next=m,tt.lanes|=g,Ii|=g;c=c.next}while(c!==null&&c!==t);if(u===null?s=a:u.next=o,!ke(a,e.memoizedState)&&(qt=!0,f&&(n=ea,n!==null)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,i.lastRenderedState=a}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function $c(e){var t=zt(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=e(a,s.action),s=s.next;while(s!==r);ke(a,t.memoizedState)||(qt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Kv(e,t,n){var i=tt,r=zt(),a=lt;if(a){if(n===void 0)throw Error(j(407));n=n()}else n=t();var s=!ke((yt||r).memoizedState,n);if(s&&(r.memoizedState=n,qt=!0),r=r.queue,Id(Zv.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||Bt!==null&&Bt.memoizedState.tag&1){if(i.flags|=2048,ma(9,{destroy:void 0},$v.bind(null,i,r,n,t),null),Et===null)throw Error(j(349));a||kn&127||Xv(i,t,n)}return n}function Xv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tt.updateQueue,t===null?(t=Uu(),tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $v(e,t,n,i){t.value=n,t.getSnapshot=i,Jv(t)&&Wv(e)}function Zv(e,t,n){return n(function(){Jv(t)&&Wv(e)})}function Jv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ke(e,n)}catch{return!0}}function Wv(e){var t=Tr(e,2);t!==null&&xe(t,e,2)}function rf(e){var t=pe();if(typeof e=="function"){var n=e;if(e=n(),dr){ui(!0);try{n()}finally{ui(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function t_(e,t,n,i){return e.baseState=n,Vd(e,yt,typeof i=="function"?i:Bn)}function h2(e,t,n,i,r){if(ku(e))throw Error(j(485));if(e=t.action,e!==null){var a={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};X.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,e_(t,a)):(a.next=n.next,t.pending=n.next=a)}}function e_(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var a=X.T,s={};X.T=s;try{var o=n(r,i),u=X.S;u!==null&&u(s,o),Tp(e,t,o)}catch(c){af(e,t,c)}finally{a!==null&&s.types!==null&&(a.types=s.types),X.T=a}}else try{a=n(r,i),Tp(e,t,a)}catch(c){af(e,t,c)}}function Tp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){bp(e,t,i)},function(i){return af(e,t,i)}):bp(e,t,n)}function bp(e,t,n){t.status="fulfilled",t.value=n,n_(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,e_(e,n)))}function af(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,n_(t),t=t.next;while(t!==i)}e.action=null}function n_(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function i_(e,t){return t}function Sp(e,t){if(lt){var n=Et.formState;if(n!==null){t:{var i=tt;if(lt){if(At){e:{for(var r=At,a=Ke;r.nodeType!==8;){if(!a){r=null;break e}if(r=Ze(r.nextSibling),r===null){r=null;break e}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){At=Ze(r.nextSibling),i=r.data==="F!";break t}}Ni(i)}i=!1}i&&(t=n[0])}}return n=pe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:t},n.queue=i,n=__.bind(null,tt,i),i.dispatch=n,i=rf(!1),a=Ud.bind(null,tt,!1,i.queue),i=pe(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=h2.bind(null,tt,r,a,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ap(e){var t=zt();return r_(t,yt,e)}function r_(e,t,n){if(t=Vd(e,t,i_)[0],e=yo(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=pl(t)}catch(s){throw s===Na?Lu:s}else i=t;t=zt();var r=t.queue,a=r.dispatch;return n!==t.memoizedState&&(tt.flags|=2048,ma(9,{destroy:void 0},f2.bind(null,r,n),null)),[i,a,e]}function f2(e,t){e.action=t}function wp(e){var t=zt(),n=yt;if(n!==null)return r_(t,n,e);zt(),t=t.memoizedState,n=zt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function ma(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=tt.updateQueue,t===null&&(t=Uu(),tt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function a_(){return zt().memoizedState}function vo(e,t,n,i){var r=pe();tt.flags|=e,r.memoizedState=ma(1|t,{destroy:void 0},n,i===void 0?null:i)}function zu(e,t,n,i){var r=zt();i=i===void 0?null:i;var a=r.memoizedState.inst;yt!==null&&i!==null&&wd(i,yt.memoizedState.deps)?r.memoizedState=ma(t,a,n,i):(tt.flags|=e,r.memoizedState=ma(1|t,a,n,i))}function xp(e,t){vo(8390656,8,e,t)}function Id(e,t){zu(2048,8,e,t)}function d2(e){tt.flags|=4;var t=tt.updateQueue;if(t===null)t=Uu(),tt.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function s_(e){var t=zt().memoizedState;return d2({ref:t,nextImpl:e}),function(){if(ht&2)throw Error(j(440));return t.impl.apply(void 0,arguments)}}function l_(e,t){return zu(4,2,e,t)}function o_(e,t){return zu(4,4,e,t)}function u_(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function c_(e,t,n){n=n!=null?n.concat([e]):null,zu(4,4,u_.bind(null,t,e),n)}function Md(){}function h_(e,t){var n=zt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&wd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function f_(e,t){var n=zt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&wd(t,i[1]))return i[0];if(i=e(),dr){ui(!0);try{e()}finally{ui(!1)}}return n.memoizedState=[i,t],i}function Od(e,t,n){return n===void 0||kn&1073741824&&!(st&261930)?e.memoizedState=t:(e.memoizedState=n,e=tE(),tt.lanes|=e,Ii|=e,n)}function d_(e,t,n,i){return ke(n,t)?n:da.current!==null?(e=Od(e,n,i),ke(e,t)||(qt=!0),e):!(kn&42)||kn&1073741824&&!(st&261930)?(qt=!0,e.memoizedState=n):(e=tE(),tt.lanes|=e,Ii|=e,t)}function m_(e,t,n,i,r){var a=ft.p;ft.p=a!==0&&8>a?a:8;var s=X.T,o={};X.T=o,Ud(e,!1,t,n);try{var u=r(),c=X.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=o2(u,i);Cs(e,t,f,ze(e))}else Cs(e,t,i,ze(e))}catch(g){Cs(e,t,{then:function(){},status:"rejected",reason:g},ze())}finally{ft.p=a,s!==null&&o.types!==null&&(s.types=o.types),X.T=s}}function m2(){}function sf(e,t,n,i){if(e.tag!==5)throw Error(j(476));var r=g_(e).queue;m_(e,r,t,rr,n===null?m2:function(){return p_(e),n(i)})}function g_(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:rr,baseState:rr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:rr},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function p_(e){var t=g_(e);t.next===null&&(t=e.alternate.memoizedState),Cs(e,t.next.queue,{},ze())}function Ld(){return le($s)}function y_(){return zt().memoizedState}function v_(){return zt().memoizedState}function g2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=ze();e=yi(n);var i=vi(t,e,n);i!==null&&(xe(i,t,n),ws(i,t,n)),t={cache:Ed()},e.payload=t;return}t=t.return}}function p2(e,t,n){var i=ze();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ku(e)?E_(t,n):(n=pd(e,t,n,i),n!==null&&(xe(n,e,i),T_(n,t,i)))}function __(e,t,n){var i=ze();Cs(e,t,n,i)}function Cs(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ku(e))E_(t,r);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,ke(o,s))return Ou(e,t,r,0),Et===null&&Mu(),!1}catch{}finally{}if(n=pd(e,t,r,i),n!==null)return xe(n,e,i),T_(n,t,i),!0}return!1}function Ud(e,t,n,i){if(i={lane:2,revertLane:Gd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(t)throw Error(j(479))}else t=pd(e,n,i,2),t!==null&&xe(t,e,2)}function ku(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function E_(e,t){ia=Qo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function T_(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,sv(e,n)}}var Ys={readContext:le,use:ju,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Ys.useEffectEvent=Mt;var b_={readContext:le,use:ju,useCallback:function(e,t){return pe().memoizedState=[e,t===void 0?null:t],e},useContext:le,useEffect:xp,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,vo(4194308,4,u_.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4194308,4,e,t)},useInsertionEffect:function(e,t){vo(4,2,e,t)},useMemo:function(e,t){var n=pe();t=t===void 0?null:t;var i=e();if(dr){ui(!0);try{e()}finally{ui(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=pe();if(n!==void 0){var r=n(t);if(dr){ui(!0);try{n(t)}finally{ui(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=p2.bind(null,tt,e),[i.memoizedState,e]},useRef:function(e){var t=pe();return e={current:e},t.memoizedState=e},useState:function(e){e=rf(e);var t=e.queue,n=__.bind(null,tt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Md,useDeferredValue:function(e,t){var n=pe();return Od(n,e,t)},useTransition:function(){var e=rf(!1);return e=m_.bind(null,tt,e.queue,!0,!1),pe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=tt,r=pe();if(lt){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),Et===null)throw Error(j(349));st&127||Xv(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,xp(Zv.bind(null,i,a,e),[e]),i.flags|=2048,ma(9,{destroy:void 0},$v.bind(null,i,a,n,t),null),n},useId:function(){var e=pe(),t=Et.identifierPrefix;if(lt){var n=fn,i=hn;n=(i&~(1<<32-je(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Yo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=u2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ld,useFormState:Sp,useActionState:Sp,useOptimistic:function(e){var t=pe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ud.bind(null,tt,!0,n),n.dispatch=t,[e,t]},useMemoCache:Nd,useCacheRefresh:function(){return pe().memoizedState=g2.bind(null,tt)},useEffectEvent:function(e){var t=pe(),n={impl:e};return t.memoizedState=n,function(){if(ht&2)throw Error(j(440));return n.impl.apply(void 0,arguments)}}},jd={readContext:le,use:ju,useCallback:h_,useContext:le,useEffect:Id,useImperativeHandle:c_,useInsertionEffect:l_,useLayoutEffect:o_,useMemo:f_,useReducer:yo,useRef:a_,useState:function(){return yo(Bn)},useDebugValue:Md,useDeferredValue:function(e,t){var n=zt();return d_(n,yt.memoizedState,e,t)},useTransition:function(){var e=yo(Bn)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:pl(e),t]},useSyncExternalStore:Kv,useId:y_,useHostTransitionStatus:Ld,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,t){var n=zt();return t_(n,yt,e,t)},useMemoCache:Nd,useCacheRefresh:v_};jd.useEffectEvent=s_;var S_={readContext:le,use:ju,useCallback:h_,useContext:le,useEffect:Id,useImperativeHandle:c_,useInsertionEffect:l_,useLayoutEffect:o_,useMemo:f_,useReducer:$c,useRef:a_,useState:function(){return $c(Bn)},useDebugValue:Md,useDeferredValue:function(e,t){var n=zt();return yt===null?Od(n,e,t):d_(n,yt.memoizedState,e,t)},useTransition:function(){var e=$c(Bn)[0],t=zt().memoizedState;return[typeof e=="boolean"?e:pl(e),t]},useSyncExternalStore:Kv,useId:y_,useHostTransitionStatus:Ld,useFormState:wp,useActionState:wp,useOptimistic:function(e,t){var n=zt();return yt!==null?t_(n,yt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Nd,useCacheRefresh:v_};S_.useEffectEvent=s_;function Zc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ze(),r=yi(i);r.payload=t,n!=null&&(r.callback=n),t=vi(e,r,i),t!==null&&(xe(t,e,i),ws(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ze(),r=yi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=vi(e,r,i),t!==null&&(xe(t,e,i),ws(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),i=yi(n);i.tag=2,t!=null&&(i.callback=t),t=vi(e,i,n),t!==null&&(xe(t,e,n),ws(t,e,n))}};function Rp(e,t,n,i,r,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,s):t.prototype&&t.prototype.isPureReactComponent?!Hs(n,i)||!Hs(r,a):!0}function Cp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&lf.enqueueReplaceState(t,t.state,null)}function mr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ct({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function A_(e){ko(e)}function w_(e){console.error(e)}function x_(e){ko(e)}function Ko(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Dp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function of(e,t,n){return n=yi(n),n.tag=3,n.payload={element:null},n.callback=function(){Ko(e,t)},n}function R_(e){return e=yi(e),e.tag=3,e}function C_(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=i.value;e.payload=function(){return r(a)},e.callback=function(){Dp(t,n,i)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){Dp(t,n,i),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function y2(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Da(t,n,r,!0),n=Be.current,n!==null){switch(n.tag){case 31:case 13:return $e===null?Wo():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===qo?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),oh(e,i,r)),!1;case 22:return n.flags|=65536,i===qo?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),oh(e,i,r)),!1}throw Error(j(435,n.tag))}return oh(e,i,r),Wo(),!1}if(lt)return t=Be.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==Kh&&(e=Error(j(422),{cause:i}),Fs(Ye(e,n)))):(i!==Kh&&(t=Error(j(423),{cause:i}),Fs(Ye(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=Ye(i,n),r=of(e.stateNode,i,r),Xc(e,r),Ot!==4&&(Ot=2)),!1;var a=Error(j(520),{cause:i});if(a=Ye(a,n),Vs===null?Vs=[a]:Vs.push(a),Ot!==4&&(Ot=2),t===null)return!0;i=Ye(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=of(n.stateNode,i,e),Xc(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(_i===null||!_i.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=R_(r),C_(r,e,n,i),Xc(n,r),!1}n=n.return}while(n!==null);return!1}var zd=Error(j(461)),qt=!1;function ne(e,t,n,i){t.child=e===null?Hv(t,null,n,i):fr(t,e.child,n,i)}function Np(e,t,n,i,r){n=n.render;var a=t.ref;if("ref"in i){var s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}else s=i;return hr(t),i=xd(e,t,n,s,a,r),o=Rd(),e!==null&&!qt?(Cd(e,t,r),Pn(e,t,r)):(lt&&o&&vd(t),t.flags|=1,ne(e,t,i,r),t.child)}function Vp(e,t,n,i,r){if(e===null){var a=n.type;return typeof a=="function"&&!yd(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,D_(e,t,a,i,r)):(e=go(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!kd(e,r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(s,i)&&e.ref===t.ref)return Pn(e,t,r)}return t.flags|=1,e=On(a,i),e.ref=t.ref,e.return=t,t.child=e}function D_(e,t,n,i,r){if(e!==null){var a=e.memoizedProps;if(Hs(a,i)&&e.ref===t.ref)if(qt=!1,t.pendingProps=i=a,kd(e,r))e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,Pn(e,t,r)}return uf(e,t,n,i,r)}function N_(e,t,n,i){var r=i.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(i=t.child=e.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~a}else i=0,t.child=null;return Ip(e,t,a,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&po(t,a!==null?a.cachePool:null),a!==null?Ep(t,a):ef(),Gv(t);else return i=t.lanes=536870912,Ip(e,t,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(po(t,a.cachePool),Ep(t,a),li(),t.memoizedState=null):(e!==null&&po(t,null),ef(),li());return ne(e,t,r,n),t.child}function ms(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ip(e,t,n,i,r){var a=Td();return a=a===null?null:{parent:Ht._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&po(t,null),ef(),Gv(t),e!==null&&Da(e,t,i,!0),t.childLanes=r,null}function _o(e,t){return t=Xo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Mp(e,t,n){return fr(t,e.child,null,n),e=_o(t,t.pendingProps),e.flags|=2,Ve(t),t.memoizedState=null,e}function v2(e,t,n){var i=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(lt){if(i.mode==="hidden")return e=_o(t,i),t.lanes=536870912,ms(null,e);if(nf(t),(e=At)?(e=bE(e,Ke),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Di!==null?{id:hn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},n=Lv(e),n.return=t,t.child=n,ae=t,At=null)):e=null,e===null)throw Ni(t);return t.lanes=536870912,null}return _o(t,i)}var a=e.memoizedState;if(a!==null){var s=a.dehydrated;if(nf(t),r)if(t.flags&256)t.flags&=-257,t=Mp(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(j(558));else if(qt||Da(e,t,n,!1),r=(n&e.childLanes)!==0,qt||r){if(i=Et,i!==null&&(s=lv(i,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Tr(e,s),xe(i,e,s),zd;Wo(),t=Mp(e,t,n)}else e=a.treeContext,At=Ze(s.nextSibling),ae=t,lt=!0,pi=null,Ke=!1,e!==null&&jv(t,e),t=_o(t,i),t.flags|=4096;return t}return e=On(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Eo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(j(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function uf(e,t,n,i,r){return hr(t),n=xd(e,t,n,i,void 0,r),i=Rd(),e!==null&&!qt?(Cd(e,t,r),Pn(e,t,r)):(lt&&i&&vd(t),t.flags|=1,ne(e,t,n,r),t.child)}function Op(e,t,n,i,r,a){return hr(t),t.updateQueue=null,n=Yv(t,i,n,r),Qv(e),i=Rd(),e!==null&&!qt?(Cd(e,t,a),Pn(e,t,a)):(lt&&i&&vd(t),t.flags|=1,ne(e,t,n,a),t.child)}function Lp(e,t,n,i,r){if(hr(t),t.stateNode===null){var a=Kr,s=n.contextType;typeof s=="object"&&s!==null&&(a=le(s)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=lf,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},Sd(t),s=n.contextType,a.context=typeof s=="object"&&s!==null?le(s):Kr,a.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Zc(t,n,s,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&lf.enqueueReplaceState(a,a.state,null),Rs(t,i,a,r),xs(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var o=t.memoizedProps,u=mr(n,o);a.props=u;var c=a.context,f=n.contextType;s=Kr,typeof f=="object"&&f!==null&&(s=le(f));var g=n.getDerivedStateFromProps;f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&Cp(t,a,i,s),ri=!1;var m=t.memoizedState;a.state=m,Rs(t,i,a,r),xs(),c=t.memoizedState,o||m!==c||ri?(typeof g=="function"&&(Zc(t,n,g,i),c=t.memoizedState),(u=ri||Rp(t,n,u,i,m,c,s))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),a.props=i,a.state=c,a.context=s,i=u):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Wh(e,t),s=t.memoizedProps,f=mr(n,s),a.props=f,g=t.pendingProps,m=a.context,c=n.contextType,u=Kr,typeof c=="object"&&c!==null&&(u=le(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==g||m!==u)&&Cp(t,a,i,u),ri=!1,m=t.memoizedState,a.state=m,Rs(t,i,a,r),xs();var p=t.memoizedState;s!==g||m!==p||ri||e!==null&&e.dependencies!==null&&Ho(e.dependencies)?(typeof o=="function"&&(Zc(t,n,o,i),p=t.memoizedState),(f=ri||Rp(t,n,f,i,m,p,u)||e!==null&&e.dependencies!==null&&Ho(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,p,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,p,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=u,i=f):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,Eo(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=fr(t,e.child,null,r),t.child=fr(t,null,n,r)):ne(e,t,n,r),t.memoizedState=a.state,e=t.child):e=Pn(e,t,r),e}function Up(e,t,n,i){return cr(),t.flags|=256,ne(e,t,n,i),t.child}var Jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(e){return{baseLanes:e,cachePool:kv()}}function th(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Me),e}function V_(e,t,n){var i=t.pendingProps,r=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(Ut.current&2)!==0),s&&(r=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(lt){if(r?si(t):li(),(e=At)?(e=bE(e,Ke),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Di!==null?{id:hn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},n=Lv(e),n.return=t,t.child=n,ae=t,At=null)):e=null,e===null)throw Ni(t);return Sf(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,r?(li(),r=t.mode,o=Xo({mode:"hidden",children:o},r),i=ar(i,r,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Wc(n),i.childLanes=th(e,s,n),t.memoizedState=Jc,ms(null,i)):(si(t),cf(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(a)t.flags&256?(si(t),t.flags&=-257,t=eh(e,t,n)):t.memoizedState!==null?(li(),t.child=e.child,t.flags|=128,t=null):(li(),o=i.fallback,r=t.mode,i=Xo({mode:"visible",children:i.children},r),o=ar(o,r,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,fr(t,e.child,null,n),i=t.child,i.memoizedState=Wc(n),i.childLanes=th(e,s,n),t.memoizedState=Jc,t=ms(null,i));else if(si(t),Sf(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,i=Error(j(419)),i.stack="",i.digest=s,Fs({value:i,source:null,stack:null}),t=eh(e,t,n)}else if(qt||Da(e,t,n,!1),s=(n&e.childLanes)!==0,qt||s){if(s=Et,s!==null&&(i=lv(s,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Tr(e,i),xe(s,e,i),zd;bf(o)||Wo(),t=eh(e,t,n)}else bf(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,At=Ze(o.nextSibling),ae=t,lt=!0,pi=null,Ke=!1,e!==null&&jv(t,e),t=cf(t,i.children),t.flags|=4096);return t}return r?(li(),o=i.fallback,r=t.mode,u=e.child,c=u.sibling,i=On(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=On(c,o):(o=ar(o,r,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,ms(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Wc(n):(r=o.cachePool,r!==null?(u=Ht._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=kv(),o={baseLanes:o.baseLanes|n,cachePool:r}),i.memoizedState=o,i.childLanes=th(e,s,n),t.memoizedState=Jc,ms(e.child,i)):(si(t),n=e.child,e=n.sibling,n=On(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function cf(e,t){return t=Xo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Xo(e,t){return e=Ie(22,e,null,t),e.lanes=0,e}function eh(e,t,n){return fr(t,e.child,null,n),e=cf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),$h(e.return,t,n)}function nh(e,t,n,i,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r,s.treeForkCount=a)}function I_(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;i=i.children;var s=Ut.current,o=(s&2)!==0;if(o?(s=s&1|2,t.flags|=128):s&=1,Tt(Ut,s),ne(e,t,i,n),i=lt?qs:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jp(e,n,t);else if(e.tag===19)jp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Go(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),nh(t,!1,r,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Go(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}nh(t,!0,n,null,a,i);break;case"together":nh(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ii|=t.lanes,!(n&t.childLanes))if(e!==null){if(Da(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=On(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=On(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function kd(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ho(e)))}function _2(e,t,n){switch(t.tag){case 3:Lo(t,t.stateNode.containerInfo),ai(t,Ht,e.memoizedState.cache),cr();break;case 27:case 5:jh(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:ai(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nf(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(si(t),t.flags|=128,null):n&t.child.childLanes?V_(e,t,n):(si(t),e=Pn(e,t,n),e!==null?e.sibling:null);si(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Da(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return I_(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tt(Ut,Ut.current),i)break;return null;case 22:return t.lanes=0,N_(e,t,n,t.pendingProps);case 24:ai(t,Ht,e.memoizedState.cache)}return Pn(e,t,n)}function M_(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)qt=!0;else{if(!kd(e,n)&&!(t.flags&128))return qt=!1,_2(e,t,n);qt=!!(e.flags&131072)}else qt=!1,lt&&t.flags&1048576&&Uv(t,qs,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=Wi(t.elementType),t.type=e,typeof e=="function")yd(e)?(i=mr(e,i),t.tag=1,t=Lp(null,t,e,i,n)):(t.tag=0,t=uf(null,t,e,i,n));else{if(e!=null){var r=e.$$typeof;if(r===id){t.tag=11,t=Np(null,t,e,i,n);break t}else if(r===rd){t.tag=14,t=Vp(null,t,e,i,n);break t}}throw t=Lh(e)||e,Error(j(306,t,""))}}return t;case 0:return uf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=mr(i,t.pendingProps),Lp(e,t,i,r,n);case 3:t:{if(Lo(t,t.stateNode.containerInfo),e===null)throw Error(j(387));i=t.pendingProps;var a=t.memoizedState;r=a.element,Wh(e,t),Rs(t,i,null,n);var s=t.memoizedState;if(i=s.cache,ai(t,Ht,i),i!==a.cache&&Zh(t,[Ht],n,!0),xs(),i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Up(e,t,i,n);break t}else if(i!==r){r=Ye(Error(j(424)),t),Fs(r),t=Up(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(At=Ze(e.firstChild),ae=t,lt=!0,pi=null,Ke=!0,n=Hv(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(cr(),i===r){t=Pn(e,t,n);break t}ne(e,t,i,n)}t=t.child}return t;case 26:return Eo(e,t),e===null?(n=iy(t.type,null,t.pendingProps,null))?t.memoizedState=n:lt||(n=t.type,e=t.pendingProps,i=iu(gi.current).createElement(n),i[re]=t,i[Re]=e,oe(i,n,e),te(i),t.stateNode=i):t.memoizedState=iy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return jh(t),e===null&&lt&&(i=t.stateNode=SE(t.type,t.pendingProps,gi.current),ae=t,Ke=!0,r=At,Bi(t.type)?(Af=r,At=Ze(i.firstChild)):At=r),ne(e,t,t.pendingProps.children,n),Eo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&lt&&((r=i=At)&&(i=X2(i,t.type,t.pendingProps,Ke),i!==null?(t.stateNode=i,ae=t,At=Ze(i.firstChild),Ke=!1,r=!0):r=!1),r||Ni(t)),jh(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Ef(r,a)?i=null:s!==null&&Ef(r,s)&&(t.flags|=32),t.memoizedState!==null&&(r=xd(e,t,c2,null,null,n),$s._currentValue=r),Eo(e,t),ne(e,t,i,n),t.child;case 6:return e===null&&lt&&((e=n=At)&&(n=$2(n,t.pendingProps,Ke),n!==null?(t.stateNode=n,ae=t,At=null,e=!0):e=!1),e||Ni(t)),null;case 13:return V_(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=fr(t,null,i,n):ne(e,t,i,n),t.child;case 11:return Np(e,t,t.type,t.pendingProps,n);case 7:return ne(e,t,t.pendingProps,n),t.child;case 8:return ne(e,t,t.pendingProps.children,n),t.child;case 12:return ne(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ai(t,t.type,i.value),ne(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,hr(t),r=le(r),i=i(r),t.flags|=1,ne(e,t,i,n),t.child;case 14:return Vp(e,t,t.type,t.pendingProps,n);case 15:return D_(e,t,t.type,t.pendingProps,n);case 19:return I_(e,t,n);case 31:return v2(e,t,n);case 22:return N_(e,t,n,t.pendingProps);case 24:return hr(t),i=le(Ht),e===null?(r=Td(),r===null&&(r=Et,a=Ed(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),t.memoizedState={parent:i,cache:r},Sd(t),ai(t,Ht,r)):(e.lanes&n&&(Wh(e,t),Rs(t,null,null,n),xs()),r=e.memoizedState,a=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ai(t,Ht,i)):(i=a.cache,ai(t,Ht,i),i!==r.cache&&Zh(t,[Ht],n,!0))),ne(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(j(156,t.tag))}function An(e){e.flags|=4}function ih(e,t,n,i,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(iE())e.flags|=8192;else throw lr=qo,bd}else e.flags&=-16777217}function zp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!xE(t))if(iE())e.flags|=8192;else throw lr=qo,bd}function Jl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rv():536870912,e.lanes|=t,ga|=t)}function ss(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function E2(e,t,n){var i=t.pendingProps;switch(_d(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return St(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(Ht),ua(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Vr(t)?An(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kc())),St(t),null;case 26:var r=t.type,a=t.memoizedState;return e===null?(An(t),a!==null?(St(t),zp(t,a)):(St(t),ih(t,r,null,i,n))):a?a!==e.memoizedState?(An(t),St(t),zp(t,a)):(St(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&An(t),St(t),ih(t,r,e,i,n)),null;case 27:if(Uo(t),n=gi.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return St(t),null}e=mn.current,Vr(t)?dp(t):(e=SE(r,i,n),t.stateNode=e,An(t))}return St(t),null;case 5:if(Uo(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(!i){if(t.stateNode===null)throw Error(j(166));return St(t),null}if(a=mn.current,Vr(t))dp(t);else{var s=iu(gi.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?s.createElement(r,{is:i.is}):s.createElement(r)}}a[re]=t,a[Re]=i;t:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;t:switch(oe(a,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&An(t)}}return St(t),ih(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&An(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(j(166));if(e=gi.current,Vr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=ae,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[re]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||_E(e.nodeValue,n)),e||Ni(t,!0)}else e=iu(e).createTextNode(i),e[re]=t,t.stateNode=e}return St(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Vr(t),n!==null){if(e===null){if(!i)throw Error(j(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(557));e[re]=t}else cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),e=!1}else n=Kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ve(t),t):(Ve(t),null);if(t.flags&128)throw Error(j(558))}return St(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Vr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(j(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(j(317));r[re]=t}else cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),r=!1}else r=Kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Ve(t),t):(Ve(t),null)}return Ve(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Jl(t,t.updateQueue),St(t),null);case 4:return ua(),e===null&&Qd(t.stateNode.containerInfo),St(t),null;case 10:return Ln(t.type),St(t),null;case 19:if(ee(Ut),i=t.memoizedState,i===null)return St(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)ss(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Go(e),a!==null){for(t.flags|=128,ss(i,!1),e=a.updateQueue,t.updateQueue=e,Jl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Ov(n,e),n=n.sibling;return Tt(Ut,Ut.current&1|2),lt&&Cn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Le()>Zo&&(t.flags|=128,r=!0,ss(i,!1),t.lanes=4194304)}else{if(!r)if(e=Go(a),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Jl(t,e),ss(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!lt)return St(t),null}else 2*Le()-i.renderingStartTime>Zo&&n!==536870912&&(t.flags|=128,r=!0,ss(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Le(),e.sibling=null,n=Ut.current,Tt(Ut,r?n&1|2:n&1),lt&&Cn(t,i.treeForkCount),e):(St(t),null);case 22:case 23:return Ve(t),Ad(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),n=t.updateQueue,n!==null&&Jl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ee(sr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ln(Ht),St(t),null;case 25:return null;case 30:return null}throw Error(j(156,t.tag))}function T2(e,t){switch(_d(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(Ht),ua(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Uo(t),null;case 31:if(t.memoizedState!==null){if(Ve(t),t.alternate===null)throw Error(j(340));cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ve(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(Ut),null;case 4:return ua(),null;case 10:return Ln(t.type),null;case 22:case 23:return Ve(t),Ad(),e!==null&&ee(sr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(Ht),null;case 25:return null;default:return null}}function O_(e,t){switch(_d(t),t.tag){case 3:Ln(Ht),ua();break;case 26:case 27:case 5:Uo(t);break;case 4:ua();break;case 31:t.memoizedState!==null&&Ve(t);break;case 13:Ve(t);break;case 19:ee(Ut);break;case 10:Ln(t.type);break;case 22:case 23:Ve(t),Ad(),e!==null&&ee(sr);break;case 24:Ln(Ht)}}function yl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var a=n.create,s=n.inst;i=a(),s.destroy=i}n=n.next}while(n!==r)}}catch(o){gt(t,t.return,o)}}function Vi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var a=r.next;i=a;do{if((i.tag&e)===e){var s=i.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,r=t;var u=n,c=o;try{c()}catch(f){gt(r,u,f)}}}i=i.next}while(i!==a)}}catch(f){gt(t,t.return,f)}}function L_(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Fv(t,n)}catch(i){gt(e,e.return,i)}}}function U_(e,t,n){n.props=mr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){gt(e,t,i)}}function Ds(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){gt(e,t,r)}}function dn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){gt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){gt(e,t,r)}else n.current=null}function j_(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){gt(e,e.return,r)}}function rh(e,t,n){try{var i=e.stateNode;q2(i,e.type,n,t),i[Re]=t}catch(r){gt(e,e.return,r)}}function z_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bi(e.type)||e.tag===4}function ah(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||z_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=In));else if(i!==4&&(i===27&&Bi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hf(e,t,n),e=e.sibling;e!==null;)hf(e,t,n),e=e.sibling}function $o(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Bi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for($o(e,t,n),e=e.sibling;e!==null;)$o(e,t,n),e=e.sibling}function k_(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);oe(t,i,n),t[re]=e,t[Re]=n}catch(a){gt(e,e.return,a)}}var Nn=!1,Pt=!1,sh=!1,kp=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function b2(e,t){if(e=e.containerInfo,vf=lu,e=xv(e),md(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var s=0,o=-1,u=-1,c=0,f=0,g=e,m=null;e:for(;;){for(var p;g!==n||r!==0&&g.nodeType!==3||(o=s+r),g!==a||i!==0&&g.nodeType!==3||(u=s+i),g.nodeType===3&&(s+=g.nodeValue.length),(p=g.firstChild)!==null;)m=g,g=p;for(;;){if(g===e)break e;if(m===n&&++c===r&&(o=s),m===a&&++f===i&&(u=s),(p=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=p}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(_f={focusedElem:e,selectionRange:n},lu=!1,Wt=t;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){switch(t=Wt,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,r=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var C=mr(n.type,r);e=i.getSnapshotBeforeUpdate(C,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(N){gt(n,n.return,N)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Tf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(j(163))}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}}function B_(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:xn(e,n),i&4&&yl(5,n);break;case 1:if(xn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){gt(n,n.return,s)}else{var r=mr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){gt(n,n.return,s)}}i&64&&L_(n),i&512&&Ds(n,n.return);break;case 3:if(xn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Fv(e,t)}catch(s){gt(n,n.return,s)}}break;case 27:t===null&&i&4&&k_(n);case 26:case 5:xn(e,n),t===null&&i&4&&j_(n),i&512&&Ds(n,n.return);break;case 12:xn(e,n);break;case 31:xn(e,n),i&4&&q_(e,n);break;case 13:xn(e,n),i&4&&F_(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=V2.bind(null,n),Z2(e,n))));break;case 22:if(i=n.memoizedState!==null||Nn,!i){t=t!==null&&t.memoizedState!==null||Pt,r=Nn;var a=Pt;Nn=i,(Pt=t)&&!a?Rn(e,n,(n.subtreeFlags&8772)!==0):xn(e,n),Nn=r,Pt=a}break;case 30:break;default:xn(e,n)}}function P_(e){var t=e.alternate;t!==null&&(e.alternate=null,P_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&od(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,be=!1;function wn(e,t,n){for(n=n.child;n!==null;)H_(e,t,n),n=n.sibling}function H_(e,t,n){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(cl,n)}catch{}switch(n.tag){case 26:Pt||dn(n,t),wn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Pt||dn(n,t);var i=Dt,r=be;Bi(n.type)&&(Dt=n.stateNode,be=!1),wn(e,t,n),Ms(n.stateNode),Dt=i,be=r;break;case 5:Pt||dn(n,t);case 6:if(i=Dt,r=be,Dt=null,wn(e,t,n),Dt=i,be=r,Dt!==null)if(be)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(n.stateNode)}catch(a){gt(n,t,a)}else try{Dt.removeChild(n.stateNode)}catch(a){gt(n,t,a)}break;case 18:Dt!==null&&(be?(e=Dt,Jp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),_a(e)):Jp(Dt,n.stateNode));break;case 4:i=Dt,r=be,Dt=n.stateNode.containerInfo,be=!0,wn(e,t,n),Dt=i,be=r;break;case 0:case 11:case 14:case 15:Vi(2,n,t),Pt||Vi(4,n,t),wn(e,t,n);break;case 1:Pt||(dn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&U_(n,t,i)),wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:Pt=(i=Pt)||n.memoizedState!==null,wn(e,t,n),Pt=i;break;default:wn(e,t,n)}}function q_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_a(e)}catch(n){gt(t,t.return,n)}}}function F_(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_a(e)}catch(n){gt(t,t.return,n)}}function S2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new kp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new kp),t;default:throw Error(j(435,e.tag))}}function Wl(e,t){var n=S2(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var r=I2.bind(null,e,i);i.then(r,r)}})}function Ee(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],a=e,s=t,o=s;t:for(;o!==null;){switch(o.tag){case 27:if(Bi(o.type)){Dt=o.stateNode,be=!1;break t}break;case 5:Dt=o.stateNode,be=!1;break t;case 3:case 4:Dt=o.stateNode.containerInfo,be=!0;break t}o=o.return}if(Dt===null)throw Error(j(160));H_(a,s,r),Dt=null,be=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)G_(t,e),t=t.sibling}var en=null;function G_(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ee(t,e),Te(e),i&4&&(Vi(3,e,e.return),yl(3,e),Vi(5,e,e.return));break;case 1:Ee(t,e),Te(e),i&512&&(Pt||n===null||dn(n,n.return)),i&64&&Nn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=en;if(Ee(t,e),Te(e),i&512&&(Pt||n===null||dn(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":a=r.getElementsByTagName("title")[0],(!a||a[dl]||a[re]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(i),r.head.insertBefore(a,r.querySelector("head > title"))),oe(a,i,n),a[re]=e,te(a),i=a;break t;case"link":var s=ay("link","href",r).get(i+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break e}}a=r.createElement(i),oe(a,i,n),r.head.appendChild(a);break;case"meta":if(s=ay("meta","content",r).get(i+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break e}}a=r.createElement(i),oe(a,i,n),r.head.appendChild(a);break;default:throw Error(j(468,i))}a[re]=e,te(a),i=a}e.stateNode=i}else sy(r,e.type,e.stateNode);else e.stateNode=ry(r,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?sy(r,e.type,e.stateNode):ry(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&rh(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ee(t,e),Te(e),i&512&&(Pt||n===null||dn(n,n.return)),n!==null&&i&4&&rh(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ee(t,e),Te(e),i&512&&(Pt||n===null||dn(n,n.return)),e.flags&32){r=e.stateNode;try{ha(r,"")}catch(C){gt(e,e.return,C)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,rh(e,r,n!==null?n.memoizedProps:r)),i&1024&&(sh=!0);break;case 6:if(Ee(t,e),Te(e),i&4){if(e.stateNode===null)throw Error(j(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(C){gt(e,e.return,C)}}break;case 3:if(So=null,r=en,en=ru(t.containerInfo),Ee(t,e),en=r,Te(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{_a(t.containerInfo)}catch(C){gt(e,e.return,C)}sh&&(sh=!1,Q_(e));break;case 4:i=en,en=ru(e.stateNode.containerInfo),Ee(t,e),Te(e),en=i;break;case 12:Ee(t,e),Te(e);break;case 31:Ee(t,e),Te(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wl(e,i)));break;case 13:Ee(t,e),Te(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Bu=Le()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wl(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Nn,f=Pt;if(Nn=c||r,Pt=f||u,Ee(t,e),Pt=f,Nn=c,Te(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Nn||Pt||tr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(a=u.stateNode,r)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(C){gt(u,u.return,C)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(C){gt(u,u.return,C)}}}else if(t.tag===18){if(n===null){u=t;try{var p=u.stateNode;r?Wp(p,!0):Wp(u.stateNode,!1)}catch(C){gt(u,u.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Wl(e,n))));break;case 19:Ee(t,e),Te(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Wl(e,i)));break;case 30:break;case 21:break;default:Ee(t,e),Te(e)}}function Te(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(z_(i)){n=i;break}i=i.return}if(n==null)throw Error(j(160));switch(n.tag){case 27:var r=n.stateNode,a=ah(e);$o(e,a,r);break;case 5:var s=n.stateNode;n.flags&32&&(ha(s,""),n.flags&=-33);var o=ah(e);$o(e,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=ah(e);hf(e,c,u);break;default:throw Error(j(161))}}catch(f){gt(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Q_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Q_(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)B_(e,t.alternate,t),t=t.sibling}function tr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Vi(4,t,t.return),tr(t);break;case 1:dn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&U_(t,t.return,n),tr(t);break;case 27:Ms(t.stateNode);case 26:case 5:dn(t,t.return),tr(t);break;case 22:t.memoizedState===null&&tr(t);break;case 30:tr(t);break;default:tr(t)}e=e.sibling}}function Rn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Rn(r,a,n),yl(4,a);break;case 1:if(Rn(r,a,n),i=a,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){gt(i,i.return,c)}if(i=a,r=i.updateQueue,r!==null){var o=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)qv(u[r],o)}catch(c){gt(i,i.return,c)}}n&&s&64&&L_(a),Ds(a,a.return);break;case 27:k_(a);case 26:case 5:Rn(r,a,n),n&&i===null&&s&4&&j_(a),Ds(a,a.return);break;case 12:Rn(r,a,n);break;case 31:Rn(r,a,n),n&&s&4&&q_(r,a);break;case 13:Rn(r,a,n),n&&s&4&&F_(r,a);break;case 22:a.memoizedState===null&&Rn(r,a,n),Ds(a,a.return);break;case 30:break;default:Rn(r,a,n)}t=t.sibling}}function Bd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&gl(n))}function Pd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gl(e))}function tn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Y_(e,t,n,i),t=t.sibling}function Y_(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,i),r&2048&&yl(9,t);break;case 1:tn(e,t,n,i);break;case 3:tn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&gl(e)));break;case 12:if(r&2048){tn(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){gt(t,t.return,u)}}else tn(e,t,n,i);break;case 31:tn(e,t,n,i);break;case 13:tn(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,t.memoizedState!==null?a._visibility&2?tn(e,t,n,i):Ns(e,t):a._visibility&2?tn(e,t,n,i):(a._visibility|=2,Or(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Bd(s,t);break;case 24:tn(e,t,n,i),r&2048&&Pd(t.alternate,t);break;default:tn(e,t,n,i)}}function Or(e,t,n,i,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,s=t,o=n,u=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Or(a,s,o,u,r),yl(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?Or(a,s,o,u,r):Ns(a,s):(f._visibility|=2,Or(a,s,o,u,r)),r&&c&2048&&Bd(s.alternate,s);break;case 24:Or(a,s,o,u,r),r&&c&2048&&Pd(s.alternate,s);break;default:Or(a,s,o,u,r)}t=t.sibling}}function Ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Ns(n,i),r&2048&&Bd(i.alternate,i);break;case 24:Ns(n,i),r&2048&&Pd(i.alternate,i);break;default:Ns(n,i)}t=t.sibling}}var gs=8192;function Ir(e,t,n){if(e.subtreeFlags&gs)for(e=e.child;e!==null;)K_(e,t,n),e=e.sibling}function K_(e,t,n){switch(e.tag){case 26:Ir(e,t,n),e.flags&gs&&e.memoizedState!==null&&uA(n,en,e.memoizedState,e.memoizedProps);break;case 5:Ir(e,t,n);break;case 3:case 4:var i=en;en=ru(e.stateNode.containerInfo),Ir(e,t,n),en=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=gs,gs=16777216,Ir(e,t,n),gs=i):Ir(e,t,n));break;default:Ir(e,t,n)}}function X_(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ls(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wt=i,Z_(i,e)}X_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$_(e),e=e.sibling}function $_(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&Vi(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,To(e)):ls(e);break;default:ls(e)}}function To(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Wt=i,Z_(i,e)}X_(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Vi(8,t,t.return),To(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,To(t));break;default:To(t)}e=e.sibling}}function Z_(e,t){for(;Wt!==null;){var n=Wt;switch(n.tag){case 0:case 11:case 15:Vi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:gl(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Wt=i;else t:for(n=e;Wt!==null;){i=Wt;var r=i.sibling,a=i.return;if(P_(i),i===n){Wt=null;break t}if(r!==null){r.return=a,Wt=r;break t}Wt=a}}}var A2={getCacheForType:function(e){var t=le(Ht),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return le(Ht).controller.signal}},w2=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,it=null,st=0,mt=0,Ne=null,hi=!1,Va=!1,Hd=!1,Hn=0,Ot=0,Ii=0,or=0,qd=0,Me=0,ga=0,Vs=null,Se=null,ff=!1,Bu=0,J_=0,Zo=1/0,Jo=null,_i=null,Yt=0,Ei=null,pa=null,Un=0,df=0,mf=null,W_=null,Is=0,gf=null;function ze(){return ht&2&&st!==0?st&-st:X.T!==null?Gd():ov()}function tE(){if(Me===0)if(!(st&536870912)||lt){var e=Gl;Gl<<=1,!(Gl&3932160)&&(Gl=262144),Me=e}else Me=536870912;return e=Be.current,e!==null&&(e.flags|=32),Me}function xe(e,t,n){(e===Et&&(mt===2||mt===9)||e.cancelPendingCommit!==null)&&(ya(e,0),fi(e,st,Me,!1)),fl(e,n),(!(ht&2)||e!==Et)&&(e===Et&&(!(ht&2)&&(or|=n),Ot===4&&fi(e,st,Me,!1)),Tn(e))}function eE(e,t,n){if(ht&6)throw Error(j(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||hl(e,t),r=i?C2(e,t):lh(e,t,!0),a=i;do{if(r===0){Va&&!i&&fi(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!x2(n)){r=lh(e,t,!1),a=!1;continue}if(r===2){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;t:{var o=e;r=Vs;var u=o.current.memoizedState.isDehydrated;if(u&&(ya(o,s).flags|=256),s=lh(o,s,!1),s!==2){if(Hd&&!u){o.errorRecoveryDisabledLanes|=a,or|=a,r=4;break t}a=Se,Se=r,a!==null&&(Se===null?Se=a:Se.push.apply(Se,a))}r=s}if(a=!1,r!==2)continue}}if(r===1){ya(e,0),fi(e,t,0,!0);break}t:{switch(i=e,a=r,a){case 0:case 1:throw Error(j(345));case 4:if((t&4194048)!==t)break;case 6:fi(i,t,Me,!hi);break t;case 2:Se=null;break;case 3:case 5:break;default:throw Error(j(329))}if((t&62914560)===t&&(r=Bu+300-Le(),10<r)){if(fi(i,t,Me,!hi),Du(i,0,!0)!==0)break t;Un=t,i.timeoutHandle=TE(Bp.bind(null,i,n,Se,Jo,ff,t,Me,or,ga,hi,a,"Throttled",-0,0),r);break t}Bp(i,n,Se,Jo,ff,t,Me,or,ga,hi,a,null,-0,0)}}break}while(!0);Tn(e)}function Bp(e,t,n,i,r,a,s,o,u,c,f,g,m,p){if(e.timeoutHandle=-1,g=t.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:In},K_(t,a,g);var C=(a&62914560)===a?Bu-Le():(a&4194048)===a?J_-Le():0;if(C=cA(g,C),C!==null){Un=a,e.cancelPendingCommit=C(Hp.bind(null,e,t,a,n,i,r,s,o,u,f,g,null,m,p)),fi(e,a,s,!c);return}}Hp(e,t,a,n,i,r,s,o,u)}function x2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!ke(a(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fi(e,t,n,i){t&=~qd,t&=~or,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var a=31-je(r),s=1<<a;i[a]=-1,r&=~s}n!==0&&av(e,n,t)}function Pu(){return ht&6?!0:(vl(0),!1)}function Fd(){if(it!==null){if(mt===0)var e=it.return;else e=it,Mn=br=null,Dd(e),na=null,Gs=0,e=it;for(;e!==null;)O_(e.alternate,e),e=e.return;it=null}}function ya(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Q2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Un=0,Fd(),Et=e,it=n=On(e.current,null),st=t,mt=0,Ne=null,hi=!1,Va=hl(e,t),Hd=!1,ga=Me=qd=or=Ii=Ot=0,Se=Vs=null,ff=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-je(i),a=1<<r;t|=e[r],i&=~a}return Hn=t,Mu(),n}function nE(e,t){tt=null,X.H=Ys,t===Na||t===Lu?(t=vp(),mt=3):t===bd?(t=vp(),mt=4):mt=t===zd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ne=t,it===null&&(Ot=1,Ko(e,Ye(t,e.current)))}function iE(){var e=Be.current;return e===null?!0:(st&4194048)===st?$e===null:(st&62914560)===st||st&536870912?e===$e:!1}function rE(){var e=X.H;return X.H=Ys,e===null?Ys:e}function aE(){var e=X.A;return X.A=A2,e}function Wo(){Ot=4,hi||(st&4194048)!==st&&Be.current!==null||(Va=!0),!(Ii&134217727)&&!(or&134217727)||Et===null||fi(Et,st,Me,!1)}function lh(e,t,n){var i=ht;ht|=2;var r=rE(),a=aE();(Et!==e||st!==t)&&(Jo=null,ya(e,t)),t=!1;var s=Ot;t:do try{if(mt!==0&&it!==null){var o=it,u=Ne;switch(mt){case 8:Fd(),s=6;break t;case 3:case 2:case 9:case 6:Be.current===null&&(t=!0);var c=mt;if(mt=0,Ne=null,Zr(e,o,u,c),n&&Va){s=0;break t}break;default:c=mt,mt=0,Ne=null,Zr(e,o,u,c)}}R2(),s=Ot;break}catch(f){nE(e,f)}while(!0);return t&&e.shellSuspendCounter++,Mn=br=null,ht=i,X.H=r,X.A=a,it===null&&(Et=null,st=0,Mu()),s}function R2(){for(;it!==null;)sE(it)}function C2(e,t){var n=ht;ht|=2;var i=rE(),r=aE();Et!==e||st!==t?(Jo=null,Zo=Le()+500,ya(e,t)):Va=hl(e,t);t:do try{if(mt!==0&&it!==null){t=it;var a=Ne;e:switch(mt){case 1:mt=0,Ne=null,Zr(e,t,a,1);break;case 2:case 9:if(yp(a)){mt=0,Ne=null,Pp(t);break}t=function(){mt!==2&&mt!==9||Et!==e||(mt=7),Tn(e)},a.then(t,t);break t;case 3:mt=7;break t;case 4:mt=5;break t;case 7:yp(a)?(mt=0,Ne=null,Pp(t)):(mt=0,Ne=null,Zr(e,t,a,7));break;case 5:var s=null;switch(it.tag){case 26:s=it.memoizedState;case 5:case 27:var o=it;if(s?xE(s):o.stateNode.complete){mt=0,Ne=null;var u=o.sibling;if(u!==null)it=u;else{var c=o.return;c!==null?(it=c,Hu(c)):it=null}break e}}mt=0,Ne=null,Zr(e,t,a,5);break;case 6:mt=0,Ne=null,Zr(e,t,a,6);break;case 8:Fd(),Ot=6;break t;default:throw Error(j(462))}}D2();break}catch(f){nE(e,f)}while(!0);return Mn=br=null,X.H=i,X.A=r,ht=n,it!==null?0:(Et=null,st=0,Mu(),Ot)}function D2(){for(;it!==null&&!Jb();)sE(it)}function sE(e){var t=M_(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,t===null?Hu(e):it=t}function Pp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Op(n,t,t.pendingProps,t.type,void 0,st);break;case 11:t=Op(n,t,t.pendingProps,t.type.render,t.ref,st);break;case 5:Dd(t);default:O_(n,t),t=it=Ov(t,Hn),t=M_(n,t,Hn)}e.memoizedProps=e.pendingProps,t===null?Hu(e):it=t}function Zr(e,t,n,i){Mn=br=null,Dd(t),na=null,Gs=0;var r=t.return;try{if(y2(e,r,t,n,st)){Ot=1,Ko(e,Ye(n,e.current)),it=null;return}}catch(a){if(r!==null)throw it=r,a;Ot=1,Ko(e,Ye(n,e.current)),it=null;return}t.flags&32768?(lt||i===1?e=!0:Va||st&536870912?e=!1:(hi=e=!0,(i===2||i===9||i===3||i===6)&&(i=Be.current,i!==null&&i.tag===13&&(i.flags|=16384))),lE(t,e)):Hu(t)}function Hu(e){var t=e;do{if(t.flags&32768){lE(t,hi);return}e=t.return;var n=E2(t.alternate,t,Hn);if(n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);Ot===0&&(Ot=5)}function lE(e,t){do{var n=T2(e.alternate,e);if(n!==null){n.flags&=32767,it=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=n}while(e!==null);Ot=6,it=null}function Hp(e,t,n,i,r,a,s,o,u){e.cancelPendingCommit=null;do qu();while(Yt!==0);if(ht&6)throw Error(j(327));if(t!==null){if(t===e.current)throw Error(j(177));if(a=t.lanes|t.childLanes,a|=gd,oS(e,n,a,s,o,u),e===Et&&(it=Et=null,st=0),pa=t,Ei=e,Un=n,df=a,mf=r,W_=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,M2(jo,function(){return fE(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=X.T,X.T=null,r=ft.p,ft.p=2,s=ht,ht|=4;try{b2(e,t,n)}finally{ht=s,ft.p=r,X.T=i}}Yt=1,oE(),uE(),cE()}}function oE(){if(Yt===1){Yt=0;var e=Ei,t=pa,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=X.T,X.T=null;var i=ft.p;ft.p=2;var r=ht;ht|=4;try{G_(t,e);var a=_f,s=xv(e.containerInfo),o=a.focusedElem,u=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&wv(o.ownerDocument.documentElement,o)){if(u!==null&&md(o)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(f,o.value.length);else{var g=o.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var p=m.getSelection(),C=o.textContent.length,N=Math.min(u.start,C),D=u.end===void 0?N:Math.min(u.end,C);!p.extend&&N>D&&(s=D,D=N,N=s);var E=cp(o,N),T=cp(o,D);if(E&&T&&(p.rangeCount!==1||p.anchorNode!==E.node||p.anchorOffset!==E.offset||p.focusNode!==T.node||p.focusOffset!==T.offset)){var A=g.createRange();A.setStart(E.node,E.offset),p.removeAllRanges(),N>D?(p.addRange(A),p.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),p.addRange(A))}}}}for(g=[],p=o;p=p.parentNode;)p.nodeType===1&&g.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<g.length;o++){var V=g[o];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}lu=!!vf,_f=vf=null}finally{ht=r,ft.p=i,X.T=n}}e.current=t,Yt=2}}function uE(){if(Yt===2){Yt=0;var e=Ei,t=pa,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=X.T,X.T=null;var i=ft.p;ft.p=2;var r=ht;ht|=4;try{B_(e,t.alternate,t)}finally{ht=r,ft.p=i,X.T=n}}Yt=3}}function cE(){if(Yt===4||Yt===3){Yt=0,Wb();var e=Ei,t=pa,n=Un,i=W_;t.subtreeFlags&10256||t.flags&10256?Yt=5:(Yt=0,pa=Ei=null,hE(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(_i=null),ld(n),t=t.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(cl,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=X.T,r=ft.p,ft.p=2,X.T=null;try{for(var a=e.onRecoverableError,s=0;s<i.length;s++){var o=i[s];a(o.value,{componentStack:o.stack})}}finally{X.T=t,ft.p=r}}Un&3&&qu(),Tn(e),r=e.pendingLanes,n&261930&&r&42?e===gf?Is++:(Is=0,gf=e):Is=0,vl(0)}}function hE(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,gl(t)))}function qu(){return oE(),uE(),cE(),fE()}function fE(){if(Yt!==5)return!1;var e=Ei,t=df;df=0;var n=ld(Un),i=X.T,r=ft.p;try{ft.p=32>n?32:n,X.T=null,n=mf,mf=null;var a=Ei,s=Un;if(Yt=0,pa=Ei=null,Un=0,ht&6)throw Error(j(331));var o=ht;if(ht|=4,$_(a.current),Y_(a,a.current,s,n),ht=o,vl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(cl,a)}catch{}return!0}finally{ft.p=r,X.T=i,hE(e,t)}}function qp(e,t,n){t=Ye(n,t),t=of(e.stateNode,t,2),e=vi(e,t,2),e!==null&&(fl(e,2),Tn(e))}function gt(e,t,n){if(e.tag===3)qp(e,e,n);else for(;t!==null;){if(t.tag===3){qp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(_i===null||!_i.has(i))){e=Ye(n,e),n=R_(2),i=vi(t,n,2),i!==null&&(C_(n,i,t,e),fl(i,2),Tn(i));break}}t=t.return}}function oh(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new w2;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(Hd=!0,r.add(n),e=N2.bind(null,e,t,n),t.then(e,e))}function N2(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Et===e&&(st&n)===n&&(Ot===4||Ot===3&&(st&62914560)===st&&300>Le()-Bu?!(ht&2)&&ya(e,0):qd|=n,ga===st&&(ga=0)),Tn(e)}function dE(e,t){t===0&&(t=rv()),e=Tr(e,t),e!==null&&(fl(e,t),Tn(e))}function V2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dE(e,n)}function I2(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(j(314))}i!==null&&i.delete(t),dE(e,n)}function M2(e,t){return ad(e,t)}var tu=null,Lr=null,pf=!1,eu=!1,uh=!1,di=0;function Tn(e){e!==Lr&&e.next===null&&(Lr===null?tu=Lr=e:Lr=Lr.next=e),eu=!0,pf||(pf=!0,L2())}function vl(e,t){if(!uh&&eu){uh=!0;do for(var n=!1,i=tu;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var a=0;else{var s=i.suspendedLanes,o=i.pingedLanes;a=(1<<31-je(42|e)+1)-1,a&=r&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Fp(i,a))}else a=st,a=Du(i,i===Et?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||hl(i,a)||(n=!0,Fp(i,a));i=i.next}while(n);uh=!1}}function O2(){mE()}function mE(){eu=pf=!1;var e=0;di!==0&&G2()&&(e=di);for(var t=Le(),n=null,i=tu;i!==null;){var r=i.next,a=gE(i,t);a===0?(i.next=null,n===null?tu=r:n.next=r,r===null&&(Lr=n)):(n=i,(e!==0||a&3)&&(eu=!0)),i=r}Yt!==0&&Yt!==5||vl(e),di!==0&&(di=0)}function gE(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var s=31-je(a),o=1<<s,u=r[s];u===-1?(!(o&n)||o&i)&&(r[s]=lS(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}if(t=Et,n=st,n=Du(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(mt===2||mt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&jc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||hl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&jc(i),ld(n)){case 2:case 8:n=nv;break;case 32:n=jo;break;case 268435456:n=iv;break;default:n=jo}return i=pE.bind(null,e),n=ad(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&jc(i),e.callbackPriority=2,e.callbackNode=null,2}function pE(e,t){if(Yt!==0&&Yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(qu()&&e.callbackNode!==n)return null;var i=st;return i=Du(e,e===Et?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(eE(e,i,t),gE(e,Le()),e.callbackNode!=null&&e.callbackNode===n?pE.bind(null,e):null)}function Fp(e,t){if(qu())return null;eE(e,t,!0)}function L2(){Y2(function(){ht&6?ad(ev,O2):mE()})}function Gd(){if(di===0){var e=fa;e===0&&(e=Fl,Fl<<=1,!(Fl&261888)&&(Fl=256)),di=e}return di}function Gp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ho(""+e)}function Qp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function U2(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var a=Gp((r[Re]||null).action),s=i.submitter;s&&(t=(t=s[Re]||null)?Gp(t.formAction):s.getAttribute("formAction"),t!==null&&(a=t,s=null));var o=new Nu("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(di!==0){var u=s?Qp(r,s):new FormData(r);sf(n,{pending:!0,data:u,method:r.method,action:a},null,u)}}else typeof a=="function"&&(o.preventDefault(),u=s?Qp(r,s):new FormData(r),sf(n,{pending:!0,data:u,method:r.method,action:a},a,u))},currentTarget:r}]})}}for(var ch=0;ch<Yh.length;ch++){var hh=Yh[ch],j2=hh.toLowerCase(),z2=hh[0].toUpperCase()+hh.slice(1);ln(j2,"on"+z2)}ln(Cv,"onAnimationEnd");ln(Dv,"onAnimationIteration");ln(Nv,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln(t2,"onTransitionRun");ln(e2,"onTransitionStart");ln(n2,"onTransitionCancel");ln(Vv,"onTransitionEnd");ca("onMouseEnter",["mouseout","mouseover"]);ca("onMouseLeave",["mouseout","mouseover"]);ca("onPointerEnter",["pointerout","pointerover"]);ca("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ks));function yE(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(f){ko(f)}r.currentTarget=null,a=u}else for(s=0;s<i.length;s++){if(o=i[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&r.isPropagationStopped())break t;a=o,r.currentTarget=c;try{a(r)}catch(f){ko(f)}r.currentTarget=null,a=u}}}}function nt(e,t){var n=t[kh];n===void 0&&(n=t[kh]=new Set);var i=e+"__bubble";n.has(i)||(vE(t,e,2,!1),n.add(i))}function fh(e,t,n){var i=0;t&&(i|=4),vE(n,e,i,t)}var to="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[to]){e[to]=!0,uv.forEach(function(n){n!=="selectionchange"&&(k2.has(n)||fh(n,!1,e),fh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[to]||(t[to]=!0,fh("selectionchange",!1,t))}}function vE(e,t,n,i){switch(VE(t)){case 2:var r=dA;break;case 8:r=mA;break;default:r=$d}n=r.bind(null,t,n,e),r=void 0,!Fh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function dh(e,t,n,i,r){var a=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r)break;if(s===4)for(s=i.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===r)return;s=s.return}for(;o!==null;){if(s=Hr(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){i=a=s;continue t}o=o.parentNode}}i=i.return}yv(function(){var c=a,f=cd(n),g=[];t:{var m=Iv.get(e);if(m!==void 0){var p=Nu,C=e;switch(e){case"keypress":if(mo(n)===0)break t;case"keydown":case"keyup":p=IS;break;case"focusin":C="focus",p=Hc;break;case"focusout":C="blur",p=Hc;break;case"beforeblur":case"afterblur":p=Hc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ES;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=LS;break;case Cv:case Dv:case Nv:p=SS;break;case Vv:p=jS;break;case"scroll":case"scrollend":p=vS;break;case"wheel":p=kS;break;case"copy":case"cut":case"paste":p=wS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=np;break;case"toggle":case"beforetoggle":p=PS}var N=(t&4)!==0,D=!N&&(e==="scroll"||e==="scrollend"),E=N?m!==null?m+"Capture":null:m;N=[];for(var T=c,A;T!==null;){var V=T;if(A=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||A===null||E===null||(V=Bs(T,E),V!=null&&N.push(Xs(T,V,A))),D)break;T=T.return}0<N.length&&(m=new p(m,C,null,n,f),g.push({event:m,listeners:N}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==qh&&(C=n.relatedTarget||n.fromElement)&&(Hr(C)||C[Ra]))break t;if((p||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,p?(C=n.relatedTarget||n.toElement,p=c,C=C?Hr(C):null,C!==null&&(D=ul(C),N=C.tag,C!==D||N!==5&&N!==27&&N!==6)&&(C=null)):(p=null,C=c),p!==C)){if(N=tp,V="onMouseLeave",E="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(N=np,V="onPointerLeave",E="onPointerEnter",T="pointer"),D=p==null?m:ds(p),A=C==null?m:ds(C),m=new N(V,T+"leave",p,n,f),m.target=D,m.relatedTarget=A,V=null,Hr(f)===c&&(N=new N(E,T+"enter",C,n,f),N.target=A,N.relatedTarget=D,V=N),D=V,p&&C)e:{for(N=B2,E=p,T=C,A=0,V=E;V;V=N(V))A++;V=0;for(var L=T;L;L=N(L))V++;for(;0<A-V;)E=N(E),A--;for(;0<V-A;)T=N(T),V--;for(;A--;){if(E===T||T!==null&&E===T.alternate){N=E;break e}E=N(E),T=N(T)}N=null}else N=null;p!==null&&Yp(g,m,p,N,!1),C!==null&&D!==null&&Yp(g,D,C,N,!0)}}t:{if(m=c?ds(c):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var P=sp;else if(ap(m))if(Sv)P=ZS;else{P=XS;var y=KS}else p=m.nodeName,!p||p.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&ud(c.elementType)&&(P=sp):P=$S;if(P&&(P=P(e,c))){bv(g,P,n,f);break t}y&&y(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&Hh(m,"number",m.value)}switch(y=c?ds(c):window,e){case"focusin":(ap(y)||y.contentEditable==="true")&&(Gr=y,Gh=c,Ss=null);break;case"focusout":Ss=Gh=Gr=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,hp(g,n,f);break;case"selectionchange":if(WS)break;case"keydown":case"keyup":hp(g,n,f)}var _;if(dd)t:{switch(e){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Fr?Ev(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(_v&&n.locale!=="ko"&&(Fr||b!=="onCompositionStart"?b==="onCompositionEnd"&&Fr&&(_=vv()):(ci=f,hd="value"in ci?ci.value:ci.textContent,Fr=!0)),y=nu(c,b),0<y.length&&(b=new ep(b,e,null,n,f),g.push({event:b,listeners:y}),_?b.data=_:(_=Tv(n),_!==null&&(b.data=_)))),(_=qS?FS(e,n):GS(e,n))&&(b=nu(c,"onBeforeInput"),0<b.length&&(y=new ep("onBeforeInput","beforeinput",null,n,f),g.push({event:y,listeners:b}),y.data=_)),U2(g,e,c,n,f)}yE(g,t)})}function Xs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nu(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=Bs(e,n),r!=null&&i.unshift(Xs(e,r,a)),r=Bs(e,t),r!=null&&i.push(Xs(e,r,a))),e.tag===3)return i;e=e.return}return[]}function B2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yp(e,t,n,i,r){for(var a=t._reactName,s=[];n!==null&&n!==i;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||c===null||(u=c,r?(c=Bs(n,a),c!=null&&s.unshift(Xs(n,c,u))):r||(c=Bs(n,a),c!=null&&s.push(Xs(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var P2=/\r\n?/g,H2=/\u0000|\uFFFD/g;function Kp(e){return(typeof e=="string"?e:""+e).replace(P2,`
`).replace(H2,"")}function _E(e,t){return t=Kp(t),Kp(e)===t}function pt(e,t,n,i,r,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||ha(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&ha(e,""+i);break;case"className":Yl(e,"class",i);break;case"tabIndex":Yl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(e,n,i);break;case"style":pv(e,i,a);break;case"data":if(t!=="object"){Yl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ho(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&pt(e,t,"name",r.name,r,null),pt(e,t,"formEncType",r.formEncType,r,null),pt(e,t,"formMethod",r.formMethod,r,null),pt(e,t,"formTarget",r.formTarget,r,null)):(pt(e,t,"encType",r.encType,r,null),pt(e,t,"method",r.method,r,null),pt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=ho(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=In);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=ho(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":nt("beforetoggle",e),nt("toggle",e),co(e,"popover",i);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":co(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=pS.get(n)||n,co(e,n,i))}}function yf(e,t,n,i,r,a){switch(n){case"style":pv(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(j(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(j(60));e.innerHTML=n}}break;case"children":typeof i=="string"?ha(e,i):(typeof i=="number"||typeof i=="bigint")&&ha(e,""+i);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=In);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cv.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),a=e[Re]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,r),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):co(e,n,i)}}}function oe(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var i=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:pt(e,t,a,s,n,null)}}r&&pt(e,t,"srcSet",n.srcSet,n,null),i&&pt(e,t,"src",n.src,n,null);return;case"input":nt("invalid",e);var o=a=s=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":s=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":a=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(j(137,t));break;default:pt(e,t,i,f,n,null)}}dv(e,a,o,u,c,s,r,!1);return;case"select":nt("invalid",e),i=s=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":i=o;default:pt(e,t,r,o,n,null)}t=a,n=s,e.multiple=!!i,t!=null?Wr(e,!!i,t,!1):n!=null&&Wr(e,!!i,n,!0);return;case"textarea":nt("invalid",e),a=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":i=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(j(91));break;default:pt(e,t,s,o,n,null)}gv(e,i,r,a);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pt(e,t,u,i,n,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(i=0;i<Ks.length;i++)nt(Ks[i],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:pt(e,t,c,i,n,null)}return;default:if(ud(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&yf(e,t,f,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&pt(e,t,o,i,n,null))}function q2(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,s=null,o=null,u=null,c=null,f=null;for(p in n){var g=n[p];if(n.hasOwnProperty(p)&&g!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(p)||pt(e,t,p,null,i,g)}}for(var m in i){var p=i[m];if(g=n[m],i.hasOwnProperty(m)&&(p!=null||g!=null))switch(m){case"type":a=p;break;case"name":r=p;break;case"checked":c=p;break;case"defaultChecked":f=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(j(137,t));break;default:p!==g&&pt(e,t,m,p,i,g)}}Ph(e,s,o,u,c,f,a,r);return;case"select":p=s=o=m=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(a)||pt(e,t,a,null,i,u)}for(r in i)if(a=i[r],u=n[r],i.hasOwnProperty(r)&&(a!=null||u!=null))switch(r){case"value":m=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==u&&pt(e,t,r,a,i,u)}t=o,n=s,i=p,m!=null?Wr(e,!!n,m,!1):!!i!=!!n&&(t!=null?Wr(e,!!n,t,!0):Wr(e,!!n,n?[]:"",!1));return;case"textarea":p=m=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:pt(e,t,o,null,i,r)}for(s in i)if(r=i[s],a=n[s],i.hasOwnProperty(s)&&(r!=null||a!=null))switch(s){case"value":m=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(j(91));break;default:r!==a&&pt(e,t,s,r,i,a)}mv(e,m,p);return;case"option":for(var C in n)if(m=n[C],n.hasOwnProperty(C)&&m!=null&&!i.hasOwnProperty(C))switch(C){case"selected":e.selected=!1;break;default:pt(e,t,C,null,i,m)}for(u in i)if(m=i[u],p=n[u],i.hasOwnProperty(u)&&m!==p&&(m!=null||p!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:pt(e,t,u,m,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)m=n[N],n.hasOwnProperty(N)&&m!=null&&!i.hasOwnProperty(N)&&pt(e,t,N,null,i,m);for(c in i)if(m=i[c],p=n[c],i.hasOwnProperty(c)&&m!==p&&(m!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(j(137,t));break;default:pt(e,t,c,m,i,p)}return;default:if(ud(t)){for(var D in n)m=n[D],n.hasOwnProperty(D)&&m!==void 0&&!i.hasOwnProperty(D)&&yf(e,t,D,void 0,i,m);for(f in i)m=i[f],p=n[f],!i.hasOwnProperty(f)||m===p||m===void 0&&p===void 0||yf(e,t,f,m,i,p);return}}for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!=null&&!i.hasOwnProperty(E)&&pt(e,t,E,null,i,m);for(g in i)m=i[g],p=n[g],!i.hasOwnProperty(g)||m===p||m==null&&p==null||pt(e,t,g,m,i,p)}function Xp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function F2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],a=r.transferSize,s=r.initiatorType,o=r.duration;if(a&&o&&Xp(s)){for(s=0,o=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>o)break;var f=u.transferSize,g=u.initiatorType;f&&Xp(g)&&(u=u.responseEnd,s+=f*(u<o?1:(o-c)/(u-c)))}if(--i,t+=8*(a+s)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vf=null,_f=null;function iu(e){return e.nodeType===9?e:e.ownerDocument}function $p(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ef(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mh=null;function G2(){var e=window.event;return e&&e.type==="popstate"?e===mh?!1:(mh=e,!0):(mh=null,!1)}var TE=typeof setTimeout=="function"?setTimeout:void 0,Q2=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp<"u"?function(e){return Zp.resolve(null).then(e).catch(K2)}:TE;function K2(e){setTimeout(function(){throw e})}function Bi(e){return e==="head"}function Jp(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(r),_a(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ms(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ms(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[dl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Ms(e.ownerDocument.body);n=r}while(n);_a(t)}function Wp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Tf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Tf(n),od(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function X2(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[dl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Ze(e.nextSibling),e===null)break}return null}function $2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ze(e.nextSibling),e===null))return null;return e}function bE(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ze(e.nextSibling),e===null))return null;return e}function bf(e){return e.data==="$?"||e.data==="$~"}function Sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z2(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Ze(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Af=null;function ty(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Ze(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ey(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function SE(e,t,n){switch(t=iu(n),e){case"html":if(e=t.documentElement,!e)throw Error(j(452));return e;case"head":if(e=t.head,!e)throw Error(j(453));return e;case"body":if(e=t.body,!e)throw Error(j(454));return e;default:throw Error(j(451))}}function Ms(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);od(e)}var Je=new Map,ny=new Set;function ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Kn=ft.d;ft.d={f:J2,r:W2,D:tA,C:eA,L:nA,m:iA,X:aA,S:rA,M:sA};function J2(){var e=Kn.f(),t=Pu();return e||t}function W2(e){var t=Ca(e);t!==null&&t.tag===5&&t.type==="form"?p_(t):Kn.r(e)}var Ia=typeof document>"u"?null:document;function AE(e,t,n){var i=Ia;if(i&&typeof t=="string"&&t){var r=Qe(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),ny.has(r)||(ny.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),oe(t,"link",e),te(t),i.head.appendChild(t)))}}function tA(e){Kn.D(e),AE("dns-prefetch",e,null)}function eA(e,t){Kn.C(e,t),AE("preconnect",e,t)}function nA(e,t,n){Kn.L(e,t,n);var i=Ia;if(i&&e&&t){var r='link[rel="preload"][as="'+Qe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Qe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Qe(n.imageSizes)+'"]')):r+='[href="'+Qe(e)+'"]';var a=r;switch(t){case"style":a=va(e);break;case"script":a=Ma(e)}Je.has(a)||(e=Ct({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Je.set(a,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(_l(a))||t==="script"&&i.querySelector(El(a))||(t=i.createElement("link"),oe(t,"link",e),te(t),i.head.appendChild(t)))}}function iA(e,t){Kn.m(e,t);var n=Ia;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Qe(i)+'"][href="'+Qe(e)+'"]',a=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ma(e)}if(!Je.has(a)&&(e=Ct({rel:"modulepreload",href:e},t),Je.set(a,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(El(a)))return}i=n.createElement("link"),oe(i,"link",e),te(i),n.head.appendChild(i)}}}function rA(e,t,n){Kn.S(e,t,n);var i=Ia;if(i&&e){var r=Jr(i).hoistableStyles,a=va(e);t=t||"default";var s=r.get(a);if(!s){var o={loading:0,preload:null};if(s=i.querySelector(_l(a)))o.loading=5;else{e=Ct({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Je.get(a))&&Yd(e,n);var u=s=i.createElement("link");te(u),oe(u,"link",e),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,bo(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:o},r.set(a,s)}}}function aA(e,t){Kn.X(e,t);var n=Ia;if(n&&e){var i=Jr(n).hoistableScripts,r=Ma(e),a=i.get(r);a||(a=n.querySelector(El(r)),a||(e=Ct({src:e,async:!0},t),(t=Je.get(r))&&Kd(e,t),a=n.createElement("script"),te(a),oe(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function sA(e,t){Kn.M(e,t);var n=Ia;if(n&&e){var i=Jr(n).hoistableScripts,r=Ma(e),a=i.get(r);a||(a=n.querySelector(El(r)),a||(e=Ct({src:e,async:!0,type:"module"},t),(t=Je.get(r))&&Kd(e,t),a=n.createElement("script"),te(a),oe(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(r,a))}}function iy(e,t,n,i){var r=(r=gi.current)?ru(r):null;if(!r)throw Error(j(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=va(n.href),n=Jr(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=va(n.href);var a=Jr(r).hoistableStyles,s=a.get(e);if(s||(r=r.ownerDocument||r,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,s),(a=r.querySelector(_l(e)))&&!a._p&&(s.instance=a,s.state.loading=5),Je.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Je.set(e,n),a||lA(r,e,n,s.state))),t&&i===null)throw Error(j(528,""));return s}if(t&&i!==null)throw Error(j(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ma(n),n=Jr(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,e))}}function va(e){return'href="'+Qe(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function wE(e){return Ct({},e,{"data-precedence":e.precedence,precedence:null})}function lA(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),oe(t,"link",n),te(t),e.head.appendChild(t))}function Ma(e){return'[src="'+Qe(e)+'"]'}function El(e){return"script[async]"+e}function ry(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Qe(n.href)+'"]');if(i)return t.instance=i,te(i),i;var r=Ct({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),te(i),oe(i,"style",r),bo(i,n.precedence,e),t.instance=i;case"stylesheet":r=va(n.href);var a=e.querySelector(_l(r));if(a)return t.state.loading|=4,t.instance=a,te(a),a;i=wE(n),(r=Je.get(r))&&Yd(i,r),a=(e.ownerDocument||e).createElement("link"),te(a);var s=a;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),oe(a,"link",i),t.state.loading|=4,bo(a,n.precedence,e),t.instance=a;case"script":return a=Ma(n.src),(r=e.querySelector(El(a)))?(t.instance=r,te(r),r):(i=n,(r=Je.get(a))&&(i=Ct({},n),Kd(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),te(r),oe(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(j(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,bo(i,n.precedence,e));return t.instance}function bo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,a=r,s=0;s<i.length;s++){var o=i[s];if(o.dataset.precedence===t)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Yd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Kd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var So=null;function ay(e,t,n){if(So===null){var i=new Map,r=So=new Map;r.set(n,i)}else r=So,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var a=n[r];if(!(a[dl]||a[re]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(t)||"";s=e+s;var o=i.get(s);o?o.push(a):i.set(s,[a])}}return i}function sy(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function oA(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function xE(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function uA(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=va(i.href),a=t.querySelector(_l(r));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=au.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,te(a);return}a=t.ownerDocument||t,i=wE(i),(r=Je.get(r))&&Yd(i,r),a=a.createElement("link"),te(a);var s=a;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),oe(a,"link",i),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=au.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var gh=0;function cA(e,t){return e.stylesheets&&e.count===0&&Ao(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Ao(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&gh===0&&(gh=62500*F2());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ao(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>gh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ao(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var su=null;function Ao(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,su=new Map,t.forEach(hA,e),su=null,au.call(e))}function hA(e,t){if(!(t.state.loading&4)){var n=su.get(e);if(n)var i=n.get(null);else{n=new Map,su.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var s=r[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}r=t.instance,s=r.getAttribute("data-precedence"),a=n.get(s)||i,a===i&&n.set(null,r),n.set(s,r),this.count++,i=au.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),a?a.parentNode.insertBefore(r,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var $s={$$typeof:Vn,Provider:null,Consumer:null,_currentValue:rr,_currentValue2:rr,_threadCount:0};function fA(e,t,n,i,r,a,s,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.hiddenUpdates=zc(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function RE(e,t,n,i,r,a,s,o,u,c,f,g){return e=new fA(e,t,n,s,u,c,f,g,o),t=1,a===!0&&(t|=24),a=Ie(3,null,null,t),e.current=a,a.stateNode=e,t=Ed(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},Sd(a),e}function CE(e){return e?(e=Kr,e):Kr}function DE(e,t,n,i,r,a){r=CE(r),i.context===null?i.context=r:i.pendingContext=r,i=yi(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=vi(e,i,t),n!==null&&(xe(n,e,t),ws(n,e,t))}function ly(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xd(e,t){ly(e,t),(e=e.alternate)&&ly(e,t)}function NE(e){if(e.tag===13||e.tag===31){var t=Tr(e,67108864);t!==null&&xe(t,e,67108864),Xd(e,67108864)}}function oy(e){if(e.tag===13||e.tag===31){var t=ze();t=sd(t);var n=Tr(e,t);n!==null&&xe(n,e,t),Xd(e,t)}}var lu=!0;function dA(e,t,n,i){var r=X.T;X.T=null;var a=ft.p;try{ft.p=2,$d(e,t,n,i)}finally{ft.p=a,X.T=r}}function mA(e,t,n,i){var r=X.T;X.T=null;var a=ft.p;try{ft.p=8,$d(e,t,n,i)}finally{ft.p=a,X.T=r}}function $d(e,t,n,i){if(lu){var r=wf(i);if(r===null)dh(e,t,i,ou,n),uy(e,i);else if(pA(r,e,t,n,i))i.stopPropagation();else if(uy(e,i),t&4&&-1<gA.indexOf(e)){for(;r!==null;){var a=Ca(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Ji(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-je(s);o.entanglements[1]|=u,s&=~u}Tn(a),!(ht&6)&&(Zo=Le()+500,vl(0))}}break;case 31:case 13:o=Tr(a,2),o!==null&&xe(o,a,2),Pu(),Xd(a,2)}if(a=wf(i),a===null&&dh(e,t,i,ou,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else dh(e,t,i,null,n)}}function wf(e){return e=cd(e),Zd(e)}var ou=null;function Zd(e){if(ou=null,e=Hr(e),e!==null){var t=ul(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=$0(t),e!==null)return e;e=null}else if(n===31){if(e=Z0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ou=e,null}function VE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tS()){case ev:return 2;case nv:return 8;case jo:case eS:return 32;case iv:return 268435456;default:return 32}default:return 32}}var xf=!1,Ti=null,bi=null,Si=null,Zs=new Map,Js=new Map,oi=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(e,t){switch(e){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(t.pointerId)}}function os(e,t,n,i,r,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},t!==null&&(t=Ca(t),t!==null&&NE(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function pA(e,t,n,i,r){switch(t){case"focusin":return Ti=os(Ti,e,t,n,i,r),!0;case"dragenter":return bi=os(bi,e,t,n,i,r),!0;case"mouseover":return Si=os(Si,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return Zs.set(a,os(Zs.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Js.set(a,os(Js.get(a)||null,e,t,n,i,r)),!0}return!1}function IE(e){var t=Hr(e.target);if(t!==null){var n=ul(t);if(n!==null){if(t=n.tag,t===13){if(t=$0(n),t!==null){e.blockedOn=t,Yg(e.priority,function(){oy(n)});return}}else if(t===31){if(t=Z0(n),t!==null){e.blockedOn=t,Yg(e.priority,function(){oy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);qh=i,n.target.dispatchEvent(i),qh=null}else return t=Ca(n),t!==null&&NE(t),e.blockedOn=n,!1;t.shift()}return!0}function cy(e,t,n){wo(e)&&n.delete(t)}function yA(){xf=!1,Ti!==null&&wo(Ti)&&(Ti=null),bi!==null&&wo(bi)&&(bi=null),Si!==null&&wo(Si)&&(Si=null),Zs.forEach(cy),Js.forEach(cy)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,xf||(xf=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,yA)))}var no=null;function hy(e){no!==e&&(no=e,$t.unstable_scheduleCallback($t.unstable_NormalPriority,function(){no===e&&(no=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(Zd(i||n)===null)continue;break}var a=Ca(n);a!==null&&(e.splice(t,3),t-=3,sf(a,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function _a(e){function t(u){return eo(u,e)}Ti!==null&&eo(Ti,e),bi!==null&&eo(bi,e),Si!==null&&eo(Si,e),Zs.forEach(t),Js.forEach(t);for(var n=0;n<oi.length;n++){var i=oi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)IE(n),n.blockedOn===null&&oi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],a=n[i+1],s=r[Re]||null;if(typeof a=="function")s||hy(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,s=a[Re]||null)o=s.formAction;else if(Zd(r)!==null)continue}else o=s.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),hy(n)}}}function ME(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return r=s})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Jd(e){this._internalRoot=e}Fu.prototype.render=Jd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));var n=t.current,i=ze();DE(n,i,e,t,null,null)};Fu.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;DE(e.current,2,null,e,null,null),Pu(),t[Ra]=null}};function Fu(e){this._internalRoot=e}Fu.prototype.unstable_scheduleHydration=function(e){if(e){var t=ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<oi.length&&t!==0&&t<oi[n].priority;n++);oi.splice(n,0,e),n===0&&IE(e)}};var fy=K0.version;if(fy!=="19.2.4")throw Error(j(527,fy,"19.2.4"));ft.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Yb(t),e=e!==null?J0(e):null,e=e===null?null:e.stateNode,e};var vA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{cl=io.inject(vA),Ue=io}catch{}}Ru.createRoot=function(e,t){if(!X0(e))throw Error(j(299));var n=!1,i="",r=A_,a=w_,s=x_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=RE(e,1,!1,null,null,n,i,null,r,a,s,ME),e[Ra]=t.current,Qd(e),new Jd(t)};Ru.hydrateRoot=function(e,t,n){if(!X0(e))throw Error(j(299));var i=!1,r="",a=A_,s=w_,o=x_,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=RE(e,1,!0,t,n??null,i,r,u,a,s,o,ME),t.context=CE(null),n=t.current,i=ze(),i=sd(i),r=yi(i),r.callback=null,vi(n,r,i),n=i,t.current.lanes=n,fl(t,n),Tn(t),e[Ra]=t.current,Qd(e),new Fu(t)};Ru.version="19.2.4";function OE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OE)}catch(e){console.error(e)}}OE(),H0.exports=Ru;var _A=H0.exports;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dy="popstate";function EA(e={}){function t(r,a){let{pathname:s="/",search:o="",hash:u=""}=Sr(r.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Rf("",{pathname:s,search:o,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){let s=r.document.querySelector("base"),o="";if(s&&s.getAttribute("href")){let u=r.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof a=="string"?a:Ws(a))}function i(r,a){sn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return bA(t,n,i,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TA(){return Math.random().toString(36).substring(2,10)}function my(e,t){return{usr:e.state,key:e.key,idx:t}}function Rf(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Sr(t):t,state:n,key:t&&t.key||i||TA()}}function Ws({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Sr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function bA(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function g(){o="POP";let D=f(),E=D==null?null:D-c;c=D,u&&u({action:o,location:N.location,delta:E})}function m(D,E){o="PUSH";let T=Rf(N.location,D,E);n&&n(T,D),c=f()+1;let A=my(T,c),V=N.createHref(T);try{s.pushState(A,"",V)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(V)}a&&u&&u({action:o,location:N.location,delta:1})}function p(D,E){o="REPLACE";let T=Rf(N.location,D,E);n&&n(T,D),c=f();let A=my(T,c),V=N.createHref(T);s.replaceState(A,"",V),a&&u&&u({action:o,location:N.location,delta:0})}function C(D){return SA(D)}let N={get action(){return o},get location(){return e(r,s)},listen(D){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(dy,g),u=D,()=>{r.removeEventListener(dy,g),u=null}},createHref(D){return t(r,D)},createURL:C,encodeLocation(D){let E=C(D);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:p,go(D){return s.go(D)}};return N}function SA(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Ws(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function LE(e,t,n="/"){return AA(e,t,n,!1)}function AA(e,t,n,i){let r=typeof t=="string"?Sr(t):t,a=qn(r.pathname||"/",n);if(a==null)return null;let s=UE(e);wA(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=UA(a);o=OA(s[u],c,i)}return o}function UE(e,t=[],n=[],i="",r=!1){let a=(s,o,u=r,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Nt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let g=jn([i,f.relativePath]),m=n.concat(f);s.children&&s.children.length>0&&(Nt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),UE(s.children,t,m,g,u)),!(s.path==null&&!s.index)&&t.push({path:g,score:IA(g,s.index),routesMeta:m})};return e.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,o);else for(let c of jE(s.path))a(s,o,!0,c)}),t}function jE(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=jE(i.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),r&&o.push(...s),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function wA(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:MA(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var xA=/^:[\w-]+$/,RA=3,CA=2,DA=1,NA=10,VA=-2,gy=e=>e==="*";function IA(e,t){let n=e.split("/"),i=n.length;return n.some(gy)&&(i+=VA),t&&(i+=CA),n.filter(r=>!gy(r)).reduce((r,a)=>r+(xA.test(a)?RA:a===""?DA:NA),i)}function MA(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function OA(e,t,n=!1){let{routesMeta:i}=e,r={},a="/",s=[];for(let o=0;o<i.length;++o){let u=i[o],c=o===i.length-1,f=a==="/"?t:t.slice(a.length)||"/",g=uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!g&&c&&n&&!i[i.length-1].route.index&&(g=uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!g)return null;Object.assign(r,g.params),s.push({params:r,pathname:jn([a,g.pathname]),pathnameBase:BA(jn([a,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(a=jn([a,g.pathnameBase]))}return s}function uu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=LA(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:g},m)=>{if(f==="*"){let C=o[m]||"";s=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const p=o[m];return g&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:e}}function LA(e,t=!1,n=!0){sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(i.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function UA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function qn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}var jA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function zA(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?Sr(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=py(n.substring(1),"/"):a=py(n,t)):a=t,{pathname:a,search:PA(i),hash:HA(r)}}function py(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ph(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kA(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zE(e){let t=kA(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function kE(e,t,n,i=!1){let r;typeof e=="string"?r=Sr(e):(r={...e},Nt(!r.pathname||!r.pathname.includes("?"),ph("?","pathname","search",r)),Nt(!r.pathname||!r.pathname.includes("#"),ph("#","pathname","hash",r)),Nt(!r.search||!r.search.includes("#"),ph("#","search","hash",r)));let a=e===""||r.pathname==="",s=a?"/":r.pathname,o;if(s==null)o=n;else{let g=t.length-1;if(!i&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),g-=1;r.pathname=m.join("/")}o=g>=0?t[g]:"/"}let u=zA(r,o),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var jn=e=>e.join("/").replace(/\/\/+/g,"/"),BA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,qA=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function FA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function GA(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function PE(e,t){let n=e;if(typeof n!="string"||!jA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,r=!1;if(BE)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=qn(s.pathname,t);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:r=!0}catch{sn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HE=["POST","PUT","PATCH","DELETE"];new Set(HE);var QA=["GET",...HE];new Set(QA);var Oa=M.createContext(null);Oa.displayName="DataRouter";var Gu=M.createContext(null);Gu.displayName="DataRouterState";var YA=M.createContext(!1),qE=M.createContext({isTransitioning:!1});qE.displayName="ViewTransition";var KA=M.createContext(new Map);KA.displayName="Fetchers";var XA=M.createContext(null);XA.displayName="Await";var We=M.createContext(null);We.displayName="Navigation";var Tl=M.createContext(null);Tl.displayName="Location";var bn=M.createContext({outlet:null,matches:[],isDataRoute:!1});bn.displayName="Route";var Wd=M.createContext(null);Wd.displayName="RouteError";var FE="REACT_ROUTER_ERROR",$A="REDIRECT",ZA="ROUTE_ERROR_RESPONSE";function JA(e){if(e.startsWith(`${FE}:${$A}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function WA(e){if(e.startsWith(`${FE}:${ZA}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new qA(t.status,t.statusText,t.data)}catch{}}function tw(e,{relative:t}={}){Nt(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=M.useContext(We),{hash:r,pathname:a,search:s}=Sl(e,{relative:t}),o=a;return n!=="/"&&(o=a==="/"?n:jn([n,a])),i.createHref({pathname:o,search:s,hash:r})}function bl(){return M.useContext(Tl)!=null}function Ar(){return Nt(bl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Tl).location}var GE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(e){M.useContext(We).static||M.useLayoutEffect(e)}function tm(){let{isDataRoute:e}=M.useContext(bn);return e?dw():ew()}function ew(){Nt(bl(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(Oa),{basename:t,navigator:n}=M.useContext(We),{matches:i}=M.useContext(bn),{pathname:r}=Ar(),a=JSON.stringify(zE(i)),s=M.useRef(!1);return QE(()=>{s.current=!0}),M.useCallback((u,c={})=>{if(sn(s.current,GE),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=kE(u,JSON.parse(a),r,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:jn([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,a,r,e])}M.createContext(null);function em(){let{matches:e}=M.useContext(bn),t=e[e.length-1];return t?t.params:{}}function Sl(e,{relative:t}={}){let{matches:n}=M.useContext(bn),{pathname:i}=Ar(),r=JSON.stringify(zE(n));return M.useMemo(()=>kE(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function nw(e,t){return YE(e,t)}function YE(e,t,n,i,r){var T;Nt(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=M.useContext(We),{matches:s}=M.useContext(bn),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",g=o&&o.route;{let A=g&&g.path||"";XE(c,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let m=Ar(),p;if(t){let A=typeof t=="string"?Sr(t):t;Nt(f==="/"||((T=A.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),p=A}else p=m;let C=p.pathname||"/",N=C;if(f!=="/"){let A=f.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let D=LE(e,{pathname:N});sn(g||D!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),sn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=lw(D&&D.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:jn([f,a.encodeLocation?a.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:jn([f,a.encodeLocation?a.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),s,n,i,r);return t&&E?M.createElement(Tl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},E):E}function iw(){let e=fw(),t=FA(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:r},n):null,s)}var rw=M.createElement(iw,null),KE=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=WA(e.digest);n&&(e=n)}let t=e!==void 0?M.createElement(bn.Provider,{value:this.props.routeContext},M.createElement(Wd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?M.createElement(aw,{error:e},t):t}};KE.contextType=YA;var yh=new WeakMap;function aw({children:e,error:t}){let{basename:n}=M.useContext(We);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=JA(t.digest);if(i){let r=yh.get(t);if(r)throw r;let a=PE(i.location,n);if(BE&&!yh.get(t))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw yh.set(t,s),s}return M.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function sw({routeContext:e,match:t,children:n}){let i=M.useContext(Oa);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement(bn.Provider,{value:e},n)}function lw(e,t=[],n=null,i=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=n==null?void 0:n.errors;if(s!=null){let f=a.findIndex(g=>g.route.id&&(s==null?void 0:s[g.route.id])!==void 0);Nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(u=f),g.route.id){let{loaderData:m,errors:p}=n,C=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!p||p[g.route.id]===void 0);if(g.route.lazy||C){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let c=n&&i?(f,g)=>{var m,p;i(f,{location:n.location,params:((p=(m=n.matches)==null?void 0:m[0])==null?void 0:p.params)??{},unstable_pattern:GA(n.matches),errorInfo:g})}:void 0;return a.reduceRight((f,g,m)=>{let p,C=!1,N=null,D=null;n&&(p=s&&g.route.id?s[g.route.id]:void 0,N=g.route.errorElement||rw,o&&(u<0&&m===0?(XE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,D=null):u===m&&(C=!0,D=g.route.hydrateFallbackElement||null)));let E=t.concat(a.slice(0,m+1)),T=()=>{let A;return p?A=N:C?A=D:g.route.Component?A=M.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=f,M.createElement(sw,{match:g,routeContext:{outlet:f,matches:E,isDataRoute:n!=null},children:A})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?M.createElement(KE,{location:n.location,revalidation:n.revalidation,component:N,error:p,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:c}):T()},null)}function nm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ow(e){let t=M.useContext(Oa);return Nt(t,nm(e)),t}function uw(e){let t=M.useContext(Gu);return Nt(t,nm(e)),t}function cw(e){let t=M.useContext(bn);return Nt(t,nm(e)),t}function im(e){let t=cw(e),n=t.matches[t.matches.length-1];return Nt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function hw(){return im("useRouteId")}function fw(){var i;let e=M.useContext(Wd),t=uw("useRouteError"),n=im("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function dw(){let{router:e}=ow("useNavigate"),t=im("useNavigate"),n=M.useRef(!1);return QE(()=>{n.current=!0}),M.useCallback(async(r,a={})=>{sn(n.current,GE),n.current&&(typeof r=="number"?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}var yy={};function XE(e,t,n){!t&&!yy[e]&&(yy[e]=!0,sn(!1,n))}M.memo(mw);function mw({routes:e,future:t,state:n,onError:i}){return YE(e,void 0,n,i,t)}function Cf(e){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gw({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:a=!1,unstable_useTransitions:s}){Nt(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:o,navigator:r,static:a,unstable_useTransitions:s,future:{}}),[o,r,a,s]);typeof n=="string"&&(n=Sr(n));let{pathname:c="/",search:f="",hash:g="",state:m=null,key:p="default"}=n,C=M.useMemo(()=>{let N=qn(c,o);return N==null?null:{location:{pathname:N,search:f,hash:g,state:m,key:p},navigationType:i}},[o,c,f,g,m,p,i]);return sn(C!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:M.createElement(We.Provider,{value:u},M.createElement(Tl.Provider,{children:t,value:C}))}function pw({children:e,location:t}){return nw(Df(e),t)}function Df(e,t=[]){let n=[];return M.Children.forEach(e,(i,r)=>{if(!M.isValidElement(i))return;let a=[...t,r];if(i.type===M.Fragment){n.push.apply(n,Df(i.props.children,a));return}Nt(i.type===Cf,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=Df(i.props.children,a)),n.push(s)}),n}var xo="get",Ro="application/x-www-form-urlencoded";function Qu(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function yw(e){return Qu(e)&&e.tagName.toLowerCase()==="button"}function vw(e){return Qu(e)&&e.tagName.toLowerCase()==="form"}function _w(e){return Qu(e)&&e.tagName.toLowerCase()==="input"}function Ew(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tw(e,t){return e.button===0&&(!t||t==="_self")&&!Ew(e)}var ro=null;function bw(){if(ro===null)try{new FormData(document.createElement("form"),0),ro=!1}catch{ro=!0}return ro}var Sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vh(e){return e!=null&&!Sw.has(e)?(sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ro}"`),null):e}function Aw(e,t){let n,i,r,a,s;if(vw(e)){let o=e.getAttribute("action");i=o?qn(o,t):null,n=e.getAttribute("method")||xo,r=vh(e.getAttribute("enctype"))||Ro,a=new FormData(e)}else if(yw(e)||_w(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||o.getAttribute("action");if(i=u?qn(u,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||xo,r=vh(e.getAttribute("formenctype"))||vh(o.getAttribute("enctype"))||Ro,a=new FormData(o,e),!bw()){let{name:c,type:f,value:g}=e;if(f==="image"){let m=c?`${c}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else c&&a.append(c,g)}}else{if(Qu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xo,i=null,r=Ro,s=e}return a&&r==="text/plain"&&(s=a,a=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ww(e,t,n,i){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:t&&qn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function xw(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Cw(e,t,n){let i=await Promise.all(e.map(async r=>{let a=t.routes[r.route.id];if(a){let s=await xw(a,n);return s.links?s.links():[]}return[]}));return Iw(i.flat(1).filter(Rw).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function vy(e,t,n,i,r,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,c)=>s(u,c)||o(u,c)):a==="data"?t.filter((u,c)=>{var g;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Dw(e,t,{includeHydrateFallback:n}={}){return Nw(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function Nw(e){return[...new Set(e)]}function Vw(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function Iw(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let a=JSON.stringify(Vw(r));return n.has(a)||(n.add(a),i.push({key:a,link:r})),i},[])}function $E(){let e=M.useContext(Oa);return rm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Mw(){let e=M.useContext(Gu);return rm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var am=M.createContext(void 0);am.displayName="FrameworkContext";function ZE(){let e=M.useContext(am);return rm(e,"You must render this element inside a <HydratedRouter> element"),e}function Ow(e,t){let n=M.useContext(am),[i,r]=M.useState(!1),[a,s]=M.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:g}=t,m=M.useRef(null);M.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let N=E=>{E.forEach(T=>{s(T.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return m.current&&D.observe(m.current),()=>{D.disconnect()}}},[e]),M.useEffect(()=>{if(i){let N=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(N)}}},[i]);let p=()=>{r(!0)},C=()=>{r(!1),s(!1)};return n?e!=="intent"?[a,m,{}]:[a,m,{onFocus:us(o,p),onBlur:us(u,C),onMouseEnter:us(c,p),onMouseLeave:us(f,C),onTouchStart:us(g,p)}]:[!1,m,{}]}function us(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Lw({page:e,...t}){let{router:n}=$E(),i=M.useMemo(()=>LE(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?M.createElement(jw,{page:e,matches:i,...t}):null}function Uw(e){let{manifest:t,routeModules:n}=ZE(),[i,r]=M.useState([]);return M.useEffect(()=>{let a=!1;return Cw(e,t,n).then(s=>{a||r(s)}),()=>{a=!0}},[e,t,n]),i}function jw({page:e,matches:t,...n}){let i=Ar(),{future:r,manifest:a,routeModules:s}=ZE(),{basename:o}=$E(),{loaderData:u,matches:c}=Mw(),f=M.useMemo(()=>vy(e,t,c,a,i,"data"),[e,t,c,a,i]),g=M.useMemo(()=>vy(e,t,c,a,i,"assets"),[e,t,c,a,i]),m=M.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let N=new Set,D=!1;if(t.forEach(T=>{var V;let A=a.routes[T.route.id];!A||!A.hasLoader||(!f.some(L=>L.route.id===T.route.id)&&T.route.id in u&&((V=s[T.route.id])!=null&&V.shouldRevalidate)||A.hasClientLoader?D=!0:N.add(T.route.id))}),N.size===0)return[];let E=ww(e,o,r.unstable_trailingSlashAwareDataRequests,"data");return D&&N.size>0&&E.searchParams.set("_routes",t.filter(T=>N.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[o,r.unstable_trailingSlashAwareDataRequests,u,i,a,f,t,e,s]),p=M.useMemo(()=>Dw(g,a),[g,a]),C=Uw(g);return M.createElement(M.Fragment,null,m.map(N=>M.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),p.map(N=>M.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),C.map(({key:N,link:D})=>M.createElement("link",{key:N,nonce:n.nonce,...D,crossOrigin:D.crossOrigin??n.crossOrigin})))}function zw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kw&&(window.__reactRouterVersion="7.13.0")}catch{}function Bw({basename:e,children:t,unstable_useTransitions:n,window:i}){let r=M.useRef();r.current==null&&(r.current=EA({window:i,v5Compat:!0}));let a=r.current,[s,o]=M.useState({action:a.action,location:a.location}),u=M.useCallback(c=>{n===!1?o(c):M.startTransition(()=>o(c))},[n]);return M.useLayoutEffect(()=>a.listen(u),[a,u]),M.createElement(gw,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WE=M.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:a,replace:s,state:o,target:u,to:c,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:m,...p},C){let{basename:N,unstable_useTransitions:D}=M.useContext(We),E=typeof c=="string"&&JE.test(c),T=PE(c,N);c=T.to;let A=tw(c,{relative:r}),[V,L,P]=Ow(i,p),y=Fw(c,{replace:s,state:o,target:u,preventScrollReset:f,relative:r,viewTransition:g,unstable_defaultShouldRevalidate:m,unstable_useTransitions:D});function _(w){t&&t(w),w.defaultPrevented||y(w)}let b=M.createElement("a",{...p,...P,href:T.absoluteURL||A,onClick:T.isExternal||a?t:_,ref:zw(C,L),target:u,"data-discover":!E&&n==="render"?"true":void 0});return V&&!E?M.createElement(M.Fragment,null,b,M.createElement(Lw,{page:A})):b});WE.displayName="Link";var Pw=M.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:a,to:s,viewTransition:o,children:u,...c},f){let g=Sl(s,{relative:c.relative}),m=Ar(),p=M.useContext(Gu),{navigator:C,basename:N}=M.useContext(We),D=p!=null&&Xw(g)&&o===!0,E=C.encodeLocation?C.encodeLocation(g).pathname:g.pathname,T=m.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(T=T.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&N&&(A=qn(A,N)||A);const V=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=T===E||!r&&T.startsWith(E)&&T.charAt(V)==="/",P=A!=null&&(A===E||!r&&A.startsWith(E)&&A.charAt(E.length)==="/"),y={isActive:L,isPending:P,isTransitioning:D},_=L?t:void 0,b;typeof i=="function"?b=i(y):b=[i,L?"active":null,P?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let w=typeof a=="function"?a(y):a;return M.createElement(WE,{...c,"aria-current":_,className:b,ref:f,style:w,to:s,viewTransition:o},typeof u=="function"?u(y):u)});Pw.displayName="NavLink";var Hw=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:a,method:s=xo,action:o,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:m,...p},C)=>{let{unstable_useTransitions:N}=M.useContext(We),D=Yw(),E=Kw(o,{relative:c}),T=s.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&JE.test(o),V=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let P=L.nativeEvent.submitter,y=(P==null?void 0:P.getAttribute("formmethod"))||s,_=()=>D(P||L.currentTarget,{fetcherKey:t,method:y,navigate:n,replace:r,state:a,relative:c,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:m});N&&n!==!1?M.startTransition(()=>_()):_()};return M.createElement("form",{ref:C,method:T,action:E,onSubmit:i?u:V,...p,"data-discover":!A&&e==="render"?"true":void 0})});Hw.displayName="Form";function qw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t1(e){let t=M.useContext(Oa);return Nt(t,qw(e)),t}function Fw(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let c=tm(),f=Ar(),g=Sl(e,{relative:a});return M.useCallback(m=>{if(Tw(m,t)){m.preventDefault();let p=n!==void 0?n:Ws(f)===Ws(g),C=()=>c(e,{replace:p,state:i,preventScrollReset:r,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});u?M.startTransition(()=>C()):C()}},[f,c,g,n,i,t,e,r,a,s,o,u])}var Gw=0,Qw=()=>`__${String(++Gw)}__`;function Yw(){let{router:e}=t1("useSubmit"),{basename:t}=M.useContext(We),n=hw(),i=e.fetch,r=e.navigate;return M.useCallback(async(a,s={})=>{let{action:o,method:u,encType:c,formData:f,body:g}=Aw(a,t);if(s.navigate===!1){let m=s.fetcherKey||Qw();await i(m,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await r(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:g,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[i,r,t,n])}function Kw(e,{relative:t}={}){let{basename:n}=M.useContext(We),i=M.useContext(bn);Nt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),a={...Sl(e||".",{relative:t})},s=Ar();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(g=>g).forEach(g=>o.append("index",g));let f=o.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:jn([n,a.pathname])),Ws(a)}function Xw(e,{relative:t}={}){let n=M.useContext(qE);Nt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=t1("useViewTransitionState"),r=Sl(e,{relative:t});if(!n.isTransitioning)return!1;let a=qn(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=qn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return uu(r.pathname,s)!=null||uu(r.pathname,a)!=null}function e1({message:e,type:t="info",onClose:n,duration:i=3e3}){M.useEffect(()=>{const s=setTimeout(n,i);return()=>clearTimeout(s)},[n,i]);const r={info:"bg-gray-900 border-white/10 text-white",error:"bg-red-600 border-red-500/50 text-white",success:"bg-green-600 border-green-500/50 text-white"},a={info:S.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),error:S.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),success:S.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})};return S.jsx("div",{className:"fixed top-8 left-1/2 -translate-x-1/2 z-[100] animate-in fade-in slide-in-from-top-4 duration-300",children:S.jsxs("div",{className:`${r[t]} px-5 py-2.5 rounded-full shadow-2xl flex items-center gap-2 border`,children:[a[t],S.jsx("span",{className:"text-sm font-bold tracking-tight",children:e})]})})}const _y=e=>{let t;const n=new Set,i=(c,f)=>{const g=typeof c=="function"?c(t):c;if(!Object.is(g,t)){const m=t;t=f??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(p=>p(t,m))}},r=()=>t,o={setState:i,getState:r,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c))},u=t=e(i,r,o);return o},$w=e=>e?_y(e):_y,Zw=e=>e;function Jw(e,t=Zw){const n=Hl.useSyncExternalStore(e.subscribe,Hl.useCallback(()=>t(e.getState()),[e,t]),Hl.useCallback(()=>t(e.getInitialState()),[e,t]));return Hl.useDebugValue(n),n}const Ey=e=>{const t=$w(e),n=i=>Jw(t,i);return Object.assign(n,t),n},Ww=e=>e?Ey(e):Ey,tx=()=>{};var Ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},ex=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=e[n++];t[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=e[n++],s=e[n++],o=e[n++],u=((r&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const a=e[n++],s=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63)}}return t.join("")},i1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const a=e[r],s=r+1<e.length,o=s?e[r+1]:0,u=r+2<e.length,c=u?e[r+2]:0,f=a>>2,g=(a&3)<<4|o>>4;let m=(o&15)<<2|c>>6,p=c&63;u||(p=64,s||(m=64)),i.push(n[f],n[g],n[m],n[p])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(n1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ex(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const a=n[e.charAt(r++)],o=r<e.length?n[e.charAt(r)]:0;++r;const c=r<e.length?n[e.charAt(r)]:64;++r;const g=r<e.length?n[e.charAt(r)]:64;if(++r,a==null||o==null||c==null||g==null)throw new nx;const m=a<<2|o>>4;if(i.push(m),c!==64){const p=o<<4&240|c>>2;if(i.push(p),g!==64){const C=c<<6&192|g;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ix=function(e){const t=n1(e);return i1.encodeByteArray(t,!0)},cu=function(e){return ix(e).replace(/\./g,"")},rx=function(e){try{return i1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=()=>ax().__FIREBASE_DEFAULTS__,lx=()=>{if(typeof process>"u"||typeof Ty>"u")return;const e=Ty.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ox=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&rx(e[1]);return t&&JSON.parse(t)},sm=()=>{try{return tx()||sx()||lx()||ox()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ux=e=>{var t,n;return(n=(t=sm())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},cx=e=>{const t=ux(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},r1=()=>{var e;return(e=sm())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fx(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[cu(JSON.stringify(n)),cu(JSON.stringify(s)),""].join(".")}const Os={};function mx(){const e={prod:[],emulator:[]};for(const t of Object.keys(Os))Os[t]?e.emulator.push(t):e.prod.push(t);return e}function gx(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let by=!1;function px(e,t){if(typeof window>"u"||typeof document>"u"||!lm(window.location.host)||Os[e]===t||Os[e]||by)return;Os[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",a=mx().prod.length>0;function s(){const m=document.getElementById(i);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{by=!0,s()},m}function f(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=gx(i),p=n("text"),C=document.getElementById(p)||document.createElement("span"),N=n("learnmore"),D=document.getElementById(N)||document.createElement("a"),E=n("preprendIcon"),T=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const A=m.element;o(A),f(D,N);const V=c();u(T,E),A.append(T,C,D,V),document.body.appendChild(A)}a?(C.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vx(){var t;const e=(t=sm())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _x(){return!vx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ex(){try{return typeof indexedDB=="object"}catch{return!1}}function Tx(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;t(((a=r.error)==null?void 0:a.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="FirebaseError";class La extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=bx,Object.setPrototypeOf(this,La.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a1.prototype.create)}}class a1{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,a=this.errors[t],s=a?Sx(a,i):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new La(r,o,i)}}function Sx(e,t){return e.replace(Ax,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const Ax=/\{\$([^}]+)}/g;function hu(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const a=e[r],s=t[r];if(Sy(a)&&Sy(s)){if(!hu(a,s))return!1}else if(a!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Sy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(e){return e&&e._delegate?e._delegate:e}class tl{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new hx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Rx(t))try{this.getOrInitializeService({instanceIdentifier:er})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(t=er){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=er){return this.instances.has(t)}getOptions(t=er){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);i===o&&s.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&t(a,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xx(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=er){return this.component?this.component.multipleInstances?t:er:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xx(e){return e===er?void 0:e}function Rx(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ut||(ut={}));const Dx={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},Nx=ut.INFO,Vx={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},Ix=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=Vx[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class s1{constructor(t){this.name=t,this._logLevel=Nx,this._logHandler=Ix,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Dx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...t),this._logHandler(this,ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...t),this._logHandler(this,ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...t),this._logHandler(this,ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...t),this._logHandler(this,ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...t),this._logHandler(this,ut.ERROR,...t)}}const Mx=(e,t)=>t.some(n=>e instanceof n);let Ay,wy;function Ox(){return Ay||(Ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lx(){return wy||(wy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l1=new WeakMap,Nf=new WeakMap,o1=new WeakMap,_h=new WeakMap,om=new WeakMap;function Ux(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{n(Ai(e.result)),r()},s=()=>{i(e.error),r()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&l1.set(n,e)}).catch(()=>{}),om.set(t,e),t}function jx(e){if(Nf.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{n(),r()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Nf.set(e,t)}let Vf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Nf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||o1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zx(e){Vf=e(Vf)}function kx(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Eh(this),t,...n);return o1.set(i,t.sort?t.sort():[t]),Ai(i)}:Lx().includes(e)?function(...t){return e.apply(Eh(this),t),Ai(l1.get(this))}:function(...t){return Ai(e.apply(Eh(this),t))}}function Bx(e){return typeof e=="function"?kx(e):(e instanceof IDBTransaction&&jx(e),Mx(e,Ox())?new Proxy(e,Vf):e)}function Ai(e){if(e instanceof IDBRequest)return Ux(e);if(_h.has(e))return _h.get(e);const t=Bx(e);return t!==e&&(_h.set(e,t),om.set(t,e)),t}const Eh=e=>om.get(e);function Px(e,t,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const s=indexedDB.open(e,t),o=Ai(s);return i&&s.addEventListener("upgradeneeded",u=>{i(Ai(s.result),u.oldVersion,u.newVersion,Ai(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{a&&u.addEventListener("close",()=>a()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Hx=["get","getKey","getAll","getAllKeys","count"],qx=["put","add","delete","clear"],Th=new Map;function xy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Th.get(t))return Th.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=qx.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Hx.includes(n)))return;const a=async function(s,...o){const u=this.transaction(s,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),r&&u.done]))[0]};return Th.set(t,a),a}zx(e=>({...e,get:(t,n,i)=>xy(t,n)||e.get(t,n,i),has:(t,n)=>!!xy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Gx(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Gx(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const If="@firebase/app",Ry="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=new s1("@firebase/app"),Qx="@firebase/app-compat",Yx="@firebase/analytics-compat",Kx="@firebase/analytics",Xx="@firebase/app-check-compat",$x="@firebase/app-check",Zx="@firebase/auth",Jx="@firebase/auth-compat",Wx="@firebase/database",tR="@firebase/data-connect",eR="@firebase/database-compat",nR="@firebase/functions",iR="@firebase/functions-compat",rR="@firebase/installations",aR="@firebase/installations-compat",sR="@firebase/messaging",lR="@firebase/messaging-compat",oR="@firebase/performance",uR="@firebase/performance-compat",cR="@firebase/remote-config",hR="@firebase/remote-config-compat",fR="@firebase/storage",dR="@firebase/storage-compat",mR="@firebase/firestore",gR="@firebase/ai",pR="@firebase/firestore-compat",yR="firebase",vR="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",_R={[If]:"fire-core",[Qx]:"fire-core-compat",[Kx]:"fire-analytics",[Yx]:"fire-analytics-compat",[$x]:"fire-app-check",[Xx]:"fire-app-check-compat",[Zx]:"fire-auth",[Jx]:"fire-auth-compat",[Wx]:"fire-rtdb",[tR]:"fire-data-connect",[eR]:"fire-rtdb-compat",[nR]:"fire-fn",[iR]:"fire-fn-compat",[rR]:"fire-iid",[aR]:"fire-iid-compat",[sR]:"fire-fcm",[lR]:"fire-fcm-compat",[oR]:"fire-perf",[uR]:"fire-perf-compat",[cR]:"fire-rc",[hR]:"fire-rc-compat",[fR]:"fire-gcs",[dR]:"fire-gcs-compat",[mR]:"fire-fst",[pR]:"fire-fst-compat",[gR]:"fire-vertex","fire-js":"fire-js",[yR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,ER=new Map,Of=new Map;function Cy(e,t){try{e.container.addComponent(t)}catch(n){Gn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function du(e){const t=e.name;if(Of.has(t))return Gn.debug(`There were multiple attempts to register component ${t}.`),!1;Of.set(t,e);for(const n of fu.values())Cy(n,e);for(const n of ER.values())Cy(n,e);return!0}function TR(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function bR(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new a1("app","Firebase",SR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=vR;function u1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Mf,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw wi.create("bad-app-name",{appName:String(r)});if(n||(n=r1()),!n)throw wi.create("no-options");const a=fu.get(r);if(a){if(hu(n,a.options)&&hu(i,a.config))return a;throw wi.create("duplicate-app",{appName:r})}const s=new Cx(r);for(const u of Of.values())s.addComponent(u);const o=new AR(n,i,s);return fu.set(r,o),o}function xR(e=Mf){const t=fu.get(e);if(!t&&e===Mf&&r1())return u1();if(!t)throw wi.create("no-app",{appName:e});return t}function aa(e,t,n){let i=_R[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const s=[`Unable to register library "${i}" with version "${t}":`];r&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gn.warn(s.join(" "));return}du(new tl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebase-heartbeat-database",CR=1,el="firebase-heartbeat-store";let bh=null;function c1(){return bh||(bh=Px(RR,CR,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(el)}catch(n){console.warn(n)}}}}).catch(e=>{throw wi.create("idb-open",{originalErrorMessage:e.message})})),bh}async function DR(e){try{const n=(await c1()).transaction(el),i=await n.objectStore(el).get(h1(e));return await n.done,i}catch(t){if(t instanceof La)Gn.warn(t.message);else{const n=wi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gn.warn(n.message)}}}async function Dy(e,t){try{const i=(await c1()).transaction(el,"readwrite");await i.objectStore(el).put(t,h1(e)),await i.done}catch(n){if(n instanceof La)Gn.warn(n.message);else{const i=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gn.warn(i.message)}}}function h1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1024,VR=30;class IR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ny();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>VR){const s=LR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Gn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ny(),{heartbeatsToSend:i,unsentEntries:r}=MR(this._heartbeatsCache.heartbeats),a=cu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Gn.warn(n),""}}}function Ny(){return new Date().toISOString().substring(0,10)}function MR(e,t=NR){const n=[];let i=e.slice();for(const r of e){const a=n.find(s=>s.agent===r.agent);if(a){if(a.dates.push(r.date),Vy(n)>t){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Vy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class OR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ex()?Tx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await DR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Dy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Dy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Vy(e){return cu(JSON.stringify({version:2,heartbeats:e})).length}function LR(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(e){du(new tl("platform-logger",t=>new Fx(t),"PRIVATE")),du(new tl("heartbeat",t=>new IR(t),"PRIVATE")),aa(If,Ry,e),aa(If,Ry,"esm2020"),aa("fire-js","")}UR("");var jR="firebase",zR="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aa(jR,zR,"app");var Iy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,f1;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(y,_){function b(){}b.prototype=_.prototype,y.F=_.prototype,y.prototype=new b,y.prototype.constructor=y,y.D=function(w,R,I){for(var x=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)x[Gt-2]=arguments[Gt];return _.prototype[R].apply(w,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(y,_,b){b||(b=0);const w=Array(16);if(typeof _=="string")for(var R=0;R<16;++R)w[R]=_.charCodeAt(b++)|_.charCodeAt(b++)<<8|_.charCodeAt(b++)<<16|_.charCodeAt(b++)<<24;else for(R=0;R<16;++R)w[R]=_[b++]|_[b++]<<8|_[b++]<<16|_[b++]<<24;_=y.g[0],b=y.g[1],R=y.g[2];let I=y.g[3],x;x=_+(I^b&(R^I))+w[0]+3614090360&4294967295,_=b+(x<<7&4294967295|x>>>25),x=I+(R^_&(b^R))+w[1]+3905402710&4294967295,I=_+(x<<12&4294967295|x>>>20),x=R+(b^I&(_^b))+w[2]+606105819&4294967295,R=I+(x<<17&4294967295|x>>>15),x=b+(_^R&(I^_))+w[3]+3250441966&4294967295,b=R+(x<<22&4294967295|x>>>10),x=_+(I^b&(R^I))+w[4]+4118548399&4294967295,_=b+(x<<7&4294967295|x>>>25),x=I+(R^_&(b^R))+w[5]+1200080426&4294967295,I=_+(x<<12&4294967295|x>>>20),x=R+(b^I&(_^b))+w[6]+2821735955&4294967295,R=I+(x<<17&4294967295|x>>>15),x=b+(_^R&(I^_))+w[7]+4249261313&4294967295,b=R+(x<<22&4294967295|x>>>10),x=_+(I^b&(R^I))+w[8]+1770035416&4294967295,_=b+(x<<7&4294967295|x>>>25),x=I+(R^_&(b^R))+w[9]+2336552879&4294967295,I=_+(x<<12&4294967295|x>>>20),x=R+(b^I&(_^b))+w[10]+4294925233&4294967295,R=I+(x<<17&4294967295|x>>>15),x=b+(_^R&(I^_))+w[11]+2304563134&4294967295,b=R+(x<<22&4294967295|x>>>10),x=_+(I^b&(R^I))+w[12]+1804603682&4294967295,_=b+(x<<7&4294967295|x>>>25),x=I+(R^_&(b^R))+w[13]+4254626195&4294967295,I=_+(x<<12&4294967295|x>>>20),x=R+(b^I&(_^b))+w[14]+2792965006&4294967295,R=I+(x<<17&4294967295|x>>>15),x=b+(_^R&(I^_))+w[15]+1236535329&4294967295,b=R+(x<<22&4294967295|x>>>10),x=_+(R^I&(b^R))+w[1]+4129170786&4294967295,_=b+(x<<5&4294967295|x>>>27),x=I+(b^R&(_^b))+w[6]+3225465664&4294967295,I=_+(x<<9&4294967295|x>>>23),x=R+(_^b&(I^_))+w[11]+643717713&4294967295,R=I+(x<<14&4294967295|x>>>18),x=b+(I^_&(R^I))+w[0]+3921069994&4294967295,b=R+(x<<20&4294967295|x>>>12),x=_+(R^I&(b^R))+w[5]+3593408605&4294967295,_=b+(x<<5&4294967295|x>>>27),x=I+(b^R&(_^b))+w[10]+38016083&4294967295,I=_+(x<<9&4294967295|x>>>23),x=R+(_^b&(I^_))+w[15]+3634488961&4294967295,R=I+(x<<14&4294967295|x>>>18),x=b+(I^_&(R^I))+w[4]+3889429448&4294967295,b=R+(x<<20&4294967295|x>>>12),x=_+(R^I&(b^R))+w[9]+568446438&4294967295,_=b+(x<<5&4294967295|x>>>27),x=I+(b^R&(_^b))+w[14]+3275163606&4294967295,I=_+(x<<9&4294967295|x>>>23),x=R+(_^b&(I^_))+w[3]+4107603335&4294967295,R=I+(x<<14&4294967295|x>>>18),x=b+(I^_&(R^I))+w[8]+1163531501&4294967295,b=R+(x<<20&4294967295|x>>>12),x=_+(R^I&(b^R))+w[13]+2850285829&4294967295,_=b+(x<<5&4294967295|x>>>27),x=I+(b^R&(_^b))+w[2]+4243563512&4294967295,I=_+(x<<9&4294967295|x>>>23),x=R+(_^b&(I^_))+w[7]+1735328473&4294967295,R=I+(x<<14&4294967295|x>>>18),x=b+(I^_&(R^I))+w[12]+2368359562&4294967295,b=R+(x<<20&4294967295|x>>>12),x=_+(b^R^I)+w[5]+4294588738&4294967295,_=b+(x<<4&4294967295|x>>>28),x=I+(_^b^R)+w[8]+2272392833&4294967295,I=_+(x<<11&4294967295|x>>>21),x=R+(I^_^b)+w[11]+1839030562&4294967295,R=I+(x<<16&4294967295|x>>>16),x=b+(R^I^_)+w[14]+4259657740&4294967295,b=R+(x<<23&4294967295|x>>>9),x=_+(b^R^I)+w[1]+2763975236&4294967295,_=b+(x<<4&4294967295|x>>>28),x=I+(_^b^R)+w[4]+1272893353&4294967295,I=_+(x<<11&4294967295|x>>>21),x=R+(I^_^b)+w[7]+4139469664&4294967295,R=I+(x<<16&4294967295|x>>>16),x=b+(R^I^_)+w[10]+3200236656&4294967295,b=R+(x<<23&4294967295|x>>>9),x=_+(b^R^I)+w[13]+681279174&4294967295,_=b+(x<<4&4294967295|x>>>28),x=I+(_^b^R)+w[0]+3936430074&4294967295,I=_+(x<<11&4294967295|x>>>21),x=R+(I^_^b)+w[3]+3572445317&4294967295,R=I+(x<<16&4294967295|x>>>16),x=b+(R^I^_)+w[6]+76029189&4294967295,b=R+(x<<23&4294967295|x>>>9),x=_+(b^R^I)+w[9]+3654602809&4294967295,_=b+(x<<4&4294967295|x>>>28),x=I+(_^b^R)+w[12]+3873151461&4294967295,I=_+(x<<11&4294967295|x>>>21),x=R+(I^_^b)+w[15]+530742520&4294967295,R=I+(x<<16&4294967295|x>>>16),x=b+(R^I^_)+w[2]+3299628645&4294967295,b=R+(x<<23&4294967295|x>>>9),x=_+(R^(b|~I))+w[0]+4096336452&4294967295,_=b+(x<<6&4294967295|x>>>26),x=I+(b^(_|~R))+w[7]+1126891415&4294967295,I=_+(x<<10&4294967295|x>>>22),x=R+(_^(I|~b))+w[14]+2878612391&4294967295,R=I+(x<<15&4294967295|x>>>17),x=b+(I^(R|~_))+w[5]+4237533241&4294967295,b=R+(x<<21&4294967295|x>>>11),x=_+(R^(b|~I))+w[12]+1700485571&4294967295,_=b+(x<<6&4294967295|x>>>26),x=I+(b^(_|~R))+w[3]+2399980690&4294967295,I=_+(x<<10&4294967295|x>>>22),x=R+(_^(I|~b))+w[10]+4293915773&4294967295,R=I+(x<<15&4294967295|x>>>17),x=b+(I^(R|~_))+w[1]+2240044497&4294967295,b=R+(x<<21&4294967295|x>>>11),x=_+(R^(b|~I))+w[8]+1873313359&4294967295,_=b+(x<<6&4294967295|x>>>26),x=I+(b^(_|~R))+w[15]+4264355552&4294967295,I=_+(x<<10&4294967295|x>>>22),x=R+(_^(I|~b))+w[6]+2734768916&4294967295,R=I+(x<<15&4294967295|x>>>17),x=b+(I^(R|~_))+w[13]+1309151649&4294967295,b=R+(x<<21&4294967295|x>>>11),x=_+(R^(b|~I))+w[4]+4149444226&4294967295,_=b+(x<<6&4294967295|x>>>26),x=I+(b^(_|~R))+w[11]+3174756917&4294967295,I=_+(x<<10&4294967295|x>>>22),x=R+(_^(I|~b))+w[2]+718787259&4294967295,R=I+(x<<15&4294967295|x>>>17),x=b+(I^(R|~_))+w[9]+3951481745&4294967295,y.g[0]=y.g[0]+_&4294967295,y.g[1]=y.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,y.g[2]=y.g[2]+R&4294967295,y.g[3]=y.g[3]+I&4294967295}i.prototype.v=function(y,_){_===void 0&&(_=y.length);const b=_-this.blockSize,w=this.C;let R=this.h,I=0;for(;I<_;){if(R==0)for(;I<=b;)r(this,y,I),I+=this.blockSize;if(typeof y=="string"){for(;I<_;)if(w[R++]=y.charCodeAt(I++),R==this.blockSize){r(this,w),R=0;break}}else for(;I<_;)if(w[R++]=y[I++],R==this.blockSize){r(this,w),R=0;break}}this.h=R,this.o+=_},i.prototype.A=function(){var y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);y[0]=128;for(var _=1;_<y.length-8;++_)y[_]=0;_=this.o*8;for(var b=y.length-8;b<y.length;++b)y[b]=_&255,_/=256;for(this.v(y),y=Array(16),_=0,b=0;b<4;++b)for(let w=0;w<32;w+=8)y[_++]=this.g[b]>>>w&255;return y};function a(y,_){var b=o;return Object.prototype.hasOwnProperty.call(b,y)?b[y]:b[y]=_(y)}function s(y,_){this.h=_;const b=[];let w=!0;for(let R=y.length-1;R>=0;R--){const I=y[R]|0;w&&I==_||(b[R]=I,w=!1)}this.g=b}var o={};function u(y){return-128<=y&&y<128?a(y,function(_){return new s([_|0],_<0?-1:0)}):new s([y|0],y<0?-1:0)}function c(y){if(isNaN(y)||!isFinite(y))return g;if(y<0)return D(c(-y));const _=[];let b=1;for(let w=0;y>=b;w++)_[w]=y/b|0,b*=4294967296;return new s(_,0)}function f(y,_){if(y.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(y.charAt(0)=="-")return D(f(y.substring(1),_));if(y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=c(Math.pow(_,8));let w=g;for(let I=0;I<y.length;I+=8){var R=Math.min(8,y.length-I);const x=parseInt(y.substring(I,I+R),_);R<8?(R=c(Math.pow(_,R)),w=w.j(R).add(c(x))):(w=w.j(b),w=w.add(c(x)))}return w}var g=u(0),m=u(1),p=u(16777216);e=s.prototype,e.m=function(){if(N(this))return-D(this).m();let y=0,_=1;for(let b=0;b<this.g.length;b++){const w=this.i(b);y+=(w>=0?w:4294967296+w)*_,_*=4294967296}return y},e.toString=function(y){if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(C(this))return"0";if(N(this))return"-"+D(this).toString(y);const _=c(Math.pow(y,6));var b=this;let w="";for(;;){const R=V(b,_).g;b=E(b,R.j(_));let I=((b.g.length>0?b.g[0]:b.h)>>>0).toString(y);if(b=R,C(b))return I+w;for(;I.length<6;)I="0"+I;w=I+w}},e.i=function(y){return y<0?0:y<this.g.length?this.g[y]:this.h};function C(y){if(y.h!=0)return!1;for(let _=0;_<y.g.length;_++)if(y.g[_]!=0)return!1;return!0}function N(y){return y.h==-1}e.l=function(y){return y=E(this,y),N(y)?-1:C(y)?0:1};function D(y){const _=y.g.length,b=[];for(let w=0;w<_;w++)b[w]=~y.g[w];return new s(b,~y.h).add(m)}e.abs=function(){return N(this)?D(this):this},e.add=function(y){const _=Math.max(this.g.length,y.g.length),b=[];let w=0;for(let R=0;R<=_;R++){let I=w+(this.i(R)&65535)+(y.i(R)&65535),x=(I>>>16)+(this.i(R)>>>16)+(y.i(R)>>>16);w=x>>>16,I&=65535,x&=65535,b[R]=x<<16|I}return new s(b,b[b.length-1]&-2147483648?-1:0)};function E(y,_){return y.add(D(_))}e.j=function(y){if(C(this)||C(y))return g;if(N(this))return N(y)?D(this).j(D(y)):D(D(this).j(y));if(N(y))return D(this.j(D(y)));if(this.l(p)<0&&y.l(p)<0)return c(this.m()*y.m());const _=this.g.length+y.g.length,b=[];for(var w=0;w<2*_;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(let R=0;R<y.g.length;R++){const I=this.i(w)>>>16,x=this.i(w)&65535,Gt=y.i(R)>>>16,_e=y.i(R)&65535;b[2*w+2*R]+=x*_e,T(b,2*w+2*R),b[2*w+2*R+1]+=I*_e,T(b,2*w+2*R+1),b[2*w+2*R+1]+=x*Gt,T(b,2*w+2*R+1),b[2*w+2*R+2]+=I*Gt,T(b,2*w+2*R+2)}for(y=0;y<_;y++)b[y]=b[2*y+1]<<16|b[2*y];for(y=_;y<2*_;y++)b[y]=0;return new s(b,0)};function T(y,_){for(;(y[_]&65535)!=y[_];)y[_+1]+=y[_]>>>16,y[_]&=65535,_++}function A(y,_){this.g=y,this.h=_}function V(y,_){if(C(_))throw Error("division by zero");if(C(y))return new A(g,g);if(N(y))return _=V(D(y),_),new A(D(_.g),D(_.h));if(N(_))return _=V(y,D(_)),new A(D(_.g),_.h);if(y.g.length>30){if(N(y)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var b=m,w=_;w.l(y)<=0;)b=L(b),w=L(w);var R=P(b,1),I=P(w,1);for(w=P(w,2),b=P(b,2);!C(w);){var x=I.add(w);x.l(y)<=0&&(R=R.add(b),I=x),w=P(w,1),b=P(b,1)}return _=E(y,R.j(_)),new A(R,_)}for(R=g;y.l(_)>=0;){for(b=Math.max(1,Math.floor(y.m()/_.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=w<=48?1:Math.pow(2,w-48),I=c(b),x=I.j(_);N(x)||x.l(y)>0;)b-=w,I=c(b),x=I.j(_);C(I)&&(I=m),R=R.add(I),y=E(y,x)}return new A(R,y)}e.B=function(y){return V(this,y).h},e.and=function(y){const _=Math.max(this.g.length,y.g.length),b=[];for(let w=0;w<_;w++)b[w]=this.i(w)&y.i(w);return new s(b,this.h&y.h)},e.or=function(y){const _=Math.max(this.g.length,y.g.length),b=[];for(let w=0;w<_;w++)b[w]=this.i(w)|y.i(w);return new s(b,this.h|y.h)},e.xor=function(y){const _=Math.max(this.g.length,y.g.length),b=[];for(let w=0;w<_;w++)b[w]=this.i(w)^y.i(w);return new s(b,this.h^y.h)};function L(y){const _=y.g.length+1,b=[];for(let w=0;w<_;w++)b[w]=y.i(w)<<1|y.i(w-1)>>>31;return new s(b,y.h)}function P(y,_){const b=_>>5;_%=32;const w=y.g.length-b,R=[];for(let I=0;I<w;I++)R[I]=_>0?y.i(I+b)>>>_|y.i(I+b+1)<<32-_:y.i(I+b);return new s(R,y.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,f1=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,xi=s}).apply(typeof Iy<"u"?Iy:typeof self<"u"?self:typeof window<"u"?window:{});var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d1,ps,m1,Co,Lf,g1,p1,y1;(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ao=="object"&&ao];for(var h=0;h<l.length;++h){var d=l[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(l,h){if(h)t:{var d=i;l=l.split(".");for(var v=0;v<l.length-1;v++){var O=l[v];if(!(O in d))break t;d=d[O]}l=l[l.length-1],v=d[l],h=h(v),h!=v&&h!=null&&t(d,l,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(l){return l||function(h){var d=[],v;for(v in h)Object.prototype.hasOwnProperty.call(h,v)&&d.push([v,h[v]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function u(l,h,d){return l.call.apply(l.bind,arguments)}function c(l,h,d){return c=u,c.apply(null,arguments)}function f(l,h){var d=Array.prototype.slice.call(arguments,1);return function(){var v=d.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function g(l,h){function d(){}d.prototype=h.prototype,l.Z=h.prototype,l.prototype=new d,l.prototype.constructor=l,l.Ob=function(v,O,U){for(var H=Array(arguments.length-2),et=2;et<arguments.length;et++)H[et-2]=arguments[et];return h.prototype[O].apply(v,H)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function p(l){const h=l.length;if(h>0){const d=Array(h);for(let v=0;v<h;v++)d[v]=l[v];return d}return[]}function C(l,h){for(let v=1;v<arguments.length;v++){const O=arguments[v];var d=typeof O;if(d=d!="object"?d:O?Array.isArray(O)?"array":d:"null",d=="array"||d=="object"&&typeof O.length=="number"){d=l.length||0;const U=O.length||0;l.length=d+U;for(let H=0;H<U;H++)l[d+H]=O[H]}else l.push(O)}}class N{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function D(l){s.setTimeout(()=>{throw l},0)}function E(){var l=y;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class T{constructor(){this.h=this.g=null}add(h,d){const v=A.get();v.set(h,d),this.h?this.h.next=v:this.g=v,this.h=v}}var A=new N(()=>new V,l=>l.reset());class V{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let L,P=!1,y=new T,_=()=>{const l=Promise.resolve(void 0);L=()=>{l.then(b)}};function b(){for(var l;l=E();){try{l.h.call(l.g)}catch(d){D(d)}var h=A;h.j(l),h.h<100&&(h.h++,l.next=h.g,h.g=l)}P=!1}function w(){this.u=this.u,this.C=this.C}w.prototype.u=!1,w.prototype.dispose=function(){this.u||(this.u=!0,this.N())},w.prototype[Symbol.dispose]=function(){this.dispose()},w.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const d=()=>{};s.addEventListener("test",d,h),s.removeEventListener("test",d,h)}catch{}return l}();function x(l){return/^[\s\xa0]*$/.test(l)}function Gt(l,h){R.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,h)}g(Gt,R),Gt.prototype.init=function(l,h){const d=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget,h||(d=="mouseover"?h=l.fromElement:d=="mouseout"&&(h=l.toElement)),this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Gt.Z.h.call(this)},Gt.prototype.h=function(){Gt.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),B=0;function G(l,h,d,v,O){this.listener=l,this.proxy=null,this.src=h,this.type=d,this.capture=!!v,this.ha=O,this.key=++B,this.da=this.fa=!1}function $(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ct(l,h,d){for(const v in l)h.call(d,l[v],v,l)}function vt(l,h){for(const d in l)h.call(void 0,l[d],d,l)}function qi(l){const h={};for(const d in l)h[d]=l[d];return h}const Fi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rr(l,h){let d,v;for(let O=1;O<arguments.length;O++){v=arguments[O];for(d in v)l[d]=v[d];for(let U=0;U<Fi.length;U++)d=Fi[U],Object.prototype.hasOwnProperty.call(v,d)&&(l[d]=v[d])}}function Pe(l){this.src=l,this.g={},this.h=0}Pe.prototype.add=function(l,h,d,v,O){const U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);const H=cc(l,h,v,O);return H>-1?(h=l[H],d||(h.fa=!1)):(h=new G(h,this.src,U,!!v,O),h.fa=d,l.push(h)),h};function Xn(l,h){const d=h.type;if(d in l.g){var v=l.g[d],O=Array.prototype.indexOf.call(v,h,void 0),U;(U=O>=0)&&Array.prototype.splice.call(v,O,1),U&&($(h),l.g[d].length==0&&(delete l.g[d],l.h--))}}function cc(l,h,d,v){for(let O=0;O<l.length;++O){const U=l[O];if(!U.da&&U.listener==h&&U.capture==!!d&&U.ha==v)return O}return-1}var hc="closure_lm_"+(Math.random()*1e6|0),fc={};function Pm(l,h,d,v,O){if(Array.isArray(h)){for(let U=0;U<h.length;U++)Pm(l,h[U],d,v,O);return null}return d=Fm(d),l&&l[_e]?l.J(h,d,o(v)?!!v.capture:!1,O):YT(l,h,d,!1,v,O)}function YT(l,h,d,v,O,U){if(!h)throw Error("Invalid event type");const H=o(O)?!!O.capture:!!O;let et=mc(l);if(et||(l[hc]=et=new Pe(l)),d=et.add(h,d,v,H,U),d.proxy)return d;if(v=KT(),d.proxy=v,v.src=l,v.listener=d,l.addEventListener)I||(O=H),O===void 0&&(O=!1),l.addEventListener(h.toString(),v,O);else if(l.attachEvent)l.attachEvent(qm(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return d}function KT(){function l(d){return h.call(l.src,l.listener,d)}const h=XT;return l}function Hm(l,h,d,v,O){if(Array.isArray(h))for(var U=0;U<h.length;U++)Hm(l,h[U],d,v,O);else v=o(v)?!!v.capture:!!v,d=Fm(d),l&&l[_e]?(l=l.i,U=String(h).toString(),U in l.g&&(h=l.g[U],d=cc(h,d,v,O),d>-1&&($(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete l.g[U],l.h--)))):l&&(l=mc(l))&&(h=l.g[h.toString()],l=-1,h&&(l=cc(h,d,v,O)),(d=l>-1?h[l]:null)&&dc(d))}function dc(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[_e])Xn(h.i,l);else{var d=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(d,v,l.capture):h.detachEvent?h.detachEvent(qm(d),v):h.addListener&&h.removeListener&&h.removeListener(v),(d=mc(h))?(Xn(d,l),d.h==0&&(d.src=null,h[hc]=null)):$(l)}}}function qm(l){return l in fc?fc[l]:fc[l]="on"+l}function XT(l,h){if(l.da)l=!0;else{h=new Gt(h,this);const d=l.listener,v=l.ha||l.src;l.fa&&dc(l),l=d.call(v,h)}return l}function mc(l){return l=l[hc],l instanceof Pe?l:null}var gc="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fm(l){return typeof l=="function"?l:(l[gc]||(l[gc]=function(h){return l.handleEvent(h)}),l[gc])}function ce(){w.call(this),this.i=new Pe(this),this.M=this,this.G=null}g(ce,w),ce.prototype[_e]=!0,ce.prototype.removeEventListener=function(l,h,d,v){Hm(this,l,h,d,v)};function me(l,h){var d,v=l.G;if(v)for(d=[];v;v=v.G)d.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new R(h,l);else if(h instanceof R)h.target=h.target||l;else{var O=h;h=new R(v,l),Rr(h,O)}O=!0;let U,H;if(d)for(H=d.length-1;H>=0;H--)U=h.g=d[H],O=Dl(U,v,!0,h)&&O;if(U=h.g=l,O=Dl(U,v,!0,h)&&O,O=Dl(U,v,!1,h)&&O,d)for(H=0;H<d.length;H++)U=h.g=d[H],O=Dl(U,v,!1,h)&&O}ce.prototype.N=function(){if(ce.Z.N.call(this),this.i){var l=this.i;for(const h in l.g){const d=l.g[h];for(let v=0;v<d.length;v++)$(d[v]);delete l.g[h],l.h--}}this.G=null},ce.prototype.J=function(l,h,d,v){return this.i.add(String(l),h,!1,d,v)},ce.prototype.K=function(l,h,d,v){return this.i.add(String(l),h,!0,d,v)};function Dl(l,h,d,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();let O=!0;for(let U=0;U<h.length;++U){const H=h[U];if(H&&!H.da&&H.capture==d){const et=H.listener,Qt=H.ha||H.src;H.fa&&Xn(l.i,H),O=et.call(Qt,v)!==!1&&O}}return O&&!v.defaultPrevented}function $T(l,h){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:s.setTimeout(l,h||0)}function Gm(l){l.g=$T(()=>{l.g=null,l.i&&(l.i=!1,Gm(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class ZT extends w{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Gm(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(l){w.call(this),this.h=l,this.g={}}g(Ba,w);var Qm=[];function Ym(l){ct(l.g,function(h,d){this.g.hasOwnProperty(d)&&dc(h)},l),l.g={}}Ba.prototype.N=function(){Ba.Z.N.call(this),Ym(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pc=s.JSON.stringify,JT=s.JSON.parse,WT=class{stringify(l){return s.JSON.stringify(l,void 0)}parse(l){return s.JSON.parse(l,void 0)}};function Km(){}function Xm(){}var Pa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yc(){R.call(this,"d")}g(yc,R);function vc(){R.call(this,"c")}g(vc,R);var Gi={},$m=null;function Nl(){return $m=$m||new ce}Gi.Ia="serverreachability";function Zm(l){R.call(this,Gi.Ia,l)}g(Zm,R);function Ha(l){const h=Nl();me(h,new Zm(h))}Gi.STAT_EVENT="statevent";function Jm(l,h){R.call(this,Gi.STAT_EVENT,l),this.stat=h}g(Jm,R);function ge(l){const h=Nl();me(h,new Jm(h,l))}Gi.Ja="timingevent";function Wm(l,h){R.call(this,Gi.Ja,l),this.size=h}g(Wm,R);function qa(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){l()},h)}function Fa(){this.g=!0}Fa.prototype.ua=function(){this.g=!1};function tb(l,h,d,v,O,U){l.info(function(){if(l.g)if(U){var H="",et=U.split("&");for(let _t=0;_t<et.length;_t++){var Qt=et[_t].split("=");if(Qt.length>1){const Zt=Qt[0];Qt=Qt[1];const un=Zt.split("_");H=un.length>=2&&un[1]=="type"?H+(Zt+"="+Qt+"&"):H+(Zt+"=redacted&")}}}else H=null;else H=U;return"XMLHTTP REQ ("+v+") [attempt "+O+"]: "+h+`
`+d+`
`+H})}function eb(l,h,d,v,O,U,H){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+O+"]: "+h+`
`+d+`
`+U+" "+H})}function Cr(l,h,d,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+ib(l,d)+(v?" "+v:"")})}function nb(l,h){l.info(function(){return"TIMEOUT: "+h})}Fa.prototype.info=function(){};function ib(l,h){if(!l.g)return h;if(!h)return null;try{const U=JSON.parse(h);if(U){for(l=0;l<U.length;l++)if(Array.isArray(U[l])){var d=U[l];if(!(d.length<2)){var v=d[1];if(Array.isArray(v)&&!(v.length<1)){var O=v[0];if(O!="noop"&&O!="stop"&&O!="close")for(let H=1;H<v.length;H++)v[H]=""}}}}return pc(U)}catch{return h}}var Vl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},eg;function _c(){}g(_c,Km),_c.prototype.g=function(){return new XMLHttpRequest},eg=new _c;function Ga(l){return encodeURIComponent(String(l))}function rb(l){var h=1;l=l.split(":");const d=[];for(;h>0&&l.length;)d.push(l.shift()),h--;return l.length&&d.push(l.join(":")),d}function $n(l,h,d,v){this.j=l,this.i=h,this.l=d,this.S=v||1,this.V=new Ba(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ng}function ng(){this.i=null,this.g="",this.h=!1}var ig={},Ec={};function Tc(l,h,d){l.M=1,l.A=Ml(on(h)),l.u=d,l.R=!0,rg(l,null)}function rg(l,h){l.F=Date.now(),Il(l),l.B=on(l.A);var d=l.B,v=l.S;Array.isArray(v)||(v=[String(v)]),yg(d.i,"t",v),l.C=0,d=l.j.L,l.h=new ng,l.g=Lg(l.j,d?h:null,!l.u),l.P>0&&(l.O=new ZT(c(l.Y,l,l.g),l.P)),h=l.V,d=l.g,v=l.ba;var O="readystatechange";Array.isArray(O)||(O&&(Qm[0]=O.toString()),O=Qm);for(let U=0;U<O.length;U++){const H=Pm(d,O[U],v||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=l.J?qi(l.J):{},l.u?(l.v||(l.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,h)):(l.v="GET",l.g.ea(l.B,l.v,null,h)),Ha(),tb(l.i,l.v,l.B,l.l,l.S,l.u)}$n.prototype.ba=function(l){l=l.target;const h=this.O;h&&Wn(l)==3?h.j():this.Y(l)},$n.prototype.Y=function(l){try{if(l==this.g)t:{const et=Wn(this.g),Qt=this.g.ya(),_t=this.g.ca();if(!(et<3)&&(et!=3||this.g&&(this.h.h||this.g.la()||Ag(this.g)))){this.K||et!=4||Qt==7||(Qt==8||_t<=0?Ha(3):Ha(2)),bc(this);var h=this.g.ca();this.X=h;var d=ab(this);if(this.o=h==200,eb(this.i,this.v,this.B,this.l,this.S,et,h),this.o){if(this.U&&!this.L){e:{if(this.g){var v,O=this.g;if((v=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(v)){var U=v;break e}}U=null}if(l=U)Cr(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sc(this,l);else{this.o=!1,this.m=3,ge(12),Qi(this),Qa(this);break t}}if(this.R){l=!0;let Zt;for(;!this.K&&this.C<d.length;)if(Zt=sb(this,d),Zt==Ec){et==4&&(this.m=4,ge(14),l=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==ig){this.m=4,ge(15),Cr(this.i,this.l,d,"[Invalid Chunk]"),l=!1;break}else Cr(this.i,this.l,Zt,null),Sc(this,Zt);if(ag(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),et!=4||d.length!=0||this.h.h||(this.m=1,ge(16),l=!1),this.o=this.o&&l,!l)Cr(this.i,this.l,d,"[Invalid Chunked Response]"),Qi(this),Qa(this);else if(d.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),Vc(H),H.P=!0,ge(11))}}else Cr(this.i,this.l,d,null),Sc(this,d);et==4&&Qi(this),this.o&&!this.K&&(et==4?Vg(this.j,this):(this.o=!1,Il(this)))}else Eb(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),Qi(this),Qa(this)}}}catch{}finally{}};function ab(l){if(!ag(l))return l.g.la();const h=Ag(l.g);if(h==="")return"";let d="";const v=h.length,O=Wn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Qi(l),Qa(l),"";l.h.i=new s.TextDecoder}for(let U=0;U<v;U++)l.h.h=!0,d+=l.h.i.decode(h[U],{stream:!(O&&U==v-1)});return h.length=0,l.h.g+=d,l.C=0,l.h.g}function ag(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function sb(l,h){var d=l.C,v=h.indexOf(`
`,d);return v==-1?Ec:(d=Number(h.substring(d,v)),isNaN(d)?ig:(v+=1,v+d>h.length?Ec:(h=h.slice(v,v+d),l.C=v+d,h)))}$n.prototype.cancel=function(){this.K=!0,Qi(this)};function Il(l){l.T=Date.now()+l.H,sg(l,l.H)}function sg(l,h){if(l.D!=null)throw Error("WatchDog timer not null");l.D=qa(c(l.aa,l),h)}function bc(l){l.D&&(s.clearTimeout(l.D),l.D=null)}$n.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(nb(this.i,this.B),this.M!=2&&(Ha(),ge(17)),Qi(this),this.m=2,Qa(this)):sg(this,this.T-l)};function Qa(l){l.j.I==0||l.K||Vg(l.j,l)}function Qi(l){bc(l);var h=l.O;h&&typeof h.dispose=="function"&&h.dispose(),l.O=null,Ym(l.V),l.g&&(h=l.g,l.g=null,h.abort(),h.dispose())}function Sc(l,h){try{var d=l.j;if(d.I!=0&&(d.g==l||Ac(d.h,l))){if(!l.L&&Ac(d.h,l)&&d.I==3){try{var v=d.Ba.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var O=v;if(O[0]==0){t:if(!d.v){if(d.g)if(d.g.F+3e3<l.F)zl(d),Ul(d);else break t;Nc(d),ge(18)}}else d.xa=O[1],0<d.xa-d.K&&O[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=qa(c(d.Va,d),6e3));ug(d.h)<=1&&d.ta&&(d.ta=void 0)}else Ki(d,11)}else if((l.L||d.g==l)&&zl(d),!x(h))for(O=d.Ba.g.parse(h),h=0;h<O.length;h++){let _t=O[h];const Zt=_t[0];if(!(Zt<=d.K))if(d.K=Zt,_t=_t[1],d.I==2)if(_t[0]=="c"){d.M=_t[1],d.ba=_t[2];const un=_t[3];un!=null&&(d.ka=un,d.j.info("VER="+d.ka));const Xi=_t[4];Xi!=null&&(d.za=Xi,d.j.info("SVER="+d.za));const ti=_t[5];ti!=null&&typeof ti=="number"&&ti>0&&(v=1.5*ti,d.O=v,d.j.info("backChannelRequestTimeoutMs_="+v)),v=d;const ei=l.g;if(ei){const Bl=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bl){var U=v.h;U.g||Bl.indexOf("spdy")==-1&&Bl.indexOf("quic")==-1&&Bl.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(wc(U,U.h),U.h=null))}if(v.G){const Ic=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ic&&(v.wa=Ic,bt(v.J,v.G,Ic))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-l.F,d.j.info("Handshake RTT: "+d.T+"ms")),v=d;var H=l;if(v.na=Og(v,v.L?v.ba:null,v.W),H.L){cg(v.h,H);var et=H,Qt=v.O;Qt&&(et.H=Qt),et.D&&(bc(et),Il(et)),v.g=H}else Dg(v);d.i.length>0&&jl(d)}else _t[0]!="stop"&&_t[0]!="close"||Ki(d,7);else d.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Ki(d,7):Dc(d):_t[0]!="noop"&&d.l&&d.l.qa(_t),d.A=0)}}Ha(4)}catch{}}var lb=class{constructor(l,h){this.g=l,this.map=h}};function lg(l){this.l=l||10,s.PerformanceNavigationTiming?(l=s.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function og(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ug(l){return l.h?1:l.g?l.g.size:0}function Ac(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function wc(l,h){l.g?l.g.add(h):l.h=h}function cg(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}lg.prototype.cancel=function(){if(this.i=hg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function hg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const d of l.g.values())h=h.concat(d.G);return h}return p(l.i)}var fg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ob(l,h){if(l){l=l.split("&");for(let d=0;d<l.length;d++){const v=l[d].indexOf("=");let O,U=null;v>=0?(O=l[d].substring(0,v),U=l[d].substring(v+1)):O=l[d],h(O,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Zn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;l instanceof Zn?(this.l=l.l,Ya(this,l.j),this.o=l.o,this.g=l.g,Ka(this,l.u),this.h=l.h,xc(this,vg(l.i)),this.m=l.m):l&&(h=String(l).match(fg))?(this.l=!1,Ya(this,h[1]||"",!0),this.o=Xa(h[2]||""),this.g=Xa(h[3]||"",!0),Ka(this,h[4]),this.h=Xa(h[5]||"",!0),xc(this,h[6]||"",!0),this.m=Xa(h[7]||"")):(this.l=!1,this.i=new Za(null,this.l))}Zn.prototype.toString=function(){const l=[];var h=this.j;h&&l.push($a(h,dg,!0),":");var d=this.g;return(d||h=="file")&&(l.push("//"),(h=this.o)&&l.push($a(h,dg,!0),"@"),l.push(Ga(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&l.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&l.push("/"),l.push($a(d,d.charAt(0)=="/"?hb:cb,!0))),(d=this.i.toString())&&l.push("?",d),(d=this.m)&&l.push("#",$a(d,db)),l.join("")},Zn.prototype.resolve=function(l){const h=on(this);let d=!!l.j;d?Ya(h,l.j):d=!!l.o,d?h.o=l.o:d=!!l.g,d?h.g=l.g:d=l.u!=null;var v=l.h;if(d)Ka(h,l.u);else if(d=!!l.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var O=h.h.lastIndexOf("/");O!=-1&&(v=h.h.slice(0,O+1)+v)}if(O=v,O==".."||O==".")v="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){v=O.lastIndexOf("/",0)==0,O=O.split("/");const U=[];for(let H=0;H<O.length;){const et=O[H++];et=="."?v&&H==O.length&&U.push(""):et==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),v&&H==O.length&&U.push("")):(U.push(et),v=!0)}v=U.join("/")}else v=O}return d?h.h=v:d=l.i.toString()!=="",d?xc(h,vg(l.i)):d=!!l.m,d&&(h.m=l.m),h};function on(l){return new Zn(l)}function Ya(l,h,d){l.j=d?Xa(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ka(l,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);l.u=h}else l.u=null}function xc(l,h,d){h instanceof Za?(l.i=h,mb(l.i,l.l)):(d||(h=$a(h,fb)),l.i=new Za(h,l.l))}function bt(l,h,d){l.i.set(h,d)}function Ml(l){return bt(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Xa(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function $a(l,h,d){return typeof l=="string"?(l=encodeURI(l).replace(h,ub),d&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ub(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var dg=/[#\/\?@]/g,cb=/[#\?:]/g,hb=/[#\?]/g,fb=/[#\?@]/g,db=/#/g;function Za(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Yi(l){l.g||(l.g=new Map,l.h=0,l.i&&ob(l.i,function(h,d){l.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}e=Za.prototype,e.add=function(l,h){Yi(this),this.i=null,l=Dr(this,l);let d=this.g.get(l);return d||this.g.set(l,d=[]),d.push(h),this.h+=1,this};function mg(l,h){Yi(l),h=Dr(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function gg(l,h){return Yi(l),h=Dr(l,h),l.g.has(h)}e.forEach=function(l,h){Yi(this),this.g.forEach(function(d,v){d.forEach(function(O){l.call(h,O,v,this)},this)},this)};function pg(l,h){Yi(l);let d=[];if(typeof h=="string")gg(l,h)&&(d=d.concat(l.g.get(Dr(l,h))));else for(l=Array.from(l.g.values()),h=0;h<l.length;h++)d=d.concat(l[h]);return d}e.set=function(l,h){return Yi(this),this.i=null,l=Dr(this,l),gg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},e.get=function(l,h){return l?(l=pg(this,l),l.length>0?String(l[0]):h):h};function yg(l,h,d){mg(l,h),d.length>0&&(l.i=null,l.g.set(Dr(l,h),p(d)),l.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(let v=0;v<h.length;v++){var d=h[v];const O=Ga(d);d=pg(this,d);for(let U=0;U<d.length;U++){let H=O;d[U]!==""&&(H+="="+Ga(d[U])),l.push(H)}}return this.i=l.join("&")};function vg(l){const h=new Za;return h.i=l.i,l.g&&(h.g=new Map(l.g),h.h=l.h),h}function Dr(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function mb(l,h){h&&!l.j&&(Yi(l),l.i=null,l.g.forEach(function(d,v){const O=v.toLowerCase();v!=O&&(mg(this,v),yg(this,O,d))},l)),l.j=h}function gb(l,h){const d=new Fa;if(s.Image){const v=new Image;v.onload=f(Jn,d,"TestLoadImage: loaded",!0,h,v),v.onerror=f(Jn,d,"TestLoadImage: error",!1,h,v),v.onabort=f(Jn,d,"TestLoadImage: abort",!1,h,v),v.ontimeout=f(Jn,d,"TestLoadImage: timeout",!1,h,v),s.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function pb(l,h){const d=new Fa,v=new AbortController,O=setTimeout(()=>{v.abort(),Jn(d,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(U=>{clearTimeout(O),U.ok?Jn(d,"TestPingServer: ok",!0,h):Jn(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),Jn(d,"TestPingServer: error",!1,h)})}function Jn(l,h,d,v,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),v(d)}catch{}}function yb(){this.g=new WT}function Rc(l){this.i=l.Sb||null,this.h=l.ab||!1}g(Rc,Km),Rc.prototype.g=function(){return new Ol(this.i,this.h)};function Ol(l,h){ce.call(this),this.H=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ol,ce),e=Ol.prototype,e.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=h,this.readyState=1,Wa(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(h.body=l),(this.H||s).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_g(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function _g(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Ja(this):Wa(this),this.readyState==3&&_g(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,Ja(this))},e.Na=function(l){this.g&&(this.response=l,Ja(this))},e.ga=function(){this.g&&Ja(this)};function Ja(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Wa(l)}e.setRequestHeader=function(l,h){this.A.append(l,h)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,l.push(d[0]+": "+d[1]),d=h.next();return l.join(`\r
`)};function Wa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Eg(l){let h="";return ct(l,function(d,v){h+=v,h+=":",h+=d,h+=`\r
`}),h}function Cc(l,h,d){t:{for(v in d){var v=!1;break t}v=!0}v||(d=Eg(d),typeof l=="string"?d!=null&&Ga(d):bt(l,h,d))}function It(l){ce.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(It,ce);var vb=/^https?$/i,_b=["POST","PUT"];e=It.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,h,d,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():eg.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(U){Tg(this,U);return}if(l=d||"",d=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var O in v)d.set(O,v[O]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const U of v.keys())d.set(U,v.get(U));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(d.keys()).find(U=>U.toLowerCase()=="content-type"),O=s.FormData&&l instanceof s.FormData,!(Array.prototype.indexOf.call(_b,h,void 0)>=0)||v||O||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,H]of d)this.g.setRequestHeader(U,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(U){Tg(this,U)}};function Tg(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.o=5,bg(l),Ll(l)}function bg(l){l.A||(l.A=!0,me(l,"complete"),me(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,me(this,"complete"),me(this,"abort"),Ll(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ll(this,!0)),It.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Sg(this):this.Xa())},e.Xa=function(){Sg(this)};function Sg(l){if(l.h&&typeof a<"u"){if(l.v&&Wn(l)==4)setTimeout(l.Ca.bind(l),0);else if(me(l,"readystatechange"),Wn(l)==4){l.h=!1;try{const U=l.ca();t:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var d;if(!(d=h)){var v;if(v=U===0){let H=String(l.D).match(fg)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),v=!vb.test(H?H.toLowerCase():"")}d=v}if(d)me(l,"complete"),me(l,"success");else{l.o=6;try{var O=Wn(l)>2?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.ca()+"]",bg(l)}}finally{Ll(l)}}}}function Ll(l,h){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const d=l.g;l.g=null,h||me(l,"ready");try{d.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Wn(l){return l.g?l.g.readyState:0}e.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),JT(h)}};function Ag(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Eb(l){const h={};l=(l.g&&Wn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(x(l[v]))continue;var d=rb(l[v]);const O=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const U=h[O]||[];h[O]=U,U.push(d)}vt(h,function(v){return v.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(l,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[l]||h}function wg(l){this.za=0,this.i=[],this.j=new Fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,l),this.Za=ts("retryDelaySeedMs",1e4,l),this.Ta=ts("forwardChannelMaxRetries",2,l),this.va=ts("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new lg(l&&l.concurrentRequestLimit),this.Ba=new yb,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=wg.prototype,e.ka=8,e.I=1,e.connect=function(l,h,d,v){ge(0),this.W=l,this.H=h||{},d&&v!==void 0&&(this.H.OSID=d,this.H.OAID=v),this.F=this.X,this.J=Og(this,null,this.W),jl(this)};function Dc(l){if(xg(l),l.I==3){var h=l.V++,d=on(l.J);if(bt(d,"SID",l.M),bt(d,"RID",h),bt(d,"TYPE","terminate"),es(l,d),h=new $n(l,l.j,h),h.M=2,h.A=Ml(on(d)),d=!1,s.navigator&&s.navigator.sendBeacon)try{d=s.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&s.Image&&(new Image().src=h.A,d=!0),d||(h.g=Lg(h.j,null),h.g.ea(h.A)),h.F=Date.now(),Il(h)}Mg(l)}function Ul(l){l.g&&(Vc(l),l.g.cancel(),l.g=null)}function xg(l){Ul(l),l.v&&(s.clearTimeout(l.v),l.v=null),zl(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&s.clearTimeout(l.m),l.m=null)}function jl(l){if(!og(l.h)&&!l.m){l.m=!0;var h=l.Ea;L||_(),P||(L(),P=!0),y.add(h,l),l.D=0}}function Tb(l,h){return ug(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=h.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=qa(c(l.Ea,l,h),Ig(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const O=new $n(this,this.j,l);let U=this.o;if(this.U&&(U?(U=qi(U),Rr(U,this.U)):U=this.U),this.u!==null||this.R||(O.J=U,U=null),this.S)t:{for(var h=0,d=0;d<this.i.length;d++){e:{var v=this.i[d];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break e}v=void 0}if(v===void 0)break;if(h+=v,h>4096){h=d;break t}if(h===4096||d===this.i.length-1){h=d+1;break t}}h=1e3}else h=1e3;h=Cg(this,O,h),d=on(this.J),bt(d,"RID",l),bt(d,"CVER",22),this.G&&bt(d,"X-HTTP-Session-Id",this.G),es(this,d),U&&(this.R?h="headers="+Ga(Eg(U))+"&"+h:this.u&&Cc(d,this.u,U)),wc(this.h,O),this.Ra&&bt(d,"TYPE","init"),this.S?(bt(d,"$req",h),bt(d,"SID","null"),O.U=!0,Tc(O,d,null)):Tc(O,d,h),this.I=2}}else this.I==3&&(l?Rg(this,l):this.i.length==0||og(this.h)||Rg(this))};function Rg(l,h){var d;h?d=h.l:d=l.V++;const v=on(l.J);bt(v,"SID",l.M),bt(v,"RID",d),bt(v,"AID",l.K),es(l,v),l.u&&l.o&&Cc(v,l.u,l.o),d=new $n(l,l.j,d,l.D+1),l.u===null&&(d.J=l.o),h&&(l.i=h.G.concat(l.i)),h=Cg(l,d,1e3),d.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),wc(l.h,d),Tc(d,v,h)}function es(l,h){l.H&&ct(l.H,function(d,v){bt(h,v,d)}),l.l&&ct({},function(d,v){bt(h,v,d)})}function Cg(l,h,d){d=Math.min(l.i.length,d);const v=l.l?c(l.l.Ka,l.l,l):null;t:{var O=l.i;let et=-1;for(;;){const Qt=["count="+d];et==-1?d>0?(et=O[0].g,Qt.push("ofs="+et)):et=0:Qt.push("ofs="+et);let _t=!0;for(let Zt=0;Zt<d;Zt++){var U=O[Zt].g;const un=O[Zt].map;if(U-=et,U<0)et=Math.max(0,O[Zt].g-100),_t=!1;else try{U="req"+U+"_"||"";try{var H=un instanceof Map?un:Object.entries(un);for(const[Xi,ti]of H){let ei=ti;o(ti)&&(ei=pc(ti)),Qt.push(U+Xi+"="+encodeURIComponent(ei))}}catch(Xi){throw Qt.push(U+"type="+encodeURIComponent("_badmap")),Xi}}catch{v&&v(un)}}if(_t){H=Qt.join("&");break t}}H=void 0}return l=l.i.splice(0,d),h.G=l,H}function Dg(l){if(!l.g&&!l.v){l.Y=1;var h=l.Da;L||_(),P||(L(),P=!0),y.add(h,l),l.A=0}}function Nc(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=qa(c(l.Da,l),Ig(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,Ng(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=qa(c(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),Ul(this),Ng(this))};function Vc(l){l.B!=null&&(s.clearTimeout(l.B),l.B=null)}function Ng(l){l.g=new $n(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var h=on(l.na);bt(h,"RID","rpc"),bt(h,"SID",l.M),bt(h,"AID",l.K),bt(h,"CI",l.F?"0":"1"),!l.F&&l.ia&&bt(h,"TO",l.ia),bt(h,"TYPE","xmlhttp"),es(l,h),l.u&&l.o&&Cc(h,l.u,l.o),l.O&&(l.g.H=l.O);var d=l.g;l=l.ba,d.M=1,d.A=Ml(on(h)),d.u=null,d.R=!0,rg(d,l)}e.Va=function(){this.C!=null&&(this.C=null,Ul(this),Nc(this),ge(19))};function zl(l){l.C!=null&&(s.clearTimeout(l.C),l.C=null)}function Vg(l,h){var d=null;if(l.g==h){zl(l),Vc(l),l.g=null;var v=2}else if(Ac(l.h,h))d=h.G,cg(l.h,h),v=1;else return;if(l.I!=0){if(h.o)if(v==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var O=l.D;v=Nl(),me(v,new Wm(v,d)),jl(l)}else Dg(l);else if(O=h.m,O==3||O==0&&h.X>0||!(v==1&&Tb(l,h)||v==2&&Nc(l)))switch(d&&d.length>0&&(h=l.h,h.i=h.i.concat(d)),O){case 1:Ki(l,5);break;case 4:Ki(l,10);break;case 3:Ki(l,6);break;default:Ki(l,2)}}}function Ig(l,h){let d=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(d*=2),d*h}function Ki(l,h){if(l.j.info("Error code "+h),h==2){var d=c(l.bb,l),v=l.Ua;const O=!v;v=new Zn(v||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ya(v,"https"),Ml(v),O?gb(v.toString(),d):pb(v.toString(),d)}else ge(2);l.I=0,l.l&&l.l.pa(h),Mg(l),xg(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Mg(l){if(l.I=0,l.ja=[],l.l){const h=hg(l.h);(h.length!=0||l.i.length!=0)&&(C(l.ja,h),C(l.ja,l.i),l.h.i.length=0,p(l.i),l.i.length=0),l.l.oa()}}function Og(l,h,d){var v=d instanceof Zn?on(d):new Zn(d);if(v.g!="")h&&(v.g=h+"."+v.g),Ka(v,v.u);else{var O=s.location;v=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;const U=new Zn(null);v&&Ya(U,v),h&&(U.g=h),O&&Ka(U,O),d&&(U.h=d),v=U}return d=l.G,h=l.wa,d&&h&&bt(v,d,h),bt(v,"VER",l.ka),es(l,v),v}function Lg(l,h,d){if(h&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Aa&&!l.ma?new It(new Rc({ab:d})):new It(l.ma),h.Fa(l.L),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ug(){}e=Ug.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function kl(){}kl.prototype.g=function(l,h){return new De(l,h)};function De(l,h){ce.call(this),this.g=new wg(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(l?l["X-WebChannel-Client-Profile"]=h.sa:l={"X-WebChannel-Client-Profile":h.sa}),this.g.U=l,(l=h&&h.Qb)&&!x(l)&&(this.g.u=l),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!x(h)&&(this.g.G=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Nr(this)}g(De,ce),De.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){Dc(this.g)},De.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var d={};d.__data__=l,l=d}else this.v&&(d={},d.__data__=pc(l),l=d);h.i.push(new lb(h.Ya++,l)),h.I==3&&jl(h)},De.prototype.N=function(){this.g.l=null,delete this.j,Dc(this.g),delete this.g,De.Z.N.call(this)};function jg(l){yc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){t:{for(const d in h){l=d;break t}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}g(jg,yc);function zg(){vc.call(this),this.status=1}g(zg,vc);function Nr(l){this.g=l}g(Nr,Ug),Nr.prototype.ra=function(){me(this.g,"a")},Nr.prototype.qa=function(l){me(this.g,new jg(l))},Nr.prototype.pa=function(l){me(this.g,new zg)},Nr.prototype.oa=function(){me(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,y1=function(){return new kl},p1=function(){return Nl()},g1=Gi,Lf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vl.NO_ERROR=0,Vl.TIMEOUT=8,Vl.HTTP_ERROR=6,Co=Vl,tg.COMPLETE="complete",m1=tg,Xm.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",ce.prototype.listen=ce.prototype.J,ps=Xm,It.prototype.listenOnce=It.prototype.K,It.prototype.getLastError=It.prototype.Ha,It.prototype.getLastErrorCode=It.prototype.ya,It.prototype.getStatus=It.prototype.ca,It.prototype.getResponseJson=It.prototype.La,It.prototype.getResponseText=It.prototype.la,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Fa,d1=It}).apply(typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fe.UNAUTHENTICATED=new fe(null),fe.GOOGLE_CREDENTIALS=new fe("google-credentials-uid"),fe.FIRST_PARTY=new fe("first-party-uid"),fe.MOCK_USER=new fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="12.8.0";function kR(e){Ua=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new s1("@firebase/firestore");function Ur(){return gr.logLevel}function q(e,...t){if(gr.logLevel<=ut.DEBUG){const n=t.map(um);gr.debug(`Firestore (${Ua}): ${e}`,...n)}}function Qn(e,...t){if(gr.logLevel<=ut.ERROR){const n=t.map(um);gr.error(`Firestore (${Ua}): ${e}`,...n)}}function Ea(e,...t){if(gr.logLevel<=ut.WARN){const n=t.map(um);gr.warn(`Firestore (${Ua}): ${e}`,...n)}}function um(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,v1(e,i,n)}function v1(e,t,n){let i=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qn(i),new Error(i)}function dt(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||v1(t,r,i)}function J(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends La{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(fe.UNAUTHENTICATED))}shutdown(){}}class PR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HR{constructor(t){this.t=t,this.currentUser=fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){dt(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let a=new Ri;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ri,t.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const u=a;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},o=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ri)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new _1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dt(t===null||typeof t=="string",2055,{h:t}),new fe(t)}}class qR{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=fe.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FR{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new qR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class My{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bR(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){dt(this.o===void 0,3512);const i=a=>{a.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new My(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new My(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=QR(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=t.charAt(r[a]%62))}return i}}function rt(e,t){return e<t?-1:e>t?1:0}function Uf(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),a=t.charAt(i);if(r!==a)return Sh(r)===Sh(a)?rt(r,a):Sh(r)?1:-1}return rt(e.length,t.length)}const YR=55296,KR=57343;function Sh(e){const t=e.charCodeAt(0);return t>=YR&&t<=KR}function Ta(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="__name__";class cn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Y(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Y(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return cn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof cn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const a=cn.compareSegments(t.get(r),n.get(r));if(a!==0)return a}return rt(t.length,n.length)}static compareSegments(t,n){const i=cn.isNumericId(t),r=cn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?cn.extractNumericId(t).compare(cn.extractNumericId(n)):Uf(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xi.fromString(t.substring(4,t.length-2))}}class wt extends cn{construct(t,n,i){return new wt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new F(k.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new wt(n)}static emptyPath(){return new wt([])}}const XR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class se extends cn{construct(t,n,i){return new se(t,n,i)}static isValidIdentifier(t){return XR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),se.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oy}static keyField(){return new se([Oy])}static fromServerFormat(t){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new F(k.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;r<t.length;){const o=t[r];if(o==="\\"){if(r+1===t.length)throw new F(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else o==="`"?(s=!s,r++):o!=="."||s?(i+=o,r++):(a(),r++)}if(a(),s)throw new F(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new se(n)}static emptyPath(){return new se([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.path=t}static fromPath(t){return new Q(wt.fromString(t))}static fromName(t){return new Q(wt.fromString(t).popFirst(5))}static empty(){return new Q(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return wt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(e,t,n){if(!n)throw new F(k.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $R(e,t,n,i){if(t===!0&&i===!0)throw new F(k.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Ly(e){if(!Q.isDocumentKey(e))throw new F(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Uy(e){if(Q.isDocumentKey(e))throw new F(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function T1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function hm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Y(12329,{type:typeof e})}function nn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hm(e);throw new F(k.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e,t){const n={typeString:e};return t&&(n.value=t),n}function Al(e,t){if(!T1(e))throw new F(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,a="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const s=e[i];if(r&&typeof s!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new F(k.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=-62135596800,zy=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(t){return xt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*zy);return new xt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<jy)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zy}_compareTo(t){return this.seconds===t.seconds?rt(this.nanoseconds,t.nanoseconds):rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Al(t,xt._jsonSchema))return new xt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-jy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Ft("string",xt._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{static fromTimestamp(t){return new Z(t)}static min(){return new Z(new xt(0,0))}static max(){return new Z(new xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=-1;function ZR(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=Z.fromTimestamp(i===1e9?new xt(n+1,0):new xt(n,i));return new Mi(r,Q.empty(),t)}function JR(e){return new Mi(e.readTime,e.key,nl)}class Mi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Mi(Z.min(),Q.empty(),nl)}static max(){return new Mi(Z.max(),Q.empty(),nl)}}function WR(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Q.comparator(e.documentKey,t.documentKey),n!==0?n:rt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(e){if(e.code!==k.FAILED_PRECONDITION||e.message!==tC)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new z((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):z.reject(n)}static resolve(t){return new z((n,i)=>{n(t)})}static reject(t){return new z((n,i)=>{i(t)})}static waitFor(t){return new z((n,i)=>{let r=0,a=0,s=!1;t.forEach(o=>{++r,o.next(()=>{++a,s&&a===r&&n()},u=>i(u))}),s=!0,a===r&&n()})}static or(t){let n=z.resolve(!1);for(const i of t)n=n.next(r=>r?z.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,a)=>{i.push(n.call(this,r,a))}),this.waitFor(i)}static mapArray(t,n){return new z((i,r)=>{const a=t.length,s=new Array(a);let o=0;for(let u=0;u<a;u++){const c=u;n(t[c]).next(f=>{s[c]=f,++o,o===a&&i(s)},f=>r(f))}})}static doWhile(t,n){return new z((i,r)=>{const a=()=>{t()===!0?n().next(()=>{a()},r):i()};a()})}}function nC(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function za(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Yu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=-1;function Ku(e){return e==null}function mu(e){return e===0&&1/e==-1/0}function iC(e){return typeof e=="number"&&Number.isInteger(e)&&!mu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="";function rC(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ky(t)),t=aC(e.get(n),t);return ky(t)}function aC(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const a=e.charAt(r);switch(a){case"\0":n+="";break;case b1:n+="";break;default:n+=a}}return n}function ky(e){return e+b1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function S1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t,n){this.comparator=t,this.root=n||ie.EMPTY}insert(t,n){return new Vt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ie.BLACK,null,null))}remove(t){return new Vt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ie.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new so(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new so(this.root,t,this.comparator,!1)}getReverseIterator(){return new so(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new so(this.root,t,this.comparator,!0)}}class so{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=n?i(t.key,n):1,n&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ie{constructor(t,n,i,r,a){this.key=t,this.value=n,this.color=i??ie.RED,this.left=r??ie.EMPTY,this.right=a??ie.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,a){return new ie(t??this.key,n??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,n,i),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ie.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return ie.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ie.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ie.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Y(27949);return t+(this.isRed()?0:1)}}ie.EMPTY=null,ie.RED=!0,ie.BLACK=!1;ie.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(t,n,i,r,a){return this}insert(t,n,i){return new ie(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t){this.comparator=t,this.data=new Vt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Py(this.data.getIterator())}getIteratorFrom(t){return new Py(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Xt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Xt(this.comparator);return n.data=t,n}}class Py{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.fields=t,t.sort(se.comparator)}static empty(){return new Oe([])}unionWith(t){let n=new Xt(se.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Oe(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ta(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new A1("Invalid base64 string: "+a):a}}(t);return new ue(n)}static fromUint8Array(t){const n=function(r){let a="";for(let s=0;s<r.length;++s)a+=String.fromCharCode(r[s]);return a}(t);return new ue(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ue.EMPTY_BYTE_STRING=new ue("");const sC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(e){if(dt(!!e,39018),typeof e=="string"){let t=0;const n=sC.exec(e);if(dt(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Lt(e.seconds),nanos:Lt(e.nanos)}}function Lt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Li(e){return typeof e=="string"?ue.fromBase64String(e):ue.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="server_timestamp",x1="__type__",R1="__previous_value__",C1="__local_write_time__";function dm(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[x1])==null?void 0:i.stringValue)===w1}function Xu(e){const t=e.mapValue.fields[R1];return dm(t)?Xu(t):t}function il(e){const t=Oi(e.mapValue.fields[C1].timestampValue);return new xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t,n,i,r,a,s,o,u,c,f,g){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f,this.apiKey=g}}const gu="(default)";class rl{constructor(t,n){this.projectId=t,this.database=n||gu}static empty(){return new rl("","")}get isDefaultDatabase(){return this.database===gu}isEqual(t){return t instanceof rl&&t.projectId===this.projectId&&t.database===this.database}}function oC(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new F(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rl(e.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__type__",uC="__max__",lo={mapValue:{}},N1="__vector__",pu="value";function Ui(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dm(e)?4:hC(e)?9007199254740991:cC(e)?10:11:Y(28295,{value:e})}function vn(e,t){if(e===t)return!0;const n=Ui(e);if(n!==Ui(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return il(e).isEqual(il(t));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const s=Oi(r.timestampValue),o=Oi(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,a){return Li(r.bytesValue).isEqual(Li(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,a){return Lt(r.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(r.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)}(e,t);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return Lt(r.integerValue)===Lt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const s=Lt(r.doubleValue),o=Lt(a.doubleValue);return s===o?mu(s)===mu(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Ta(e.arrayValue.values||[],t.arrayValue.values||[],vn);case 10:case 11:return function(r,a){const s=r.mapValue.fields||{},o=a.mapValue.fields||{};if(By(s)!==By(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!vn(s[u],o[u])))return!1;return!0}(e,t);default:return Y(52216,{left:e})}}function al(e,t){return(e.values||[]).find(n=>vn(n,t))!==void 0}function ba(e,t){if(e===t)return 0;const n=Ui(e),i=Ui(t);if(n!==i)return rt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=Lt(a.integerValue||a.doubleValue),u=Lt(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Hy(e.timestampValue,t.timestampValue);case 4:return Hy(il(e),il(t));case 5:return Uf(e.stringValue,t.stringValue);case 6:return function(a,s){const o=Li(a),u=Li(s);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),u=s.split("/");for(let c=0;c<o.length&&c<u.length;c++){const f=rt(o[c],u[c]);if(f!==0)return f}return rt(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=rt(Lt(a.latitude),Lt(s.latitude));return o!==0?o:rt(Lt(a.longitude),Lt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return qy(e.arrayValue,t.arrayValue);case 10:return function(a,s){var m,p,C,N;const o=a.fields||{},u=s.fields||{},c=(m=o[pu])==null?void 0:m.arrayValue,f=(p=u[pu])==null?void 0:p.arrayValue,g=rt(((C=c==null?void 0:c.values)==null?void 0:C.length)||0,((N=f==null?void 0:f.values)==null?void 0:N.length)||0);return g!==0?g:qy(c,f)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===lo.mapValue&&s===lo.mapValue)return 0;if(a===lo.mapValue)return 1;if(s===lo.mapValue)return-1;const o=a.fields||{},u=Object.keys(o),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const m=Uf(u[g],f[g]);if(m!==0)return m;const p=ba(o[u[g]],c[f[g]]);if(p!==0)return p}return rt(u.length,f.length)}(e.mapValue,t.mapValue);default:throw Y(23264,{he:n})}}function Hy(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return rt(e,t);const n=Oi(e),i=Oi(t),r=rt(n.seconds,i.seconds);return r!==0?r:rt(n.nanos,i.nanos)}function qy(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const a=ba(n[r],i[r]);if(a)return a}return rt(n.length,i.length)}function Sa(e){return jf(e)}function jf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Oi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Li(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Q.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const a of n.values||[])r?r=!1:i+=",",i+=jf(a);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const s of i)a?a=!1:r+=",",r+=`${s}:${jf(n.fields[s])}`;return r+"}"}(e.mapValue):Y(61005,{value:e})}function Do(e){switch(Ui(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xu(e);return t?16+Do(t):16;case 5:return 2*e.stringValue.length;case 6:return Li(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+Do(a),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return Pi(i.fields,(a,s)=>{r+=a.length+Do(s)}),r}(e.mapValue);default:throw Y(13486,{value:e})}}function zf(e){return!!e&&"integerValue"in e}function mm(e){return!!e&&"arrayValue"in e}function Fy(e){return!!e&&"nullValue"in e}function Gy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function No(e){return!!e&&"mapValue"in e}function cC(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[D1])==null?void 0:i.stringValue)===N1}function Ls(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Pi(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ls(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ls(e.arrayValue.values[n]);return t}return{...e}}function hC(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===uC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.value=t}static empty(){return new we({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!No(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ls(n)}setAll(t){let n=se.emptyPath(),i={},r=[];t.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=o.popLast()}s?i[o.lastSegment()]=Ls(s):r.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,r)}delete(t){const n=this.field(t.popLast());No(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return vn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];No(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){Pi(n,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new we(Ls(this.value))}}function V1(e){const t=[];return Pi(e.fields,(n,i)=>{const r=new se([n]);if(No(i)){const a=V1(i.mapValue).fields;if(a.length===0)t.push(r);else for(const s of a)t.push(r.child(s))}else t.push(r)}),new Oe(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n,i,r,a,s,o){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new de(t,0,Z.min(),Z.min(),Z.min(),we.empty(),0)}static newFoundDocument(t,n,i,r){return new de(t,1,n,Z.min(),i,r,0)}static newNoDocument(t,n){return new de(t,2,n,Z.min(),Z.min(),we.empty(),0)}static newUnknownDocument(t,n){return new de(t,3,n,Z.min(),Z.min(),we.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=we.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=we.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof de&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new de(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,n){this.position=t,this.inclusive=n}}function Qy(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const a=t[r],s=e.position[r];if(a.field.isKeyField()?i=Q.comparator(Q.fromName(s.referenceValue),n.key):i=ba(s,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Yy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!vn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,n="asc"){this.field=t,this.dir=n}}function fC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{}class Kt extends I1{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new mC(t,n,i):n==="array-contains"?new yC(t,i):n==="in"?new vC(t,i):n==="not-in"?new _C(t,i):n==="array-contains-any"?new EC(t,i):new Kt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new gC(t,i):new pC(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ba(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(ba(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _n extends I1{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new _n(t,n)}matches(t){return M1(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function M1(e){return e.op==="and"}function O1(e){return dC(e)&&M1(e)}function dC(e){for(const t of e.filters)if(t instanceof _n)return!1;return!0}function kf(e){if(e instanceof Kt)return e.field.canonicalString()+e.op.toString()+Sa(e.value);if(O1(e))return e.filters.map(t=>kf(t)).join(",");{const t=e.filters.map(n=>kf(n)).join(",");return`${e.op}(${t})`}}function L1(e,t){return e instanceof Kt?function(i,r){return r instanceof Kt&&i.op===r.op&&i.field.isEqual(r.field)&&vn(i.value,r.value)}(e,t):e instanceof _n?function(i,r){return r instanceof _n&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,s,o)=>a&&L1(s,r.filters[o]),!0):!1}(e,t):void Y(19439)}function U1(e){return e instanceof Kt?function(n){return`${n.field.canonicalString()} ${n.op} ${Sa(n.value)}`}(e):e instanceof _n?function(n){return n.op.toString()+" {"+n.getFilters().map(U1).join(" ,")+"}"}(e):"Filter"}class mC extends Kt{constructor(t,n,i){super(t,n,i),this.key=Q.fromName(i.referenceValue)}matches(t){const n=Q.comparator(t.key,this.key);return this.matchesComparison(n)}}class gC extends Kt{constructor(t,n){super(t,"in",n),this.keys=j1("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class pC extends Kt{constructor(t,n){super(t,"not-in",n),this.keys=j1("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function j1(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class yC extends Kt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return mm(n)&&al(n.arrayValue,this.value)}}class vC extends Kt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&al(this.value.arrayValue,n)}}class _C extends Kt{constructor(t,n){super(t,"not-in",n)}matches(t){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!al(this.value.arrayValue,n)}}class EC extends Kt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!mm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>al(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,n=null,i=[],r=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function Ky(e,t=null,n=[],i=[],r=null,a=null,s=null){return new TC(e,t,n,i,r,a,s)}function gm(e){const t=J(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>kf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Ku(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Sa(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Sa(i)).join(",")),t.Te=n}return t.Te}function pm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!L1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yy(e.startAt,t.startAt)&&Yy(e.endAt,t.endAt)}function Bf(e){return Q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,n=null,i=[],r=[],a=null,s="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bC(e,t,n,i,r,a,s,o){return new $u(e,t,n,i,r,a,s,o)}function Zu(e){return new $u(e)}function Xy(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function SC(e){return Q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}function AC(e){return e.collectionGroup!==null}function Us(e){const t=J(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),n.add(a.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Xt(se.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new vu(a,i))}),n.has(se.keyField().canonicalString())||t.Ie.push(new vu(se.keyField(),i))}return t.Ie}function gn(e){const t=J(e);return t.Ee||(t.Ee=wC(t,Us(e))),t.Ee}function wC(e,t){if(e.limitType==="F")return Ky(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new vu(r.field,a)});const n=e.endAt?new yu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yu(e.startAt.position,e.startAt.inclusive):null;return Ky(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Pf(e,t,n){return new $u(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ju(e,t){return pm(gn(e),gn(t))&&e.limitType===t.limitType}function z1(e){return`${gm(gn(e))}|lt:${e.limitType}`}function jr(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>U1(r)).join(", ")}]`),Ku(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Sa(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Sa(r)).join(",")),`Target(${i})`}(gn(e))}; limitType=${e.limitType})`}function Wu(e,t){return t.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Q.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(e,t)&&function(i,r){for(const a of Us(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(s,o,u){const c=Qy(s,o,u);return s.inclusive?c<=0:c<0}(i.startAt,Us(i),r)||i.endAt&&!function(s,o,u){const c=Qy(s,o,u);return s.inclusive?c>=0:c>0}(i.endAt,Us(i),r))}(e,t)}function xC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function k1(e){return(t,n)=>{let i=!1;for(const r of Us(e)){const a=RC(r,t,n);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function RC(e,t,n){const i=e.field.isKeyField()?Q.comparator(t.key,n.key):function(a,s,o){const u=s.data.field(a),c=o.data.field(a);return u!==null&&c!==null?ba(u,c):Y(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Y(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,t))return a}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Pi(this.inner,(n,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return S1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Vt(Q.comparator);function Yn(){return CC}const B1=new Vt(Q.comparator);function ys(...e){let t=B1;for(const n of e)t=t.insert(n.key,n);return t}function P1(e){let t=B1;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ir(){return js()}function H1(){return js()}function js(){return new wr(e=>e.toString(),(e,t)=>e.isEqual(t))}const DC=new Vt(Q.comparator),NC=new Xt(Q.comparator);function at(...e){let t=NC;for(const n of e)t=t.add(n);return t}const VC=new Xt(rt);function IC(){return VC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(t)?"-0":t}}function q1(e){return{integerValue:""+e}}function MC(e,t){return iC(t)?q1(t):ym(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this._=void 0}}function OC(e,t,n){return e instanceof _u?function(r,a){const s={fields:{[x1]:{stringValue:w1},[C1]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&dm(a)&&(a=Xu(a)),a&&(s.fields[R1]=a),{mapValue:s}}(n,t):e instanceof sl?G1(e,t):e instanceof ll?Q1(e,t):function(r,a){const s=F1(r,a),o=$y(s)+$y(r.Ae);return zf(s)&&zf(r.Ae)?q1(o):ym(r.serializer,o)}(e,t)}function LC(e,t,n){return e instanceof sl?G1(e,t):e instanceof ll?Q1(e,t):n}function F1(e,t){return e instanceof Eu?function(i){return zf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(t)?t:{integerValue:0}:null}class _u extends tc{}class sl extends tc{constructor(t){super(),this.elements=t}}function G1(e,t){const n=Y1(t);for(const i of e.elements)n.some(r=>vn(r,i))||n.push(i);return{arrayValue:{values:n}}}class ll extends tc{constructor(t){super(),this.elements=t}}function Q1(e,t){let n=Y1(t);for(const i of e.elements)n=n.filter(r=>!vn(r,i));return{arrayValue:{values:n}}}class Eu extends tc{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function $y(e){return Lt(e.integerValue||e.doubleValue)}function Y1(e){return mm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function UC(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof sl&&r instanceof sl||i instanceof ll&&r instanceof ll?Ta(i.elements,r.elements,vn):i instanceof Eu&&r instanceof Eu?vn(i.Ae,r.Ae):i instanceof _u&&r instanceof _u}(e.transform,t.transform)}class jC{constructor(t,n){this.version=t,this.transformResults=n}}class rn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rn}static exists(t){return new rn(void 0,t)}static updateTime(t){return new rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vo(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ec{}function K1(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new vm(e.key,rn.none()):new wl(e.key,e.data,rn.none());{const n=e.data,i=we.empty();let r=new Xt(se.comparator);for(let a of t.fields)if(!r.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?i.delete(a):i.set(a,s),r=r.add(a)}return new Hi(e.key,i,new Oe(r.toArray()),rn.none())}}function zC(e,t,n){e instanceof wl?function(r,a,s){const o=r.value.clone(),u=Jy(r.fieldTransforms,a,s.transformResults);o.setAll(u),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Hi?function(r,a,s){if(!Vo(r.precondition,a))return void a.convertToUnknownDocument(s.version);const o=Jy(r.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(X1(r)),u.setAll(o),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):function(r,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function zs(e,t,n,i){return e instanceof wl?function(a,s,o,u){if(!Vo(a.precondition,s))return o;const c=a.value.clone(),f=Wy(a.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof Hi?function(a,s,o,u){if(!Vo(a.precondition,s))return o;const c=Wy(a.fieldTransforms,u,s),f=s.data;return f.setAll(X1(a)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(e,t,n,i):function(a,s,o){return Vo(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function kC(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),a=F1(i.transform,r||null);a!=null&&(n===null&&(n=we.empty()),n.set(i.field,a))}return n||null}function Zy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ta(i,r,(a,s)=>UC(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wl extends ec{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Hi extends ec{constructor(t,n,i,r,a=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function X1(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Jy(e,t,n){const i=new Map;dt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let r=0;r<n.length;r++){const a=e[r],s=a.transform,o=t.data.field(a.field);i.set(a.field,LC(s,o,n[r]))}return i}function Wy(e,t,n){const i=new Map;for(const r of e){const a=r.transform,s=n.data.field(r.field);i.set(r.field,OC(a,s,t))}return i}class vm extends ec{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BC extends ec{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&zC(a,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=zs(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=zs(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=H1();return this.mutations.forEach(r=>{const a=t.get(r.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(r.key)?null:o;const u=K1(s,o);u!==null&&i.set(r.key,u),s.isValidDocument()||s.convertToNoDocument(Z.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),at())}isEqual(t){return this.batchId===t.batchId&&Ta(this.mutations,t.mutations,(n,i)=>Zy(n,i))&&Ta(this.baseMutations,t.baseMutations,(n,i)=>Zy(n,i))}}class _m{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){dt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return DC}();const a=t.mutations;for(let s=0;s<a.length;s++)r=r.insert(a[s].key,i[s].version);return new _m(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,ot;function FC(e){switch(e){case k.OK:return Y(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Y(15467,{code:e})}}function $1(e){if(e===void 0)return Qn("GRPC error has no .code"),k.UNKNOWN;switch(e){case kt.OK:return k.OK;case kt.CANCELLED:return k.CANCELLED;case kt.UNKNOWN:return k.UNKNOWN;case kt.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case kt.INTERNAL:return k.INTERNAL;case kt.UNAVAILABLE:return k.UNAVAILABLE;case kt.UNAUTHENTICATED:return k.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case kt.NOT_FOUND:return k.NOT_FOUND;case kt.ALREADY_EXISTS:return k.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return k.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case kt.ABORTED:return k.ABORTED;case kt.OUT_OF_RANGE:return k.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return k.UNIMPLEMENTED;case kt.DATA_LOSS:return k.DATA_LOSS;default:return Y(39323,{code:e})}}(ot=kt||(kt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new xi([4294967295,4294967295],0);function t0(e){const t=GC().encode(e),n=new f1;return n.update(t),new Uint8Array(n.digest())}function e0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new xi([n,i],0),new xi([r,a],0)]}class Em{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new vs(`Invalid padding: ${n}`);if(i<0)throw new vs(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new vs(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new vs(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=xi.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(xi.fromNumber(i)));return r.compare(QC)===1&&(r=new xi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=t0(t),[i,r]=e0(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(i,r,a);if(!this.we(s))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new Em(a,r,n);return i.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const n=t0(t),[i,r]=e0(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(i,r,a);this.be(s)}}be(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class vs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t,n,i,r,a){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,xl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new nc(Z.min(),r,new Vt(rt),Yn(),at())}}class xl{constructor(t,n,i,r,a){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new xl(i,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n,i,r){this.Se=t,this.removedTargetIds=n,this.key=i,this.De=r}}class Z1{constructor(t,n){this.targetId=t,this.Ce=n}}class J1{constructor(t,n,i=ue.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class n0{constructor(){this.ve=0,this.Fe=i0(),this.Me=ue.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=at(),n=at(),i=at();return this.Fe.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Y(38017,{changeType:a})}}),new xl(this.Me,this.xe,t,n,i)}Ke(){this.Oe=!1,this.Fe=i0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class YC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Yn(),this.He=oo(),this.Je=oo(),this.Ze=new Vt(rt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Y(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const a=r.target;if(Bf(a))if(i===0){const s=new Q(a.path);this.et(n,s,de.newNoDocument(s,Z.min()))}else dt(i===1,20013,{expectedCount:i});else{const s=this._t(n);if(s!==i){const o=this.ut(t),u=o?this.ct(o,t,s):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=n;let s,o;try{s=Li(i).toUint8Array()}catch(u){if(u instanceof A1)return Ea("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Em(s,r,a)}catch(u){return Ea(u instanceof vs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(n,a,null),r++)}),r}Tt(t){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Bf(o.target)){const u=new Q(o.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,de.newNoDocument(u,t))}a.Be&&(n.set(s,a.ke()),a.Ke())}});let i=at();this.Je.forEach((a,s)=>{let o=!0;s.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const r=new nc(t,n,this.Ze,this.je,i);return this.je=Yn(),this.He=oo(),this.Je=oo(),this.Ze=new Vt(rt),r}Ye(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.qe(n,1):r.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new n0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Xt(rt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Xt(rt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new n0),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function oo(){return new Vt(Q.comparator)}function i0(){return new Vt(Q.comparator)}const KC={asc:"ASCENDING",desc:"DESCENDING"},XC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$C={and:"AND",or:"OR"};class ZC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Hf(e,t){return e.useProto3Json||Ku(t)?t:{value:t}}function Tu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function W1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function JC(e,t){return Tu(e,t.toTimestamp())}function pn(e){return dt(!!e,49232),Z.fromTimestamp(function(n){const i=Oi(n);return new xt(i.seconds,i.nanos)}(e))}function Tm(e,t){return qf(e,t).canonicalString()}function qf(e,t){const n=function(r){return new wt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function tT(e){const t=wt.fromString(e);return dt(aT(t),10190,{key:t.toString()}),t}function Ff(e,t){return Tm(e.databaseId,t.path)}function Ah(e,t){const n=tT(t);if(n.get(1)!==e.databaseId.projectId)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Q(nT(n))}function eT(e,t){return Tm(e.databaseId,t)}function WC(e){const t=tT(e);return t.length===4?wt.emptyPath():nT(t)}function Gf(e){return new wt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nT(e){return dt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function r0(e,t,n){return{name:Ff(e,t),fields:n.value.mapValue.fields}}function t4(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],a=function(c,f){return c.useProto3Json?(dt(f===void 0||typeof f=="string",58123),ue.fromBase64String(f||"")):(dt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ue.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const f=c.code===void 0?k.UNKNOWN:$1(c.code);return new F(f,c.message||"")}(s);n=new J1(i,r,a,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Ah(e,i.document.name),a=pn(i.document.updateTime),s=i.document.createTime?pn(i.document.createTime):Z.min(),o=new we({mapValue:{fields:i.document.fields}}),u=de.newFoundDocument(r,a,s,o),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Io(c,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Ah(e,i.document),a=i.readTime?pn(i.readTime):Z.min(),s=de.newNoDocument(r,a),o=i.removedTargetIds||[];n=new Io([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Ah(e,i.document),a=i.removedTargetIds||[];n=new Io([],a,r,null)}else{if(!("filter"in t))return Y(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,s=new qC(r,a),o=i.targetId;n=new Z1(o,s)}}return n}function e4(e,t){let n;if(t instanceof wl)n={update:r0(e,t.key,t.value)};else if(t instanceof vm)n={delete:Ff(e,t.key)};else if(t instanceof Hi)n={update:r0(e,t.key,t.data),updateMask:c4(t.fieldMask)};else{if(!(t instanceof BC))return Y(16599,{dt:t.type});n={verify:Ff(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(a,s){const o=s.transform;if(o instanceof _u)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof sl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ll)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Eu)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Y(20930,{transform:s.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:JC(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Y(27497)}(e,t.precondition)),n}function n4(e,t){return e&&e.length>0?(dt(t!==void 0,14353),e.map(n=>function(r,a){let s=r.updateTime?pn(r.updateTime):pn(a);return s.isEqual(Z.min())&&(s=pn(a)),new jC(s,r.transformResults||[])}(n,t))):[]}function i4(e,t){return{documents:[eT(e,t.path)]}}function r4(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=eT(e,r);const a=function(c){if(c.length!==0)return rT(_n.create(c,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:zr(m.field),direction:l4(m.dir)}}(f))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Hf(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:r}}function a4(e){let t=WC(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){dt(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let a=[];n.where&&(a=function(g){const m=iT(g);return m instanceof _n&&O1(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(m=>function(C){return new vu(kr(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(g){let m;return m=typeof g=="object"?g.value:g,Ku(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,p=g.values||[];return new yu(p,m)}(n.startAt));let c=null;return n.endAt&&(c=function(g){const m=!g.before,p=g.values||[];return new yu(p,m)}(n.endAt)),bC(t,r,s,a,o,"F",u,c)}function s4(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function iT(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=kr(n.unaryFilter.field);return Kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=kr(n.unaryFilter.field);return Kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=kr(n.unaryFilter.field);return Kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=kr(n.unaryFilter.field);return Kt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(e):e.fieldFilter!==void 0?function(n){return Kt.create(kr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return _n.create(n.compositeFilter.filters.map(i=>iT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(e):Y(30097,{filter:e})}function l4(e){return KC[e]}function o4(e){return XC[e]}function u4(e){return $C[e]}function zr(e){return{fieldPath:e.canonicalString()}}function kr(e){return se.fromServerFormat(e.fieldPath)}function rT(e){return e instanceof Kt?function(n){if(n.op==="=="){if(Gy(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NAN"}};if(Fy(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Gy(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NOT_NAN"}};if(Fy(n.value))return{unaryFilter:{field:zr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zr(n.field),op:o4(n.op),value:n.value}}}(e):e instanceof _n?function(n){const i=n.getFilters().map(r=>rT(r));return i.length===1?i[0]:{compositeFilter:{op:u4(n.op),filters:i}}}(e):Y(54877,{filter:e})}function c4(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function aT(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}function sT(e){return!!e&&typeof e._toProto=="function"&&e._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,n,i,r,a=Z.min(),s=Z.min(),o=ue.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new mi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t){this.yt=t}}function f4(e){const t=a4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Pf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.Sn=new m4}addToCollectionParentIndex(t,n){return this.Sn.add(n),z.resolve()}getCollectionParents(t,n){return z.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return z.resolve()}deleteFieldIndex(t,n){return z.resolve()}deleteAllFieldIndexes(t){return z.resolve()}createTargetIndexes(t,n){return z.resolve()}getDocumentsMatchingTarget(t,n){return z.resolve(null)}getIndexType(t,n){return z.resolve(0)}getFieldIndexes(t,n){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,n){return z.resolve(Mi.min())}getMinOffsetFromCollectionGroup(t,n){return z.resolve(Mi.min())}updateCollectionGroup(t,n,i){return z.resolve()}updateIndexEntries(t,n){return z.resolve()}}class m4{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new Xt(wt.comparator),a=!r.has(i);return this.index[n]=r.add(i),a}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Xt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class Ae{static withCacheSize(t){return new Ae(t,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ae.DEFAULT_COLLECTION_PERCENTILE=10,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ae.DEFAULT=new Ae(lT,Ae.DEFAULT_COLLECTION_PERCENTILE,Ae.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ae.DISABLED=new Ae(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Aa(0)}static ar(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="LruGarbageCollector",g4=1048576;function l0([e,t],[n,i]){const r=rt(e,n);return r===0?rt(t,i):r}class p4{constructor(t){this.Pr=t,this.buffer=new Xt(l0),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();l0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y4{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){q(s0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){za(n)?q(s0,"Ignoring IndexedDB error during garbage collection: ",n):await ja(n)}await this.Ar(3e5)})}}class v4{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return z.resolve(Yu.ce);const i=new p4(n);return this.Vr.forEachTarget(t,r=>i.Er(r.sequenceNumber)).next(()=>this.Vr.mr(t,r=>i.Er(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.Vr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(a0)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a0):this.gr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let i,r,a,s,o,u,c;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),r=this.params.maximumSequenceNumbersToCollect):r=g,s=Date.now(),this.nthSequenceNumber(t,r))).next(g=>(i=g,o=Date.now(),this.removeTargets(t,i,n))).next(g=>(a=g,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(g=>(c=Date.now(),Ur()<=ut.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${r} in `+(o-s)+`ms
	Removed ${a} targets in `+(u-o)+`ms
	Removed ${g} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:g})))}}function _4(e,t){return new v4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.changes=new wr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,de.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?z.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&zs(i.mutation,r,Oe.empty(),xt.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,at()).next(()=>i))}getLocalViewOfDocuments(t,n,i=at()){const r=ir();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(a=>{let s=ys();return a.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const i=ir();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,at()))}populateOverlays(t,n,i){const r=[];return i.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(t,n,i,r){let a=Yn();const s=js(),o=function(){return js()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof Hi)?a=a.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),zs(f.mutation,c,f.mutation.getFieldMask(),xt.now())):s.set(c.key,Oe.empty())}),this.recalculateAndSaveOverlays(t,a).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>o.set(c,new T4(f,s.get(c)??null))),o))}recalculateAndSaveOverlays(t,n){const i=js();let r=new Vt((s,o)=>s-o),a=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Oe.empty();f=o.applyToLocalView(c,f),i.set(u,f);const g=(r.get(o.batchId)||at()).add(u);r=r.insert(o.batchId,g)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,f=u.value,g=H1();f.forEach(m=>{if(!a.has(m)){const p=K1(n.get(m),i.get(m));p!==null&&g.set(m,p),a=a.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,g))}return z.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return SC(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):AC(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(a=>{const s=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-a.size):z.resolve(ir());let o=nl,u=a;return s.next(c=>z.forEach(c,(f,g)=>(o<g.largestBatchId&&(o=g.largestBatchId),a.get(f)?z.resolve():this.remoteDocumentCache.getEntry(t,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(t,c,a)).next(()=>this.computeViews(t,u,c,at())).next(f=>({batchId:o,changes:P1(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Q(n)).next(i=>{let r=ys();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const a=n.collectionGroup;let s=ys();return this.indexManager.getCollectionParents(t,a).next(o=>z.forEach(o,u=>{const c=function(g,m){return new $u(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(f=>{f.forEach((g,m)=>{s=s.insert(g,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,a,r))).next(s=>{a.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,de.newInvalidDocument(f)))});let o=ys();return s.forEach((u,c)=>{const f=a.get(u);f!==void 0&&zs(f.mutation,c,Oe.empty(),xt.now()),Wu(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return z.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:pn(r.createTime)}}(n)),z.resolve()}getNamedQuery(t,n){return z.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,function(r){return{name:r.name,query:f4(r.bundledQuery),readTime:pn(r.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(){this.overlays=new Vt(Q.comparator),this.Lr=new Map}getOverlay(t,n){return z.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ir();return z.forEach(n,r=>this.getOverlay(t,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,a)=>{this.bt(t,n,a)}),z.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Lr.delete(i)),z.resolve()}getOverlaysForCollection(t,n,i){const r=ir(),a=n.length+1,s=new Q(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>i&&r.set(u.getKey(),u)}return z.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let a=new Vt((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=a.get(c.largestBatchId);f===null&&(f=ir(),a=a.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const o=ir(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>o.set(c,f)),!(o.size()>=r)););return z.resolve(o)}bt(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const s=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new HC(n,i));let a=this.Lr.get(n);a===void 0&&(a=at(),this.Lr.set(n,a)),this.Lr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.sessionToken=ue.EMPTY_BYTE_STRING}getSessionToken(t){return z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.kr=new Xt(Jt.Kr),this.qr=new Xt(Jt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const i=new Jt(t,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Wr(new Jt(t,n))}Qr(t,n){t.forEach(i=>this.removeReference(i,n))}Gr(t){const n=new Q(new wt([])),i=new Jt(n,t),r=new Jt(n,t+1),a=[];return this.qr.forEachInRange([i,r],s=>{this.Wr(s),a.push(s.key)}),a}zr(){this.kr.forEach(t=>this.Wr(t))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new Q(new wt([])),i=new Jt(n,t),r=new Jt(n,t+1);let a=at();return this.qr.forEachInRange([i,r],s=>{a=a.add(s.key)}),a}containsKey(t){const n=new Jt(t,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Jt{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return Q.comparator(t.key,n.key)||rt(t.Hr,n.Hr)}static Ur(t,n){return rt(t.Hr,n.Hr)||Q.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xt(Jt.Kr)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new PC(a,n,i,r);this.mutationQueue.push(s);for(const o of r)this.Jr=this.Jr.add(new Jt(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return z.resolve(s)}lookupMutationBatch(t,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.Xr(i),a=r<0?0:r;return z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?fm:this.Yn-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Jt(n,0),r=new Jt(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([i,r],s=>{const o=this.Zr(s.Hr);a.push(o)}),z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Xt(rt);return n.forEach(r=>{const a=new Jt(r,0),s=new Jt(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],o=>{i=i.add(o.Hr)})}),z.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let a=i;Q.isDocumentKey(a)||(a=a.child(""));const s=new Jt(new Q(a),0);let o=new Xt(rt);return this.Jr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(o=o.add(u.Hr)),!0)},s),z.resolve(this.Yr(o))}Yr(t){const n=[];return t.forEach(i=>{const r=this.Zr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){dt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return z.forEach(n.mutations,r=>{const a=new Jt(r.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Jr=i})}nr(t){}containsKey(t,n){const i=new Jt(n,0),r=this.Jr.firstAfterOrEqual(i);return z.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t){this.ti=t,this.docs=function(){return new Vt(Q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),a=r?r.size:0,s=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return z.resolve(i?i.document.mutableCopy():de.newInvalidDocument(n))}getEntries(t,n){let i=Yn();return n.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():de.newInvalidDocument(r))}),z.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let a=Yn();const s=n.path,o=new Q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||WR(JR(f),i)<=0||(r.has(f.key)||Wu(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return z.resolve(a)}getAllFromCollectionGroup(t,n,i,r){Y(9500)}ni(t,n){return z.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new C4(this)}getSize(t){return z.resolve(this.size)}}class C4 extends E4{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(i)}),z.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(t){this.persistence=t,this.ri=new wr(n=>gm(n),pm),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.ii=0,this.si=new bm,this.targetCount=0,this.oi=Aa._r()}forEachTarget(t,n){return this.ri.forEach((i,r)=>n(r)),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),z.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new Aa(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,z.resolve()}updateTargetData(t,n){return this.lr(n),z.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,n,i){let r=0;const a=[];return this.ri.forEach((s,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)}),z.waitFor(a).next(()=>r)}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,n){const i=this.ri.get(n)||null;return z.resolve(i)}addMatchingKeys(t,n,i){return this.si.$r(n,i),z.resolve()}removeMatchingKeys(t,n,i){this.si.Qr(n,i);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(s=>{a.push(r.markPotentiallyOrphaned(t,s))}),z.waitFor(a)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),z.resolve()}getMatchingKeysForTargetId(t,n){const i=this.si.jr(n);return z.resolve(i)}containsKey(t,n){return z.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,n){this._i={},this.overlays={},this.ai=new Yu(0),this.ui=!1,this.ui=!0,this.ci=new w4,this.referenceDelegate=t(this),this.li=new D4(this),this.indexManager=new d4,this.remoteDocumentCache=function(r){return new R4(r)}(i=>this.referenceDelegate.hi(i)),this.serializer=new h4(n),this.Pi=new S4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new A4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this._i[t.toKey()];return i||(i=new x4(n,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const r=new N4(this.ai.next());return this.referenceDelegate.Ti(),i(r).next(a=>this.referenceDelegate.Ii(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ei(t,n){return z.or(Object.values(this._i).map(i=>()=>i.containsKey(t,n)))}}class N4 extends eC{constructor(t){super(),this.currentSequenceNumber=t}}class Sm{constructor(t){this.persistence=t,this.Ri=new bm,this.Ai=null}static Vi(t){return new Sm(t)}get di(){if(this.Ai)return this.Ai;throw Y(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),z.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),z.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),z.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(a=>this.di.add(a.toString()))}).next(()=>i.removeTargetData(t,n))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,i=>{const r=Q.fromPath(i);return this.mi(t,r).next(a=>{a||n.removeEntry(r,Z.min())})}).next(()=>(this.Ai=null,n.apply(t)))}updateLimboDocument(t,n){return this.mi(t,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(t){return 0}mi(t,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class bu{constructor(t,n){this.persistence=t,this.fi=new wr(i=>rC(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=_4(this,n)}static Vi(t,n){return new bu(t,n)}Ti(){}Ii(t){return z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}pr(t){let n=0;return this.mr(t,i=>{n++}).next(()=>n)}mr(t,n){return z.forEach(this.fi,(i,r)=>this.wr(t,i,r).next(a=>a?z.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ni(t,s=>this.wr(t,s,n).next(o=>{o||(i++,a.removeEntry(s,Z.min()))})).next(()=>a.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),z.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),z.resolve()}removeReference(t,n,i){return this.fi.set(i,t.currentSequenceNumber),z.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),z.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Do(t.data.value)),n}wr(t,n,i){return z.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.fi.get(n);return z.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Ts=i,this.Is=r}static Es(t,n){let i=at(),r=at();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new Am(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return _x()?8:nC(yx())>0?6:4}()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const a={result:null};return this.gs(t,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ps(t,n,r,i).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new V4;return this.ys(t,n,s).next(o=>{if(a.result=o,this.As)return this.ws(t,n,s,o.size)})}).next(()=>a.result)}ws(t,n,i,r){return i.documentReadCount<this.Vs?(Ur()<=ut.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",jr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(Ur()<=ut.DEBUG&&q("QueryEngine","Query:",jr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(Ur()<=ut.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",jr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gn(n))):z.resolve())}gs(t,n){if(Xy(n))return z.resolve(null);let i=gn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Pf(n,null,"F"),i=gn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const s=at(...a);return this.fs.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const c=this.bs(n,o);return this.Ss(n,c,s,u.readTime)?this.gs(t,Pf(n,null,"F")):this.Ds(t,c,n,u)}))})))}ps(t,n,i,r){return Xy(n)||r.isEqual(Z.min())?z.resolve(null):this.fs.getDocuments(t,i).next(a=>{const s=this.bs(n,a);return this.Ss(n,s,i,r)?z.resolve(null):(Ur()<=ut.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jr(n)),this.Ds(t,s,n,ZR(r,nl)).next(o=>o))})}bs(t,n){let i=new Xt(k1(t));return n.forEach((r,a)=>{Wu(t,a)&&(i=i.add(a))}),i}Ss(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const a=t.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ys(t,n,i){return Ur()<=ut.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",jr(n)),this.fs.getDocumentsMatchingQuery(t,n,Mi.min(),i)}Ds(t,n,i,r){return this.fs.getDocumentsMatchingQuery(t,i,r).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="LocalStore",M4=3e8;class O4{constructor(t,n,i,r){this.persistence=t,this.Cs=n,this.serializer=r,this.vs=new Vt(rt),this.Fs=new wr(a=>gm(a),pm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new b4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.vs))}}function L4(e,t,n,i){return new O4(e,t,n,i)}async function uT(e,t){const n=J(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,n.Os(t),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const s=[],o=[];let u=at();for(const c of r){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of a){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ns:c,removedBatchIds:s,addedBatchIds:o}))})})}function U4(e,t){const n=J(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=n.xs.newChangeBuffer({trackRemovals:!0});return function(o,u,c,f){const g=c.batch,m=g.keys();let p=z.resolve();return m.forEach(C=>{p=p.next(()=>f.getEntry(u,C)).next(N=>{const D=c.docVersions.get(C);dt(D!==null,48541),N.version.compareTo(D)<0&&(g.applyToRemoteDocument(N,c),N.isValidDocument()&&(N.setReadTime(c.commitVersion),f.addEntry(N)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(u,g))}(n,i,t,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=at();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function cT(e){const t=J(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.li.getLastRemoteSnapshotVersion(n))}function j4(e,t){const n=J(e),i=t.snapshotVersion;let r=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});r=n.vs;const o=[];t.targetChanges.forEach((f,g)=>{const m=r.get(g);if(!m)return;o.push(n.li.removeMatchingKeys(a,f.removedDocuments,g).next(()=>n.li.addMatchingKeys(a,f.addedDocuments,g)));let p=m.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(g)!==null?p=p.withResumeToken(ue.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,i)),r=r.insert(g,p),function(N,D,E){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=M4?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,p,f)&&o.push(n.li.updateTargetData(a,p))});let u=Yn(),c=at();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),o.push(z4(a,s,t.documentUpdates).next(f=>{u=f.Bs,c=f.Ls})),!i.isEqual(Z.min())){const f=n.li.getLastRemoteSnapshotVersion(a).next(g=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,i));o.push(f)}return z.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.vs=r,a))}function z4(e,t,n){let i=at(),r=at();return n.forEach(a=>i=i.add(a)),t.getEntries(e,i).next(a=>{let s=Yn();return n.forEach((o,u)=>{const c=a.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(o)),u.isNoDocument()&&u.version.isEqual(Z.min())?(t.removeEntry(o,u.readTime),s=s.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),s=s.insert(o,u)):q(wm,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{Bs:s,Ls:r}})}function k4(e,t){const n=J(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=fm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function B4(e,t){const n=J(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.li.getTargetData(i,t).next(a=>a?(r=a,z.resolve(r)):n.li.allocateTargetId(i).next(s=>(r=new mi(t,s,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(t,i.targetId)),i})}async function Qf(e,t,n){const i=J(e),r=i.vs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,s=>i.persistence.referenceDelegate.removeTarget(s,r))}catch(s){if(!za(s))throw s;q(wm,`Failed to update sequence numbers for target ${t}: ${s}`)}i.vs=i.vs.remove(t),i.Fs.delete(r.target)}function o0(e,t,n){const i=J(e);let r=Z.min(),a=at();return i.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const g=J(u),m=g.Fs.get(f);return m!==void 0?z.resolve(g.vs.get(m)):g.li.getTargetData(c,f)}(i,s,gn(t)).next(o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(s,o.targetId).next(u=>{a=u})}).next(()=>i.Cs.getDocumentsMatchingQuery(s,t,n?r:Z.min(),n?a:at())).next(o=>(P4(i,xC(t),o),{documents:o,ks:a})))}function P4(e,t,n){let i=e.Ms.get(t)||Z.min();n.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),e.Ms.set(t,i)}class u0{constructor(){this.activeTargetIds=IC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class H4{constructor(){this.vo=new u0,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,i){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new u0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="ConnectivityMonitor";class h0{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q(c0,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){q(c0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo=null;function Yf(){return uo===null?uo=function(){return 268435456+Math.round(2147483648*Math.random())}():uo++,"0x"+uo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh="RestConnection",F4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class G4{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===gu?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,n,i,r,a){const s=Yf(),o=this.Qo(t,n.toUriEncodedString());q(wh,`Sending RPC '${t}' ${s}:`,o,i);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,r,a);const{host:c}=new URL(o),f=lm(c);return this.zo(t,o,u,i,f).then(g=>(q(wh,`Received RPC '${t}' ${s}: `,g),g),g=>{throw Ea(wh,`RPC '${t}' ${s} failed with error: `,g,"url: ",o,"request:",i),g})}jo(t,n,i,r,a,s){return this.Wo(t,n,i,r,a)}Go(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}Qo(t,n){const i=F4[t];let r=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he="WebChannelConnection",cs=(e,t,n)=>{e.listen(t,i=>{try{n(i)}catch(r){setTimeout(()=>{throw r},0)}})};class sa extends G4{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!sa.c_){const t=p1();cs(t,g1.STAT_EVENT,n=>{n.stat===Lf.PROXY?q(he,"STAT_EVENT: detected buffering proxy"):n.stat===Lf.NOPROXY&&q(he,"STAT_EVENT: detected no buffering proxy")}),sa.c_=!0}}zo(t,n,i,r,a){const s=Yf();return new Promise((o,u)=>{const c=new d1;c.setWithCredentials(!0),c.listenOnce(m1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Co.NO_ERROR:const g=c.getResponseJson();q(he,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(g)),o(g);break;case Co.TIMEOUT:q(he,`RPC '${t}' ${s} timed out`),u(new F(k.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const m=c.getStatus();if(q(he,`RPC '${t}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const C=p==null?void 0:p.error;if(C&&C.status&&C.message){const N=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(T)>=0?T:k.UNKNOWN}(C.status);u(new F(N,C.message))}else u(new F(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new F(k.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:t,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(he,`RPC '${t}' ${s} completed.`)}});const f=JSON.stringify(r);q(he,`RPC '${t}' ${s} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(t,n,i){const r=Yf(),a=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,i),o.encodeInitMessageHeaders=!0;const c=a.join("");q(he,`Creating RPC '${t}' stream ${r}: ${c}`,o);const f=s.createWebChannel(c,o);this.I_(f);let g=!1,m=!1;const p=new Q4({Ho:C=>{m?q(he,`Not sending because RPC '${t}' stream ${r} is closed:`,C):(g||(q(he,`Opening RPC '${t}' stream ${r} transport.`),f.open(),g=!0),q(he,`RPC '${t}' stream ${r} sending:`,C),f.send(C))},Jo:()=>f.close()});return cs(f,ps.EventType.OPEN,()=>{m||(q(he,`RPC '${t}' stream ${r} transport opened.`),p.i_())}),cs(f,ps.EventType.CLOSE,()=>{m||(m=!0,q(he,`RPC '${t}' stream ${r} transport closed`),p.o_(),this.E_(f))}),cs(f,ps.EventType.ERROR,C=>{m||(m=!0,Ea(he,`RPC '${t}' stream ${r} transport errored. Name:`,C.name,"Message:",C.message),p.o_(new F(k.UNAVAILABLE,"The operation could not be completed")))}),cs(f,ps.EventType.MESSAGE,C=>{var N;if(!m){const D=C.data[0];dt(!!D,16349);const E=D,T=(E==null?void 0:E.error)||((N=E[0])==null?void 0:N.error);if(T){q(he,`RPC '${t}' stream ${r} received error:`,T);const A=T.status;let V=function(y){const _=kt[y];if(_!==void 0)return $1(_)}(A),L=T.message;V===void 0&&(V=k.INTERNAL,L="Unknown error status: "+A+" with message "+T.message),m=!0,p.o_(new F(V,L)),f.close()}else q(he,`RPC '${t}' stream ${r} received:`,D),p.__(D)}}),sa.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(t=>t.close()),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter(n=>n===t)}Go(t,n,i){super.Go(t,n,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return y1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(e){return new sa(e)}function xh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(e){return new ZC(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sa.c_=!1;class hT{constructor(t,n,i=1e3,r=1.5,a=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=r,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="PersistentStream";class fT{constructor(t,n,i,r,a,s,o,u){this.Ci=t,this.b_=i,this.S_=r,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Qn(n.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{t(()=>{const r=new F(k.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,n){const i=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.H_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return q(f0,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget(()=>this.D_===t?n():(q(f0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K4 extends fT{constructor(t,n,i,r,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=a}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=t4(this.serializer,t),i=function(a){if(!("targetChange"in a))return Z.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?pn(s.readTime):Z.min()}(t);return this.listener.J_(n,i)}Z_(t){const n={};n.database=Gf(this.serializer),n.addTarget=function(a,s){let o;const u=s.target;if(o=Bf(u)?{documents:i4(a,u)}:{query:r4(a,u).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=W1(a,s.resumeToken);const c=Hf(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Z.min())>0){o.readTime=Tu(a,s.snapshotVersion.toTimestamp());const c=Hf(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const i=s4(this.serializer,t);i&&(n.labels=i),this.K_(n)}X_(t){const n={};n.database=Gf(this.serializer),n.removeTarget=t,this.K_(n)}}class X4 extends fT{constructor(t,n,i,r,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return dt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,dt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){dt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=n4(t.writeResults,t.commitTime),i=pn(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=Gf(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>e4(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{}class Z4 extends $4{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Wo(t,qf(n,i),r,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new F(k.UNKNOWN,a.toString())})}jo(t,n,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.jo(t,qf(n,i),r,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(k.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function J4(e,t,n,i){return new Z4(e,t,n,i)}class W4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="RemoteStore";class tD{constructor(t,n,i,r,a){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo(s=>{i.enqueueAndForget(async()=>{xr(this)&&(q(pr,"Restarting streams for network reachability change."),await async function(u){const c=J(u);c.Ea.add(4),await Rl(c),c.Va.set("Unknown"),c.Ea.delete(4),await rc(c)}(this))})}),this.Va=new W4(i,r)}}async function rc(e){if(xr(e))for(const t of e.Ra)await t(!0)}async function Rl(e){for(const t of e.Ra)await t(!1)}function dT(e,t){const n=J(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Dm(n)?Cm(n):ka(n).O_()&&Rm(n,t))}function xm(e,t){const n=J(e),i=ka(n);n.Ia.delete(t),i.O_()&&mT(n,t),n.Ia.size===0&&(i.O_()?i.L_():xr(n)&&n.Va.set("Unknown"))}function Rm(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ka(e).Z_(t)}function mT(e,t){e.da.$e(t),ka(e).X_(t)}function Cm(e){e.da=new YC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),ka(e).start(),e.Va.ua()}function Dm(e){return xr(e)&&!ka(e).x_()&&e.Ia.size>0}function xr(e){return J(e).Ea.size===0}function gT(e){e.da=void 0}async function eD(e){e.Va.set("Online")}async function nD(e){e.Ia.forEach((t,n)=>{Rm(e,t)})}async function iD(e,t){gT(e),Dm(e)?(e.Va.ha(t),Cm(e)):e.Va.set("Unknown")}async function rD(e,t,n){if(e.Va.set("Online"),t instanceof J1&&t.state===2&&t.cause)try{await async function(r,a){const s=a.cause;for(const o of a.targetIds)r.Ia.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Ia.delete(o),r.da.removeTarget(o))}(e,t)}catch(i){q(pr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Su(e,i)}else if(t instanceof Io?e.da.Xe(t):t instanceof Z1?e.da.st(t):e.da.tt(t),!n.isEqual(Z.min()))try{const i=await cT(e.localStore);n.compareTo(i)>=0&&await function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(c);f&&a.Ia.set(c,f.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,c)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(ue.EMPTY_BYTE_STRING,f.snapshotVersion)),mT(a,u);const g=new mi(f.target,u,c,f.sequenceNumber);Rm(a,g)}),a.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){q(pr,"Failed to raise snapshot:",i),await Su(e,i)}}async function Su(e,t,n){if(!za(t))throw t;e.Ea.add(1),await Rl(e),e.Va.set("Offline"),n||(n=()=>cT(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q(pr,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await rc(e)})}function pT(e,t){return t().catch(n=>Su(e,n,t))}async function ac(e){const t=J(e),n=ji(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:fm;for(;aD(t);)try{const r=await k4(t.localStore,i);if(r===null){t.Ta.length===0&&n.L_();break}i=r.batchId,sD(t,r)}catch(r){await Su(t,r)}yT(t)&&vT(t)}function aD(e){return xr(e)&&e.Ta.length<10}function sD(e,t){e.Ta.push(t);const n=ji(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function yT(e){return xr(e)&&!ji(e).x_()&&e.Ta.length>0}function vT(e){ji(e).start()}async function lD(e){ji(e).ra()}async function oD(e){const t=ji(e);for(const n of e.Ta)t.ea(n.mutations)}async function uD(e,t,n){const i=e.Ta.shift(),r=_m.from(i,t,n);await pT(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await ac(e)}async function cD(e,t){t&&ji(e).Y_&&await async function(i,r){if(function(s){return FC(s)&&s!==k.ABORTED}(r.code)){const a=i.Ta.shift();ji(i).B_(),await pT(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await ac(i)}}(e,t),yT(e)&&vT(e)}async function d0(e,t){const n=J(e);n.asyncQueue.verifyOperationInProgress(),q(pr,"RemoteStore received new credentials");const i=xr(n);n.Ea.add(3),await Rl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await rc(n)}async function hD(e,t){const n=J(e);t?(n.Ea.delete(2),await rc(n)):t||(n.Ea.add(2),await Rl(n),n.Va.set("Unknown"))}function ka(e){return e.ma||(e.ma=function(n,i,r){const a=J(n);return a.sa(),new K4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(e.datastore,e.asyncQueue,{Zo:eD.bind(null,e),Yo:nD.bind(null,e),t_:iD.bind(null,e),J_:rD.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),Dm(e)?Cm(e):e.Va.set("Unknown")):(await e.ma.stop(),gT(e))})),e.ma}function ji(e){return e.fa||(e.fa=function(n,i,r){const a=J(n);return a.sa(),new X4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:lD.bind(null,e),t_:cD.bind(null,e),ta:oD.bind(null,e),na:uD.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await ac(e)):(await e.fa.stop(),e.Ta.length>0&&(q(pr,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,n,i,r,a){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,a){const s=Date.now()+i,o=new Nm(t,n,s,r,a);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(e,t){if(Qn("AsyncQueue",`${t}: ${e}`),za(e))return new F(k.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{static emptySet(t){return new la(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=ys(),this.sortedSet=new Vt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof la)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new la;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.ga=new Vt(Q.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Y(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class wa{constructor(t,n,i,r,a,s,o,u,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,r,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new wa(t,n,la.emptySet(n),s,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ju(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(t=>t.Da())}}class dD{constructor(){this.queries=g0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=J(n),a=r.queries;r.queries=g0(),a.forEach((s,o)=>{for(const u of o.ba)u.onError(i)})})(this,new F(k.ABORTED,"Firestore shutting down"))}}function g0(){return new wr(e=>z1(e),Ju)}async function _T(e,t){const n=J(e);let i=3;const r=t.query;let a=n.queries.get(r);a?!a.Sa()&&t.Da()&&(i=2):(a=new fD,i=t.Da()?0:1);try{switch(i){case 0:a.wa=await n.onListen(r,!0);break;case 1:a.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(s){const o=Vm(s,`Initialization of query '${jr(t.query)}' failed`);return void t.onError(o)}n.queries.set(r,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Im(n)}async function ET(e,t){const n=J(e),i=t.query;let r=3;const a=n.queries.get(i);if(a){const s=a.ba.indexOf(t);s>=0&&(a.ba.splice(s,1),a.ba.length===0?r=t.Da()?0:1:!a.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function mD(e,t){const n=J(e);let i=!1;for(const r of t){const a=r.query,s=n.queries.get(a);if(s){for(const o of s.ba)o.Fa(r)&&(i=!0);s.wa=r}}i&&Im(n)}function gD(e,t,n){const i=J(e),r=i.queries.get(t);if(r)for(const a of r.ba)a.onError(n);i.queries.delete(t)}function Im(e){e.Ca.forEach(t=>{t.next()})}var Kf,p0;(p0=Kf||(Kf={})).Ma="default",p0.Cache="cache";class TT{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new wa(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t){this.key=t}}class ST{constructor(t){this.key=t}}class pD{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=at(),this.mutatedKeys=at(),this.eu=k1(t),this.tu=new la(this.eu)}get nu(){return this.Za}ru(t,n){const i=n?n.iu:new m0,r=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=r,o=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,g)=>{const m=r.get(f),p=Wu(this.query,g)?g:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let D=!1;m&&p?m.data.isEqual(p.data)?C!==N&&(i.track({type:3,doc:p}),D=!0):this.su(m,p)||(i.track({type:2,doc:p}),D=!0,(u&&this.eu(p,u)>0||c&&this.eu(p,c)<0)&&(o=!0)):!m&&p?(i.track({type:0,doc:p}),D=!0):m&&!p&&(i.track({type:1,doc:m}),D=!0,(u||c)&&(o=!0)),D&&(p?(s=s.add(p),a=N?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),i.track({type:1,doc:f})}return{tu:s,iu:i,Ss:o,mutatedKeys:a}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((f,g)=>function(p,C){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:D})}};return N(p)-N(C)}(f.type,g.type)||this.eu(f.doc,g.doc)),this.ou(i),r=r??!1;const o=n&&!r?this._u():[],u=this.Ya.size===0&&this.current&&!r?1:0,c=u!==this.Xa;return this.Xa=u,s.length!==0||c?{snapshot:new wa(this.query,t.tu,a,s,t.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=at(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return t.forEach(i=>{this.Ya.has(i)||n.push(new ST(i))}),this.Ya.forEach(i=>{t.has(i)||n.push(new bT(i))}),n}cu(t){this.Za=t.ks,this.Ya=at();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Mm="SyncEngine";class yD{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class vD{constructor(t){this.key=t,this.hu=!1}}class _D{constructor(t,n,i,r,a,s){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new wr(o=>z1(o),Ju),this.Iu=new Map,this.Eu=new Set,this.Ru=new Vt(Q.comparator),this.Au=new Map,this.Vu=new bm,this.du={},this.mu=new Map,this.fu=Aa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ED(e,t,n=!0){const i=DT(e);let r;const a=i.Tu.get(t);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await AT(i,t,n,!0),r}async function TD(e,t){const n=DT(e);await AT(n,t,!0,!1)}async function AT(e,t,n,i){const r=await B4(e.localStore,gn(t)),a=r.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return i&&(o=await bD(e,t,a,s==="current",r.resumeToken)),e.isPrimaryClient&&n&&dT(e.remoteStore,r),o}async function bD(e,t,n,i,r){e.pu=(g,m,p)=>async function(N,D,E,T){let A=D.view.ru(E);A.Ss&&(A=await o0(N.localStore,D.query,!1).then(({documents:y})=>D.view.ru(y,A)));const V=T&&T.targetChanges.get(D.targetId),L=T&&T.targetMismatches.get(D.targetId)!=null,P=D.view.applyChanges(A,N.isPrimaryClient,V,L);return v0(N,D.targetId,P.au),P.snapshot}(e,g,m,p);const a=await o0(e.localStore,t,!0),s=new pD(t,a.ks),o=s.ru(a.documents),u=xl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),c=s.applyChanges(o,e.isPrimaryClient,u);v0(e,n,c.au);const f=new yD(t,n,s);return e.Tu.set(t,f),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function SD(e,t,n){const i=J(e),r=i.Tu.get(t),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter(s=>!Ju(s,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Qf(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&xm(i.remoteStore,r.targetId),Xf(i,r.targetId)}).catch(ja)):(Xf(i,r.targetId),await Qf(i.localStore,r.targetId,!0))}async function AD(e,t){const n=J(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),xm(n.remoteStore,i.targetId))}async function wD(e,t,n){const i=ID(e);try{const r=await function(s,o){const u=J(s),c=xt.now(),f=o.reduce((p,C)=>p.add(C.key),at());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let C=Yn(),N=at();return u.xs.getEntries(p,f).next(D=>{C=D,C.forEach((E,T)=>{T.isValidDocument()||(N=N.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,C)).next(D=>{g=D;const E=[];for(const T of o){const A=kC(T,g.get(T.key).overlayedDocument);A!=null&&E.push(new Hi(T.key,A,V1(A.value.mapValue),rn.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,E,o)}).next(D=>{m=D;const E=D.applyToLocalDocumentSet(g,N);return u.documentOverlayCache.saveOverlays(p,D.batchId,E)})}).then(()=>({batchId:m.batchId,changes:P1(g)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,o,u){let c=s.du[s.currentUser.toKey()];c||(c=new Vt(rt)),c=c.insert(o,u),s.du[s.currentUser.toKey()]=c}(i,r.batchId,n),await Cl(i,r.changes),await ac(i.remoteStore)}catch(r){const a=Vm(r,"Failed to persist write");n.reject(a)}}async function wT(e,t){const n=J(e);try{const i=await j4(n.localStore,t);t.targetChanges.forEach((r,a)=>{const s=n.Au.get(a);s&&(dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?s.hu=!0:r.modifiedDocuments.size>0?dt(s.hu,14607):r.removedDocuments.size>0&&(dt(s.hu,42227),s.hu=!1))}),await Cl(n,i,t)}catch(i){await ja(i)}}function y0(e,t,n){const i=J(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&r.push(o.snapshot)}),function(s,o){const u=J(s);u.onlineState=o;let c=!1;u.queries.forEach((f,g)=>{for(const m of g.ba)m.va(o)&&(c=!0)}),c&&Im(u)}(i.eventManager,t),r.length&&i.Pu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function xD(e,t,n){const i=J(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),a=r&&r.key;if(a){let s=new Vt(Q.comparator);s=s.insert(a,de.newNoDocument(a,Z.min()));const o=at().add(a),u=new nc(Z.min(),new Map,new Vt(rt),s,o);await wT(i,u),i.Ru=i.Ru.remove(a),i.Au.delete(t),Om(i)}else await Qf(i.localStore,t,!1).then(()=>Xf(i,t,n)).catch(ja)}async function RD(e,t){const n=J(e),i=t.batch.batchId;try{const r=await U4(n.localStore,t);RT(n,i,null),xT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Cl(n,r)}catch(r){await ja(r)}}async function CD(e,t,n){const i=J(e);try{const r=await function(s,o){const u=J(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,o).next(g=>(dt(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(c,g))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,t);RT(i,t,n),xT(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Cl(i,r)}catch(r){await ja(r)}}function xT(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function RT(e,t,n){const i=J(e);let r=i.du[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(n?a.reject(n):a.resolve(),r=r.remove(t)),i.du[i.currentUser.toKey()]=r}}function Xf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(i=>{e.Vu.containsKey(i)||CT(e,i)})}function CT(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);n!==null&&(xm(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Om(e))}function v0(e,t,n){for(const i of n)i instanceof bT?(e.Vu.addReference(i.key,t),DD(e,i)):i instanceof ST?(q(Mm,"Document no longer in limbo: "+i.key),e.Vu.removeReference(i.key,t),e.Vu.containsKey(i.key)||CT(e,i.key)):Y(19791,{wu:i})}function DD(e,t){const n=t.key,i=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(i)||(q(Mm,"New document in limbo: "+n),e.Eu.add(i),Om(e))}function Om(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Q(wt.fromString(t)),i=e.fu.next();e.Au.set(i,new vD(n)),e.Ru=e.Ru.insert(n,i),dT(e.remoteStore,new mi(gn(Zu(n.path)),i,"TargetPurposeLimboResolution",Yu.ce))}}async function Cl(e,t,n){const i=J(e),r=[],a=[],s=[];i.Tu.isEmpty()||(i.Tu.forEach((o,u)=>{s.push(i.pu(u,t,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const g=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(c){r.push(c);const g=Am.Es(u.targetId,c);a.push(g)}}))}),await Promise.all(s),i.Pu.J_(r),await async function(u,c){const f=J(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>z.forEach(c,m=>z.forEach(m.Ts,p=>f.persistence.referenceDelegate.addReference(g,m.targetId,p)).next(()=>z.forEach(m.Is,p=>f.persistence.referenceDelegate.removeReference(g,m.targetId,p)))))}catch(g){if(!za(g))throw g;q(wm,"Failed to update sequence numbers: "+g)}for(const g of c){const m=g.targetId;if(!g.fromCache){const p=f.vs.get(m),C=p.snapshotVersion,N=p.withLastLimboFreeSnapshotVersion(C);f.vs=f.vs.insert(m,N)}}}(i.localStore,a))}async function ND(e,t){const n=J(e);if(!n.currentUser.isEqual(t)){q(Mm,"User change. New user:",t.toKey());const i=await uT(n.localStore,t);n.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(u=>{u.reject(new F(k.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Cl(n,i.Ns)}}function VD(e,t){const n=J(e),i=n.Au.get(t);if(i&&i.hu)return at().add(i.key);{let r=at();const a=n.Iu.get(t);if(!a)return r;for(const s of a){const o=n.Tu.get(s);r=r.unionWith(o.view.nu)}return r}}function DT(e){const t=J(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xD.bind(null,t),t.Pu.J_=mD.bind(null,t.eventManager),t.Pu.yu=gD.bind(null,t.eventManager),t}function ID(e){const t=J(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CD.bind(null,t),t}class Au{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ic(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return L4(this.persistence,new I4,t.initialUser,this.serializer)}Cu(t){return new oT(Sm.Vi,this.serializer)}Du(t){return new H4}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Au.provider={build:()=>new Au};class MD extends Au{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){dt(this.persistence.referenceDelegate instanceof bu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new y4(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ae.withCacheSize(this.cacheSizeBytes):Ae.DEFAULT;return new oT(i=>bu.Vi(i,n),this.serializer)}}class $f{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>y0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await hD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new dD}()}createDatastore(t){const n=ic(t.databaseInfo.databaseId),i=Y4(t.databaseInfo);return J4(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,a,s,o){return new tD(i,r,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,n=>y0(this.syncEngine,n,0),function(){return h0.v()?new h0:new q4}())}createSyncEngine(t,n){return function(r,a,s,o,u,c,f){const g=new _D(r,a,s,o,u,c);return f&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const a=J(r);q(pr,"RemoteStore shutting down."),a.Ea.add(5),await Rl(a),a.Aa.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}$f.provider={build:()=>new $f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class OD{constructor(t,n,i,r,a){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=r,this.user=fe.UNAUTHENTICATED,this.clientId=cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async s=>{q(zi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(i,s=>(q(zi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Vm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Rh(e,t){e.asyncQueue.verifyOperationInProgress(),q(zi,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await uT(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await LD(e);q(zi,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>d0(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>d0(t.remoteStore,r)),e._onlineComponents=t}async function LD(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q(zi,"Using user provided OfflineComponentProvider");try{await Rh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===k.FAILED_PRECONDITION||r.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ea("Error using user provided cache. Falling back to memory cache: "+n),await Rh(e,new Au)}}else q(zi,"Using default OfflineComponentProvider"),await Rh(e,new MD(void 0));return e._offlineComponents}async function VT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q(zi,"Using user provided OnlineComponentProvider"),await _0(e,e._uninitializedComponentsProvider._online)):(q(zi,"Using default OnlineComponentProvider"),await _0(e,new $f))),e._onlineComponents}function UD(e){return VT(e).then(t=>t.syncEngine)}async function Zf(e){const t=await VT(e),n=t.eventManager;return n.onListen=ED.bind(null,t.syncEngine),n.onUnlisten=SD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=TD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=AD.bind(null,t.syncEngine),n}function jD(e,t,n,i){const r=new NT(i),a=new TT(t,r,n);return e.asyncQueue.enqueueAndForget(async()=>_T(await Zf(e),a)),()=>{r.Nu(),e.asyncQueue.enqueueAndForget(async()=>ET(await Zf(e),a))}}function zD(e,t,n={}){const i=new Ri;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,u,c){const f=new NT({next:m=>{f.Nu(),s.enqueueAndForget(()=>ET(a,g));const p=m.docs.has(o);!p&&m.fromCache?c.reject(new F(k.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&u&&u.source==="server"?c.reject(new F(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),g=new TT(Zu(o.path),f,{includeMetadataChanges:!0,Ka:!0});return _T(a,g)}(await Zf(e),e.asyncQueue,t,n,i)),i.promise}function kD(e,t){const n=new Ri;return e.asyncQueue.enqueueAndForget(async()=>wD(await UD(e),t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="ComponentProvider",E0=new Map;function PD(e,t,n,i,r){return new lC(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,IT(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="firestore.googleapis.com",T0=!0;class b0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new F(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MT,this.ssl=T0}else this.host=t.host,this.ssl=t.ssl??T0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<g4)throw new F(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$R("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sc{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new F(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new BR;switch(i.type){case"firstParty":return new FR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new F(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=E0.get(n);i&&(q(BD,"Removing Datastore"),E0.delete(n),i.terminate())}(this),Promise.resolve()}}function HD(e,t,n,i={}){var c;e=nn(e,sc);const r=lm(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;r&&(fx(`https://${o}`),px("Firestore",!0)),a.host!==MT&&a.host!==o&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:o,ssl:r,emulatorOptions:i};if(!hu(u,s)&&(e._setSettings(u),i.mockUserToken)){let f,g;if(typeof i.mockUserToken=="string")f=i.mockUserToken,g=fe.MOCK_USER;else{f=dx(i.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new F(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new fe(m)}e._authCredentials=new PR(new _1(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new lc(this.firestore,t,this._query)}}class jt{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new jt(this.firestore,t,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Al(n,jt._jsonSchema))return new jt(t,i||null,new Q(wt.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Ft("string",jt._jsonSchemaVersion),referencePath:Ft("string")};class Ci extends lc{constructor(t,n,i){super(t,n,Zu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new jt(this.firestore,null,new Q(t))}withConverter(t){return new Ci(this.firestore,t,this._path)}}function S0(e,t,...n){if(e=Fn(e),E1("collection","path",t),e instanceof sc){const i=wt.fromString(t,...n);return Uy(i),new Ci(e,null,i)}{if(!(e instanceof jt||e instanceof Ci))throw new F(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(wt.fromString(t,...n));return Uy(i),new Ci(e.firestore,null,i)}}function nr(e,t,...n){if(e=Fn(e),arguments.length===1&&(t=cm.newId()),E1("doc","path",t),e instanceof sc){const i=wt.fromString(t,...n);return Ly(i),new jt(e,null,new Q(i))}{if(!(e instanceof jt||e instanceof Ci))throw new F(k.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(wt.fromString(t,...n));return Ly(i),new jt(e.firestore,e instanceof Ci?e.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="AsyncQueue";class w0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hT(this,"async_queue_retry"),this._c=()=>{const i=xh();i&&q(A0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=xh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=xh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ri;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!za(t))throw t;q(A0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Qn("INTERNAL UNHANDLED ERROR: ",x0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=Nm.createAndSchedule(this,t,n,i,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&Y(47125,{Pc:x0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function x0(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class yr extends sc{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new w0,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new w0(t),this._firestoreClient=void 0,await t}}}function qD(e,t){const n=typeof e=="object"?e:xR(),i=typeof e=="string"?e:gu,r=TR(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=cx("firestore");a&&HD(r,...a)}return r}function Lm(e){if(e._terminated)throw new F(k.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||FD(e),e._firestoreClient}function FD(e){var i,r,a,s;const t=e._freezeSettings(),n=PD(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,(r=e._app)==null?void 0:r.options.apiKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new OD(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xe(ue.fromBase64String(t))}catch(n){throw new F(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Xe(ue.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xe._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Al(t,Xe._jsonSchema))return Xe.fromBase64String(t.bytes)}}Xe._jsonSchemaVersion="firestore/bytes/1.0",Xe._jsonSchema={type:Ft("string",Xe._jsonSchemaVersion),bytes:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return rt(this._lat,t._lat)||rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yn._jsonSchemaVersion}}static fromJSON(t){if(Al(t,yn._jsonSchema))return new yn(t.latitude,t.longitude)}}yn._jsonSchemaVersion="firestore/geoPoint/1.0",yn._jsonSchema={type:Ft("string",yn._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:an._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Al(t,an._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new an(t.vectorValues);throw new F(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}an._jsonSchemaVersion="firestore/vectorValue/1.0",an._jsonSchema={type:Ft("string",an._jsonSchemaVersion),vectorValues:Ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^__.*__$/;class QD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Hi(t,this.data,this.fieldMask,n,this.fieldTransforms):new wl(t,this.data,n,this.fieldTransforms)}}class OT{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Hi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function LT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{dataSource:e})}}class zm{constructor(t,n,i,r,a,s){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return wu(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(LT(this.dataSource)&&GD.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class YD{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||ic(t)}createContext(t,n,i,r=!1){return new zm({dataSource:t,methodName:n,targetDoc:i,path:se.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(e){const t=e._freezeSettings(),n=ic(e._databaseId);return new YD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function KD(e,t,n,i,r,a={}){const s=e.createContext(a.merge||a.mergeFields?2:0,t,n,r);km("Data must be an object, but it was:",s,i);const o=jT(i,s);let u,c;if(a.merge)u=new Oe(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const g of a.mergeFields){const m=ol(t,g,n);if(!s.contains(m))throw new F(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);BT(f,m)||f.push(m)}u=new Oe(f),c=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,c=s.fieldTransforms;return new QD(new we(o),u,c)}class oc extends jm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof oc}}function XD(e,t,n,i){const r=e.createContext(1,t,n);km("Data must be an object, but it was:",r,i);const a=[],s=we.empty();Pi(i,(u,c)=>{const f=kT(t,u,n);c=Fn(c);const g=r.childContextForFieldPath(f);if(c instanceof oc)a.push(f);else{const m=uc(c,g);m!=null&&(a.push(f),s.set(f,m))}});const o=new Oe(a);return new OT(s,o,r.fieldTransforms)}function $D(e,t,n,i,r,a){const s=e.createContext(1,t,n),o=[ol(t,i,n)],u=[r];if(a.length%2!=0)throw new F(k.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<a.length;m+=2)o.push(ol(t,a[m])),u.push(a[m+1]);const c=[],f=we.empty();for(let m=o.length-1;m>=0;--m)if(!BT(c,o[m])){const p=o[m];let C=u[m];C=Fn(C);const N=s.childContextForFieldPath(p);if(C instanceof oc)c.push(p);else{const D=uc(C,N);D!=null&&(c.push(p),f.set(p,D))}}const g=new Oe(c);return new OT(f,g,s.fieldTransforms)}function uc(e,t){if(zT(e=Fn(e)))return km("Unsupported field value:",t,e),jT(e,t);if(e instanceof jm)return function(i,r){if(!LT(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return function(i,r){const a=[];let s=0;for(const o of i){let u=uc(o,r.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(e,t)}return function(i,r){if((i=Fn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return MC(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=xt.fromDate(i);return{timestampValue:Tu(r.serializer,a)}}if(i instanceof xt){const a=new xt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tu(r.serializer,a)}}if(i instanceof yn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xe)return{bytesValue:W1(r.serializer,i._byteString)};if(i instanceof jt){const a=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(a))throw r.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Tm(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof an)return function(s,o){const u=s instanceof an?s.toArray():s;return{mapValue:{fields:{[D1]:{stringValue:N1},[pu]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw o.createError("VectorValues must only contain numeric values.");return ym(o.serializer,f)})}}}}}}(i,r);if(sT(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${hm(i)}`)}(e,t)}function jT(e,t){const n={};return S1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pi(e,(i,r)=>{const a=uc(r,t.childContextForField(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function zT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof xt||e instanceof yn||e instanceof Xe||e instanceof jt||e instanceof jm||e instanceof an||sT(e))}function km(e,t,n){if(!zT(n)||!T1(n)){const i=hm(n);throw i==="an object"?t.createError(e+" a custom object"):t.createError(e+" "+i)}}function ol(e,t,n){if((t=Fn(t))instanceof Um)return t._internalPath;if(typeof t=="string")return kT(e,t);throw wu("Field path arguments must be of type string or ",e,!1,void 0,n)}const ZD=new RegExp("[~\\*/\\[\\]]");function kT(e,t,n){if(t.search(ZD)>=0)throw wu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Um(...t.split("."))._internalPath}catch{throw wu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function wu(e,t,n,i,r){const a=i&&!i.isEmpty(),s=r!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${i}`),s&&(u+=` in document ${r}`),u+=")"),new F(k.INVALID_ARGUMENT,o+e+u)}function BT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{convertValue(t,n="none"){switch(Ui(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Lt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Li(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Y(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Pi(t,(r,a)=>{i[r]=this.convertValue(a,n)}),i}convertVectorValue(t){var i,r,a;const n=(a=(r=(i=t.fields)==null?void 0:i[pu].arrayValue)==null?void 0:r.values)==null?void 0:a.map(s=>Lt(s.doubleValue));return new an(n)}convertGeoPoint(t){return new yn(Lt(t.latitude),Lt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Xu(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(il(t));default:return null}}convertTimestamp(t){const n=Oi(t);return new xt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=wt.fromString(t);dt(aT(i),9688,{name:t});const r=new rl(i.get(1),i.get(3)),a=new Q(i.popFirst(5));return r.isEqual(n)||Qn(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends JD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xe(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new jt(this.firestore,null,n)}}const R0="@firebase/firestore",C0="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const a of i)if(a in r&&typeof r[a]=="function")return!0;return!1}(e,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,n,i,r,a){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(ol("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WD extends HT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function eN(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class _s{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ur extends HT{constructor(t,n,i,r,a,s){super(t,n,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(ol("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new F(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ur._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",ur._jsonSchema={type:Ft("string",ur._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Mo extends ur{data(t={}){return super.data(t)}}class oa{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new _s(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Mo(this._firestore,this._userDataWriter,i.key,i,new _s(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const u=new Mo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new _s(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const u=new Mo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new _s(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),f=s.indexOf(o.doc.key)),{type:nN(o.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new F(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Ft("string",oa._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e){e=nn(e,jt);const t=nn(e.firestore,yr),n=Lm(t);return zD(n,e._key).then(i=>FT(t,e,i))}function Ch(e,t,n){e=nn(e,jt);const i=nn(e.firestore,yr),r=eN(e.converter,t),a=UT(i);return Bm(i,[KD(a,"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,rn.none())])}function qT(e,t,n,...i){e=nn(e,jt);const r=nn(e.firestore,yr),a=UT(r);let s;return s=typeof(t=Fn(t))=="string"||t instanceof Um?$D(a,"updateDoc",e._key,t,n,i):XD(a,"updateDoc",e._key,t),Bm(r,[s.toMutation(e._key,rn.exists(!0))])}function N0(e){return Bm(nn(e.firestore,yr),[new vm(e._key,rn.none())])}function V0(e,...t){var c,f,g;e=Fn(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||D0(t[i])||(n=t[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(D0(t[i])){const m=t[i];t[i]=(c=m.next)==null?void 0:c.bind(m),t[i+1]=(f=m.error)==null?void 0:f.bind(m),t[i+2]=(g=m.complete)==null?void 0:g.bind(m)}let a,s,o;if(e instanceof jt)s=nn(e.firestore,yr),o=Zu(e._key.path),a={next:m=>{t[i]&&t[i](FT(s,e,m))},error:t[i+1],complete:t[i+2]};else{const m=nn(e,lc);s=nn(m.firestore,yr),o=m._query;const p=new PT(s);a={next:C=>{t[i]&&t[i](new oa(s,p,m,C))},error:t[i+1],complete:t[i+2]},tN(e._query)}const u=Lm(s);return jD(u,o,r,a)}function Bm(e,t){const n=Lm(e);return kD(n,t)}function FT(e,t,n){const i=n.docs.get(t._key),r=new PT(e);return new ur(e,r,t._key,i,new _s(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){kR(wR),du(new tl("firestore",(i,{instanceIdentifier:r,options:a})=>{const s=i.getProvider("app").getImmediate(),o=new yr(new HR(i.getProvider("auth-internal")),new GR(s,i.getProvider("app-check-internal")),oC(s,r),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),aa(R0,C0,t),aa(R0,C0,"esm2020")})();const rN={apiKey:"AIzaSyB7oHTGIM61ZIuRqi9fWMqzAzNpgZESlQg",authDomain:"calendar-scheduler-beae1.firebaseapp.com",projectId:"calendar-scheduler-beae1",storageBucket:"calendar-scheduler-beae1.firebasestorage.app",messagingSenderId:"517635746650",appId:"1:517635746650:web:9f6fe403c3b093371f2163"},aN=u1(rN),Dn=qD(aN),K=Ww((e,t)=>({users:[],currentUser:"",bookings:{},view:"month",currentDate:new Date,isSidebarOpen:!0,isTutorialOpen:!1,toast:null,setToast:n=>e({toast:n}),setView:n=>e({view:n}),setSidebarOpen:n=>e({isSidebarOpen:n}),setTutorialOpen:n=>e({isTutorialOpen:n}),setCurrentUser:n=>e({currentUser:n}),setCurrentDate:n=>e(i=>({currentDate:typeof n=="function"?n(i.currentDate):n})),navigateDate:n=>{const{currentDate:i,view:r}=t(),a=new Date(i);r==="month"?a.setMonth(a.getMonth()+n,1):r==="week"?a.setDate(a.getDate()+n*7):r==="3day"&&a.setDate(a.getDate()+n*3),e({currentDate:a})},setUsers:n=>e({users:n}),setBookings:n=>e({bookings:n}),addUser:async(n,i)=>{const r="u"+Date.now().toString().slice(-6),a={...i,id:r};try{await Ch(nr(Dn,"events",n,"users",r),a),e({currentUser:r})}catch(s){console.error("Error adding user: ",s),t().setToast({message:"Error adding user.",type:"error"})}},updateUser:async(n,i,r)=>{try{await qT(nr(Dn,"events",n,"users",i),{color:r})}catch(a){console.error("Error updating user: ",a)}},deleteUser:async(n,i)=>{const{users:r,currentUser:a}=t();if(r.length<=1){t().setToast({message:"Cannot delete the last user.",type:"error"});return}try{if(await N0(nr(Dn,"events",n,"users",i)),a===i){const s=r.find(o=>o.id!==i);s&&e({currentUser:s.id})}}catch(s){console.error("Error deleting user: ",s),t().setToast({message:"Error deleting user.",type:"error"})}},toggleBooking:async(n,i)=>{const{currentUser:r,bookings:a}=t();if(!r){t().setToast({message:"Please add a user first to start scheduling.",type:"info"});return}const s=a[i]||[];let u=s.includes(r)?s.filter(c=>c!==r):[...s,r];try{u.length===0?await N0(nr(Dn,"events",n,"bookings",i)):await Ch(nr(Dn,"events",n,"bookings",i),{userIds:u})}catch(c){console.error("Error updating booking: ",c)}},createEvent:async n=>{const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r=new Uint32Array(6);window.crypto.getRandomValues(r);let a="";for(let o=0;o<6;o++)a+=i.charAt(r[o]%i.length);const s=a;try{return await Ch(nr(Dn,"events",s),{name:n.trim(),createdAt:new Date().toISOString(),lastAccessedAt:new Date().toISOString(),version:"1.5.1"}),s}catch(o){throw console.error("Error creating event:",o),t().setToast({message:"Failed to create event.",type:"error"}),o}}}));function sN(){const e=tm(),[t,n]=M.useState(""),[i,r]=M.useState(!1),a=K(c=>c.toast),s=K(c=>c.setToast),o=K(c=>c.createEvent),u=async c=>{if(c.preventDefault(),!!t.trim()){r(!0);try{const f=await o(t);e(`/${f}`)}catch{}finally{r(!1)}}};return S.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:[a&&S.jsx(e1,{message:a.message,type:a.type,onClose:()=>s(null)}),S.jsxs("div",{className:"max-w-md w-full text-center space-y-8 bg-white p-10 rounded-2xl shadow-xl border border-gray-100 transition-all hover:shadow-2xl relative",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("h1",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:"Scheduler"}),S.jsx("p",{className:"text-gray-500 font-medium",children:"Create a private schedule and invite others to help coordinate."})]}),S.jsxs("form",{onSubmit:u,className:"space-y-4",children:[S.jsxs("div",{className:"relative group",children:[S.jsx("input",{type:"text",value:t,onChange:c=>n(c.target.value),placeholder:"What's this event for?",className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-100 rounded-xl focus:bg-white focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all outline-none text-center font-bold text-gray-700 placeholder:text-gray-300 placeholder:font-medium",required:!0}),S.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-transparent group-focus-within:border-indigo-500/20 pointer-events-none transition-all"})]}),S.jsx("button",{type:"submit",disabled:!t.trim()||i,className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-lg font-bold rounded-xl text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-indigo-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:i?S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),S.jsx("span",{children:"Generating..."})]}):S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("svg",{className:"h-5 w-5 text-indigo-300 group-hover:text-indigo-200 transition-colors",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),S.jsx("span",{children:"Create My Event"})]})})]}),S.jsxs("div",{className:"flex flex-col items-center gap-3 pt-4",children:[S.jsx("div",{className:"text-xs text-gray-400 font-medium",children:"No sign-up required. Just create and share the link."}),S.jsx("span",{className:"px-2 py-0.5 rounded-md bg-gray-50 text-[10px] font-bold text-gray-300 border border-gray-100",children:"v1.5.1"})]})]})]})}const lN=e=>{let t=0,n=0,i=0;e.length===4?(t="0x"+e[1]+e[1],n="0x"+e[2]+e[2],i="0x"+e[3]+e[3]):e.length===7&&(t="0x"+e[1]+e[2],n="0x"+e[3]+e[4],i="0x"+e[5]+e[6]),t/=255,n/=255,i/=255;let r=Math.min(t,n,i),a=Math.max(t,n,i),s=a-r,o=0,u=0,c=0;return s===0?o=0:a===t?o=(n-i)/s%6:a===n?o=(i-t)/s+2:o=(t-n)/s+4,o=Math.round(o*60),o<0&&(o+=360),c=(a+r)/2,u=s===0?0:s/(1-Math.abs(2*c-1)),u=+(u*100).toFixed(1),c=+(c*100).toFixed(1),{h:o,s:u,l:c}},Dh=(e,t,n)=>{t/=100,n/=100;let i=(1-Math.abs(2*n-1))*t,r=i*(1-Math.abs(e/60%2-1)),a=n-i/2,s=0,o=0,u=0;return 0<=e&&e<60?(s=i,o=r,u=0):60<=e&&e<120?(s=r,o=i,u=0):120<=e&&e<180?(s=0,o=i,u=r):180<=e&&e<240?(s=0,o=r,u=i):240<=e&&e<300?(s=r,o=0,u=i):300<=e&&e<360&&(s=i,o=0,u=r),s=Math.round((s+a)*255).toString(16),o=Math.round((o+a)*255).toString(16),u=Math.round((u+a)*255).toString(16),s.length===1&&(s="0"+s),o.length===1&&(o="0"+o),u.length===1&&(u="0"+u),"#"+s+o+u},oN=["#EF4444","#F97316","#EAB308","#22C55E","#3B82F6","#6366F1","#A855F7","#EC4899"];function GT({color:e,onChange:t,id:n}){const[i,r]=M.useState(!1),[a,s]=M.useState({h:0,s:100,l:50}),[o,u]=M.useState(e),c=M.useRef(null);M.useEffect(()=>{s(lN(e)),u(e)},[e]),M.useEffect(()=>{const m=p=>{c.current&&!c.current.contains(p.target)&&r(!1)};return i&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[i]);const f=(m,p)=>{const C={...a,[m]:Number(p)};s(C),t(Dh(C.h,C.s,C.l))},g=m=>{t(m)};return S.jsxs("div",{className:"relative",ref:c,children:[S.jsx("button",{id:n,type:"button",onClick:()=>r(!i),className:"w-10 h-10 rounded-lg border border-gray-200 shadow-sm cursor-pointer hover:scale-105 transition-transform",style:{backgroundColor:e},"aria-label":"Pick color"}),i&&S.jsxs("div",{className:"absolute z-50 mt-2 p-4 bg-white rounded-xl shadow-xl border border-gray-100 w-64 animate-in fade-in zoom-in-95 duration-200",style:{left:"0",top:"100%"},children:[S.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:oN.map(m=>S.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border border-gray-100 hover:scale-110 transition-transform ${e.toLowerCase()===m.toLowerCase()?"ring-2 ring-offset-2 ring-gray-400":""}`,style:{backgroundColor:m},onClick:()=>g(m)},m))}),S.jsx("hr",{className:"border-gray-100 my-4"}),S.jsxs("div",{className:"mb-4",children:[S.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Hex Code"}),S.jsx("div",{className:"relative",children:S.jsx("input",{type:"text",value:o.toUpperCase(),onChange:m=>{const p=m.target.value.startsWith("#")?m.target.value:`#${m.target.value}`;/^#?[0-9A-Fa-f]{0,6}$/.test(p)&&(u(p),(p.length===4||p.length===7)&&t(p))},onBlur:()=>{o.length!==4&&o.length!==7&&u(e)},className:"w-full px-2 py-1 text-sm bg-gray-50 border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500 font-mono",placeholder:"#000000"})})]}),S.jsx("hr",{className:"border-gray-100 my-4"}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[S.jsx("span",{children:"Hue"}),S.jsxs("span",{children:[a.h,""]})]}),S.jsx("input",{type:"range",min:"0",max:"360",value:a.h,onChange:m=>f("h",m.target.value),className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:"linear-gradient(to right, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%)"}})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[S.jsx("span",{children:"Saturation"}),S.jsxs("span",{children:[a.s,"%"]})]}),S.jsx("input",{type:"range",min:"0",max:"100",value:a.s,onChange:m=>f("s",m.target.value),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-gray-200",style:{background:`linear-gradient(to right, #808080, ${Dh(a.h,100,50)})`}})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[S.jsx("span",{children:"Lightness"}),S.jsxs("span",{children:[a.l,"%"]})]}),S.jsx("input",{type:"range",min:"0",max:"100",value:a.l,onChange:m=>f("l",m.target.value),className:"w-full h-2 rounded-lg appearance-none cursor-pointer bg-gray-200",style:{background:`linear-gradient(to right, #000000, ${Dh(a.h,a.s,50)}, #ffffff)`}})]})]})]})]})}function uN(){return K(e=>e.users),K(e=>e.currentUser),K(e=>e.addUser),K(e=>e.setCurrentUser),K(e=>e.updateUser),K(e=>e.deleteUser),S.jsx(cN,{})}function cN(){var C,N,D;const{eventCode:e}=em(),t=K(E=>E.users),n=K(E=>E.currentUser),i=K(E=>E.addUser),r=K(E=>E.setCurrentUser),a=K(E=>E.updateUser),s=K(E=>E.deleteUser),[o,u]=M.useState(""),[c,f]=M.useState("#6366f1"),g=E=>{E.preventDefault(),o.trim()&&(i(e,{name:o,color:c}),u(""))},m=(E,T)=>{a(e,E,T)},p=E=>{s(e,E)};return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[S.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Active User"}),S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-lg shadow-inner",style:{backgroundColor:(C=t.find(E=>E.id===n))==null?void 0:C.color},children:(N=t.find(E=>E.id===n))==null?void 0:N.name[0].toUpperCase()}),S.jsxs("div",{children:[S.jsx("div",{className:"font-semibold text-gray-800",children:(D=t.find(E=>E.id===n))==null?void 0:D.name}),S.jsx("div",{className:"text-xs text-gray-400",children:"Ready to book"})]})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Switch User"}),S.jsx(hN,{users:t,currentUser:n,onSelect:r,onUpdateUser:m,onDeleteUser:p})]}),S.jsxs("form",{onSubmit:g,className:"pt-4 border-t border-gray-100",children:[S.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider block mb-2",children:"Create Profile"}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("div",{children:S.jsx("input",{id:"user-name-input",type:"text",value:o,onChange:E=>u(E.target.value),placeholder:"Enter name...",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all placeholder-gray-400"})}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsx(GT,{id:"user-color-input",color:c,onChange:f}),S.jsx("button",{id:"add-user-submit-button",type:"submit",disabled:!o.trim(),className:"flex-1 bg-gray-900 text-white text-sm font-medium rounded-lg hover:bg-black transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add User"})]})]})]})]})}function hN({users:e,currentUser:t,onSelect:n,onUpdateUser:i,onDeleteUser:r}){var V;const[a,s]=M.useState(!1),[o,u]=M.useState(null),[c,f]=M.useState(null),[g,m]=M.useState(""),p=M.useRef(null),C=M.useRef(null),N=e.find(L=>L.id===t)||e[0],D=e.filter(L=>L.name.toLowerCase().includes(g.toLowerCase())),E=(L,P)=>{L.preventDefault();const y=L.clientX||L.touches&&L.touches[0].clientX||0,_=L.clientY||L.touches&&L.touches[0].clientY||0;u({x:y,y:_,userId:P})},T=(L,P)=>{const y=L.touches[0],_=setTimeout(()=>{E({preventDefault:()=>{},clientX:y.clientX,clientY:y.clientY},P)},800);f(_)},A=()=>{c&&(clearTimeout(c),f(null))};return M.useEffect(()=>{a&&p.current&&p.current.focus()},[a]),M.useEffect(()=>{const L=P=>{C.current&&!C.current.contains(P.target)&&u(null)};return window.addEventListener("click",L),()=>window.removeEventListener("click",L)},[]),S.jsxs("div",{className:"relative",children:[S.jsxs("button",{type:"button",onClick:()=>s(!a),className:"w-full bg-white border border-gray-200 text-gray-700 py-2 px-3 rounded-lg flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:N==null?void 0:N.color}}),S.jsx("span",{className:"text-sm",children:N==null?void 0:N.name})]}),S.jsx("svg",{className:`fill-current h-4 w-4 text-gray-400 transform transition-transform ${a?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:S.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})]}),a&&S.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-100 rounded-lg shadow-xl max-h-60 overflow-hidden flex flex-col",children:[S.jsx("div",{className:"p-2 border-b border-gray-100",children:S.jsx("input",{ref:p,type:"text",placeholder:"Search users...",value:g,onChange:L=>m(L.target.value),className:"w-full px-2 py-1 text-sm bg-gray-50 border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500",onClick:L=>L.stopPropagation()})}),S.jsx("div",{className:"overflow-y-auto flex-1",children:D.length>0?D.map(L=>S.jsxs("div",{onClick:()=>{n(L.id),s(!1),m("")},onContextMenu:P=>E(P,L.id),onTouchStart:P=>T(P,L.id),onTouchEnd:A,onTouchMove:A,className:`w-full flex items-center space-x-2 px-4 py-2 text-sm hover:bg-gray-50 text-left cursor-pointer group relative ${t===L.id?"bg-indigo-50 text-indigo-900 font-medium":"text-gray-700"}`,children:[S.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-300",style:{backgroundColor:L.color}}),S.jsx("span",{className:"flex-1",children:L.name}),S.jsx("span",{className:"text-xs text-gray-300 opacity-0 group-hover:opacity-100 hidden md:inline",children:"Right-click edit"})]},L.id)):S.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 text-center italic",children:"No users found"})})]}),a&&S.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>s(!1)}),o&&S.jsxs("div",{ref:C,className:"fixed z-50 bg-white border border-gray-200 shadow-xl rounded-lg py-1 w-48 flex flex-col",style:{top:o.y,left:o.x},onClick:L=>L.stopPropagation(),children:[S.jsx("div",{className:"px-3 py-2 border-b border-gray-100 text-xs text-gray-400 font-bold uppercase tracking-wider",children:"Options"}),S.jsxs("div",{className:"flex items-center px-3 py-2 hover:bg-gray-50 text-sm text-gray-700 justify-between group",children:[S.jsx("span",{children:"Color"}),S.jsx("div",{onClick:L=>L.stopPropagation(),children:S.jsx(GT,{color:((V=e.find(L=>L.id===o.userId))==null?void 0:V.color)||"#000000",onChange:L=>{i(o.userId,L)}})})]}),S.jsx("button",{className:"text-left px-3 py-2 hover:bg-red-50 text-red-600 text-sm w-full",onClick:()=>{r(o.userId),u(null)},children:"Delete User"})]})]})}function fN({filterUserIds:e}){const t=K(f=>f.bookings),n=K(f=>f.users),[i,r]=M.useState(0),a=M.useMemo(()=>{const f={},g=new Set(n.map(D=>D.id));Object.entries(t).forEach(([D,E])=>{const T=E.filter(A=>g.has(A));T.length>0&&(f[D]=new Set(T))});let m=Object.keys(f);if(e&&e.length>0&&(m=m.filter(D=>{const E=f[D];return e.every(T=>E.has(T))})),m.length===0)return null;let p=0;return m.forEach(D=>{const E=f[D].size;E>p&&(p=E)}),p===0?null:m.filter(D=>f[D].size===p).sort().map(D=>{const[E,T,A]=D.split("-").map(Number),V=new Date(E,T-1,A),L=f[D],P=n.filter(y=>!L.has(y.id));return{dateObj:V,dateStr:D,count:p,missing:P,total:L.size}})},[t,n,e]);if(M.useEffect(()=>{r(0)},[a]),!a||a.length===0)return S.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No data available for current selection."});const s=a[i],o=s.dateObj.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"}),u=()=>{r(f=>(f-1+a.length)%a.length)},c=()=>{r(f=>(f+1)%a.length)};return S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"bg-indigo-50 p-4 rounded-xl border border-indigo-100 relative",children:[S.jsxs("div",{className:"flex items-center justify-between mb-1",children:[S.jsx("div",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider",children:"Best Date"}),a.length>1&&S.jsxs("div",{className:"text-[10px] font-bold text-indigo-300 bg-white px-2 py-0.5 rounded-full",children:[i+1," / ",a.length]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[a.length>1&&S.jsx("button",{onClick:u,className:"p-1 hover:bg-white/50 rounded-full text-indigo-400 transition-colors",children:S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),S.jsxs("div",{className:"text-center flex-1",children:[S.jsx("div",{className:"text-xl font-bold text-indigo-900",children:o}),S.jsxs("div",{className:"text-sm text-indigo-600 font-medium mt-1",children:[s.count," ",s.count===1?"person":"people"," available"]})]}),a.length>1&&S.jsx("button",{onClick:c,className:"p-1 hover:bg-white/50 rounded-full text-indigo-400 transition-colors",children:S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),s.missing.length>0?S.jsxs("div",{children:[S.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"Who's Missing"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:s.missing.map(f=>S.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-red-50 text-red-700 rounded-md text-xs font-medium border border-red-100",children:[S.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:f.color}}),S.jsx("span",{children:f.name})]},f.id))})]}):S.jsxs("div",{className:"flex items-center space-x-2 text-green-600 text-sm font-medium bg-green-50 p-3 rounded-lg border border-green-100",children:[S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),S.jsx("span",{children:"Everyone is available!"})]})]})}function dN({users:e,selectedUserIds:t,onChange:n}){const[i,r]=M.useState(!1),a=M.useRef(null);M.useEffect(()=>{const o=u=>{a.current&&!a.current.contains(u.target)&&r(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]);const s=o=>{const u=t.includes(o)?t.filter(c=>c!==o):[...t,o];n(u)};return S.jsxs("div",{className:"relative",ref:a,children:[S.jsxs("button",{onClick:()=>r(!i),className:"w-full bg-white border border-gray-200 text-gray-700 py-2 px-3 rounded-lg flex items-center justify-between focus:outline-none focus:ring-2 focus:ring-indigo-500 text-xs font-medium",children:[S.jsx("div",{className:"flex items-center gap-1 truncate",children:t.length===0?S.jsx("span",{className:"text-gray-400",children:"No filter (Everyone)"}):S.jsx("div",{className:"flex -space-x-1",children:t.map(o=>{const u=e.find(c=>c.id===o);return u?S.jsx("div",{className:"w-4 h-4 rounded-full border border-white",style:{backgroundColor:u.color},title:u.name},o):null})})}),S.jsx("svg",{className:`fill-current h-3 w-3 text-gray-400 transform transition-transform ${i?"rotate-180":""}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:S.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})]}),i&&S.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-100 rounded-lg shadow-xl max-h-60 overflow-auto",children:[S.jsx("div",{className:"px-3 py-2 text-[10px] uppercase font-bold text-gray-400 tracking-wider bg-gray-50 border-b border-gray-50",children:"Require Attendance"}),e.map(o=>{const u=t.includes(o.id);return S.jsxs("div",{onClick:()=>s(o.id),className:`flex items-center justify-between px-3 py-2 cursor-pointer hover:bg-indigo-50 transition-colors ${u?"bg-indigo-50/50":""}`,children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o.color}}),S.jsx("span",{className:`text-sm ${u?"font-semibold text-indigo-900":"text-gray-600"}`,children:o.name})]}),u&&S.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]},o.id)}),t.length>0&&S.jsx("div",{onClick:()=>{n([]),r(!1)},className:"text-center text-xs text-red-500 py-2 border-t border-gray-100 font-medium cursor-pointer hover:bg-red-50",children:"Clear Filter"})]})]})}function mN({eventData:e,eventCode:t,handleCopyLink:n}){const i=K(c=>c.users);K(c=>c.currentUser),K(c=>c.bookings);const r=K(c=>c.isSidebarOpen),a=K(c=>c.setSidebarOpen),s=K(c=>c.setTutorialOpen);K(c=>c.addUser),K(c=>c.updateUser),K(c=>c.deleteUser),K(c=>c.setCurrentUser);const[o,u]=M.useState([]);return S.jsxs("aside",{className:`
            fixed inset-y-0 left-0 z-50 w-80 bg-white shadow-xl flex flex-col p-6 border-r border-gray-100 transition-transform duration-300 ease-in-out
            md:relative md:translate-x-0
            ${r?"translate-x-0":"-translate-x-full"}
        `,children:[S.jsxs("div",{id:"sidebar-header",className:"flex items-center justify-between mb-8",children:[S.jsxs("div",{className:"flex flex-col min-w-0",children:[S.jsx("div",{className:"flex items-center gap-2",children:S.jsx("h1",{className:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600 truncate",children:(e==null?void 0:e.name)||"Scheduler"})}),S.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[S.jsx("span",{className:"text-[10px] font-mono font-bold text-gray-400 bg-gray-50 px-2 py-0.5 rounded border border-gray-100 uppercase tracking-tighter",children:t}),S.jsxs("button",{id:"copy-link-button",onClick:n,className:"flex items-center gap-1.5 text-[11px] font-bold text-indigo-500 hover:text-indigo-600 transition-colors px-2 py-1 rounded-md bg-indigo-50/50 border border-indigo-100/50",children:[S.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),S.jsx("span",{children:"Copy Link"})]})]})]}),S.jsx("button",{onClick:()=>a(!1),className:"md:hidden p-1 text-gray-400 hover:text-gray-600",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar -mx-6 px-6 min-h-0",children:[S.jsx("div",{className:"mb-6",children:S.jsxs("button",{id:"tutorial-button",onClick:()=>s(!0),className:"w-full flex items-center justify-center gap-2 py-2.5 px-4 bg-indigo-50 text-indigo-600 font-bold rounded-xl hover:bg-indigo-100 transition-all border border-indigo-100 group shadow-sm mb-2",children:[S.jsx("svg",{className:"w-4 h-4 text-indigo-400 group-hover:text-indigo-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),S.jsx("span",{className:"text-sm",children:"How do I use this?"})]})}),S.jsx("div",{id:"user-section",className:"mb-8",children:S.jsx(uN,{})}),S.jsxs("div",{id:"summary-section",className:"mb-4",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("h2",{className:"text-xs uppercase tracking-wider text-gray-400 font-bold",children:"Summary"}),S.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-100 px-1.5 py-0.5 rounded",children:"Filter"})]}),S.jsx("div",{className:"mb-4",children:S.jsx(dN,{users:i,selectedUserIds:o,onChange:u})}),S.jsx(fN,{filterUserIds:o})]})]})]})}const QT=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${i}`};function gN({currentDate:e,bookings:t,bookingsMap:n,onDateClick:i,users:r}){const a=M.useMemo(()=>{const o=e.getFullYear(),u=e.getMonth(),c=new Date(o,u,1),f=new Date(o,u+1,0),g=c.getDay(),m=[];for(let D=0;D<g;D++){const E=new Date(o,u,1-(g-D));m.push({date:E,isCurrentMonth:!1})}for(let D=1;D<=f.getDate();D++){const E=new Date(o,u,D);m.push({date:E,isCurrentMonth:!0})}const p=Math.ceil(m.length/7)*7,N=Math.max(p,28)-m.length;for(let D=1;D<=N;D++){const E=new Date(o,u+1,D);m.push({date:E,isCurrentMonth:!1})}return m},[e]),s=o=>{const u=new Date;return o.getDate()===u.getDate()&&o.getMonth()===u.getMonth()&&o.getFullYear()===u.getFullYear()};return S.jsxs("div",{className:"h-full flex flex-col",children:[S.jsx("div",{className:"grid grid-cols-7 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(o=>S.jsxs("div",{className:"text-center text-[10px] md:text-xs font-semibold text-gray-400 uppercase tracking-wider py-2",children:[S.jsx("span",{className:"md:hidden",children:o.charAt(0)}),S.jsx("span",{className:"hidden md:block",children:o})]},o))}),S.jsx("div",{className:"flex-1 grid grid-cols-7 gap-2 auto-rows-fr",children:a.map((o,u)=>{const c=QT(o.date),f=n[c]||[];return S.jsxs("div",{onClick:()=>i(c),className:`
                            relative p-0.5 md:p-1 rounded-lg md:rounded-xl border transition-all cursor-pointer flex flex-col items-start justify-start overflow-hidden group
                            ${o.isCurrentMonth?"bg-white border-gray-100":"bg-gray-50 border-transparent text-gray-300"}
                            ${s(o.date)?"ring-2 ring-indigo-500 ring-offset-1 md:ring-offset-2 z-10":"hover:border-indigo-200 hover:shadow-md"}
                        `,children:[S.jsx("span",{className:`text-[10px] md:text-sm font-semibold ml-1 mt-0.5 md:mt-1 ${s(o.date)?"text-indigo-600":"text-gray-700"}`,children:o.date.getDate()}),S.jsx("div",{className:"flex-1 w-full p-1 flex flex-wrap content-start gap-1 overflow-y-auto mt-1 custom-scrollbar",children:f.map(g=>{const m=r.find(p=>p.id===g);return m?S.jsx("div",{className:"h-1.5 w-1.5 md:h-2 md:w-2 rounded-full",style:{backgroundColor:m.color},title:m.name},g):null})})]},u)})})]})}function I0({currentDate:e,bookingsMap:t,onDateClick:n,users:i,daysToShow:r=7}){const a=M.useMemo(()=>{const o=new Date(e);if(r===7){const c=o.getDay();o.setDate(o.getDate()-c)}const u=[];for(let c=0;c<r;c++){const f=new Date(o);f.setDate(o.getDate()+c),u.push(f)}return u},[e,r]),s=o=>{const u=new Date;return o.getDate()===u.getDate()&&o.getMonth()===u.getMonth()&&o.getFullYear()===u.getFullYear()};return S.jsx("div",{className:"h-full overflow-x-auto",children:S.jsx("div",{className:`h-full grid gap-2 md:gap-4 min-w-[800px] md:min-w-0 ${r===7?"grid-cols-7":"grid-cols-3"}`,children:a.map((o,u)=>{const c=QT(o),f=t[c]||[];return S.jsxs("div",{onClick:()=>n(c),className:`
                            rounded-xl md:rounded-2xl border flex flex-col group transition-all cursor-pointer
                            ${s(o)?"bg-indigo-50/50 border-indigo-200":"bg-white border-gray-100 hover:border-indigo-200 hover:shadow-lg"}
                        `,children:[S.jsxs("div",{className:`p-2 md:p-4 text-center border-b border-gray-50 ${s(o)?"bg-indigo-100/50 text-indigo-700":""} rounded-t-xl md:rounded-t-2xl`,children:[S.jsx("div",{className:"text-[10px] md:text-xs uppercase tracking-wider font-bold opacity-60",children:o.toLocaleDateString("default",{weekday:"short"})}),S.jsx("div",{className:"text-xl md:text-2xl font-black mt-1",children:o.getDate()})]}),S.jsx("div",{className:"flex-1 p-2 md:p-3 space-y-1 md:space-y-2 overflow-y-auto",children:f.length>0?f.map(g=>{const m=i.find(p=>p.id===g);return m?S.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 p-1.5 md:p-2 rounded-lg bg-white shadow-sm border border-gray-100",children:[S.jsx("div",{className:"w-2.5 h-2.5 md:w-3 md:h-3 rounded-full flex-shrink-0",style:{backgroundColor:m.color}}),S.jsx("span",{className:"text-[10px] md:text-xs font-semibold text-gray-700 truncate max-w-full",children:m.name})]},g):null}):S.jsx("div",{className:"h-full flex items-center justify-center",children:S.jsx("span",{className:"text-[10px] md:text-xs text-gray-300 font-medium italic group-hover:text-indigo-300 transition-colors",children:"Join"})})})]},u)})})})}function pN(){const e=K(a=>a.view),t=K(a=>a.currentDate),n=K(a=>a.bookings),i=K(a=>a.users),r=K(a=>a.toggleBooking);return S.jsx(yN,{view:e,currentDate:t,bookings:n,users:i,toggleBooking:r})}function yN({view:e,currentDate:t,bookings:n,users:i,toggleBooking:r}){const{eventCode:a}=em(),s=o=>{r(a,o)};return e==="month"?S.jsx(gN,{currentDate:t,bookingsMap:n,onDateClick:s,users:i}):e==="week"?S.jsx(I0,{currentDate:t,bookingsMap:n,onDateClick:s,users:i,daysToShow:7}):e==="3day"?S.jsx(I0,{currentDate:t,bookingsMap:n,onDateClick:s,users:i,daysToShow:3}):null}function vN({isOpen:e,onClose:t,currentUser:n,users:i,setOpen:r,onStepChange:a}){const[s,o]=M.useState(0),[u,c]=M.useState(0),[f,g]=M.useState(null),[m,p]=M.useState(window.innerWidth<768),[C,N]=M.useState(0),D=M.useRef(null);M.useEffect(()=>{const B=()=>{p(window.innerWidth<768)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]),M.useEffect(()=>{const B=e==="add-user";e==="add-user"?o(0):e===!0?(c(0),o(0)):e==="main"&&o(u),g(null),a&&e&&a(e==="add-user"?0:e===!0?0:u,B)},[e]);const E=[{title:"Welcome to Scheduler!",description:"Find the best time to meet with your friends in real-time.",targetId:"sidebar-header",position:"right"},{title:n?"Acting as User":"Create Profile",description:"",targetId:"user-section",position:"right"},{title:"Pick Your Dates",description:"Just click any dates on the calendar! Your friends see your updates in real-time.",targetId:"calendar-grid-container",position:"top"},{title:"Real-time Summary",description:"Scroll down to see which date can accomodate the most people.",targetId:"summary-section",position:"right"},{title:"Invite Friends",description:"Click here to copy the unique link. Send it to your group - no logins required!",targetId:"copy-link-button",position:"right"}],T=[{title:"Enter a Name",description:"Type the person's name here. It can be a nickname or full name.",targetId:"user-name-input",position:"right"},{title:"Pick a Color",description:"Choose a distinct color. This makes their availability stand out on the calendar.",targetId:"user-color-input",position:"right"},{title:"Confirm & Add",description:"Hit 'Add User' and they'll instantly appear in the switcher above!",targetId:"add-user-submit-button",position:"right"}],A=e==="add-user",V=A?T:E,L=V[s]||V[0];if(M.useLayoutEffect(()=>{D.current&&N(D.current.offsetHeight)},[s,L,m,f]),M.useLayoutEffect(()=>{if(!e||!L)return;let B;const G=()=>{const $=document.getElementById(L.targetId);if($){const ct=$.getBoundingClientRect();g(vt=>!vt||vt.top!==ct.top||vt.left!==ct.left||vt.width!==ct.width||vt.height!==ct.height?ct:vt)}D.current&&D.current.offsetHeight!==C&&N(D.current.offsetHeight),B=requestAnimationFrame(G)};return G(),()=>{B&&cancelAnimationFrame(B)}},[s,e,L,C]),!e||!L)return null;const P=()=>{const B=e==="add-user";if(s<V.length-1){const G=s+1;o(G),B?a&&a(G,!0):(c(G),a&&a(G,!1))}else B?(c(2),r("main"),a&&a(2,!1)):(c(0),t())},y=()=>{const B=e==="add-user";if(s>0){const G=s-1;o(G),B?a&&a(G,!0):(c(G),a&&a(G,!1))}},_=i.find(B=>B.id===n),b=12,w=16,R=f||{top:0,left:0,width:0,height:0,right:0,bottom:0},I=R.left-b,x=R.top-b,Gt=R.width+b*2,_e=R.height+b*2;return S.jsxs("div",{className:"fixed inset-0 z-[100] overflow-hidden pointer-events-none",children:[S.jsxs("svg",{className:"fixed inset-0 w-full h-full pointer-events-auto",children:[S.jsx("defs",{children:S.jsxs("mask",{id:"tutorial-mask",children:[S.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),f&&S.jsx("rect",{x:I,y:x,width:Gt,height:_e,rx:w,ry:w,fill:"black",className:"transition-all duration-300 ease-in-out"})]})}),S.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(0,0,0,0.75)",mask:"url(#tutorial-mask)",className:"transition-all duration-300"})]}),f&&S.jsx("div",{className:"fixed z-[105] border-[3px] border-red-500 rounded-xl shadow-[0_0_40px_rgba(239,68,68,0.3)] transition-all duration-300 pointer-events-none",style:{top:x,left:I,width:Gt,height:_e}}),f&&S.jsx("div",{ref:D,className:"fixed z-[120] animate-in fade-in zoom-in duration-300 pointer-events-auto",style:{..._N(R,L.position,m,b,C)},children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 w-80 relative border-2 border-indigo-50 max-h-[80vh] overflow-y-auto no-scrollbar",children:[S.jsx("div",{className:`absolute border-8 border-transparent ${EN(L.position,m)}`}),S.jsxs("div",{className:"flex justify-between items-start mb-3",children:[S.jsx("span",{className:"px-2 py-0.5 rounded bg-indigo-50 text-[9px] font-black text-indigo-500 uppercase tracking-widest",children:A?`Guide Step ${s+1}/${V.length}`:s===0?"Introduction":`Step ${s} of ${V.length-1}`}),S.jsx("button",{onClick:()=>t(),className:"text-gray-300 hover:text-gray-500 transition-colors text-xl leading-none",children:""})]}),S.jsx("h3",{className:"text-xl font-black text-gray-800 mb-2 leading-tight",children:L.title}),S.jsx("div",{className:"text-gray-500 text-sm mb-8 leading-relaxed",children:A?L.description:s===1?S.jsxs("div",{className:"space-y-4",children:[S.jsx("p",{children:n?`You are currently acting as ${(_==null?void 0:_.name)||"a user"}. If you are not ${(_==null?void 0:_.name)||"a user"}, you can either switch to another user or add a new user here.`:"Enter your name and pick a color to start marking your availability."}),S.jsxs("button",{onClick:()=>{c(1),r("add-user")},className:"w-full flex items-center justify-center gap-2 py-2 px-4 bg-indigo-50 text-indigo-600 font-bold rounded-xl hover:bg-indigo-100 transition-all border border-indigo-100 group shadow-sm text-xs",children:[S.jsx("svg",{className:"w-4 h-4 text-indigo-400 group-hover:text-indigo-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),S.jsx("span",{children:"How do I add a user?"})]})]}):L.description}),S.jsxs("div",{className:"flex gap-2",children:[s>0&&S.jsx("button",{onClick:y,className:"px-4 py-2.5 rounded-xl border border-gray-100 text-gray-400 font-bold text-xs hover:bg-gray-50 transition-all",children:"Back"}),S.jsx("button",{onClick:P,className:"flex-1 bg-indigo-600 text-white font-bold py-2.5 rounded-xl text-xs shadow-xl shadow-indigo-100 hover:bg-indigo-700 hover:-translate-y-0.5 transition-all",children:s===V.length-1?A?"Finish Guide":"Got it!":"Next Step"})]})]})})]})}function _N(e,t,n,i,r){const o=r||300;let u={};if(n)e.top>300?u={bottom:window.innerHeight-e.top+28+i,left:(window.innerWidth-320)/2}:u={top:e.bottom+28+i,left:(window.innerWidth-320)/2};else switch(t){case"right":u={top:e.top-i,left:e.right+28+i};break;case"left":u={top:e.top-i,left:e.left-320-28-i};break;case"bottom":u={top:e.bottom+28+i,left:e.left+e.width/2-320/2};break;case"top":u={bottom:window.innerHeight-e.top+28+i,left:e.left+e.width/2-320/2};break;default:u={top:e.top-i,left:e.right+28+i}}let c=u.top,f=u.bottom;return c!==void 0&&(c=Math.max(10,c),c+o>window.innerHeight-10&&(c=Math.max(10,window.innerHeight-o-10)),u.top=c),f!==void 0&&(f+o>window.innerHeight-10&&(f=Math.max(10,window.innerHeight-o-10)),f=Math.max(10,f),u.bottom=f),u.left!==void 0&&(u.left=Math.max(10,Math.min(u.left,window.innerWidth-320-10))),u}function EN(e,t){if(t)return"hidden";switch(e){case"right":return"border-r-white -left-4 top-6";case"left":return"border-l-white -right-4 top-6";case"bottom":return"border-b-white -top-4 left-1/2 -ml-2";case"top":return"border-t-white -bottom-4 left-1/2 -ml-2";default:return""}}function TN(){const{eventCode:e}=em(),t=tm(),n=K(y=>y.view),i=K(y=>y.setView),r=K(y=>y.currentDate),a=K(y=>y.navigateDate),s=K(y=>y.setUsers),o=K(y=>y.setBookings),u=K(y=>y.setCurrentUser),c=K(y=>y.currentUser),f=K(y=>y.isSidebarOpen),g=K(y=>y.setSidebarOpen),m=K(y=>y.isTutorialOpen),p=K(y=>y.setTutorialOpen),C=K(y=>y.toast),N=K(y=>y.setToast),[D,E]=M.useState(!0),[T,A]=M.useState(null);M.useEffect(()=>{(async()=>{if(!e)return;const _=nr(Dn,"events",e);try{const b=await iN(_);b.exists()?(A(b.data()),await qT(_,{lastAccessedAt:new Date().toISOString()})):E(!1)}catch(b){console.error("Error checking event:",b),E(!1)}})()},[e]),M.useEffect(()=>{const y=()=>{window.innerWidth>=768&&g(!1)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[g]),M.useEffect(()=>{if(!e)return;const y=V0(S0(Dn,"events",e,"users"),_=>{const b=_.docs.map(R=>({...R.data(),id:R.id}));s(b);const w=K.getState().currentUser;b.length>0&&(!w||!b.find(R=>R.id===w))&&u(b[0].id)});return()=>y()},[e,s,u]),M.useEffect(()=>{if(!e)return;const y=V0(S0(Dn,"events",e,"bookings"),_=>{const b={};_.docs.forEach(w=>{b[w.id]=w.data().userIds||[]}),o(b)});return()=>y()},[e,o]);const V=(y,_)=>{window.innerWidth<768&&(!_&&y===2?g(!1):(g(!0),!_&&y===3&&setTimeout(()=>{const w=document.getElementById("summary-section");w&&w.scrollIntoView({behavior:"smooth",block:"start"})},300)))},L=()=>{navigator.clipboard.writeText(window.location.href),N({message:"Link copied!",type:"success"})},P=()=>{if(n==="month")return r.toLocaleString("default",{month:"long",year:"numeric"});const y=new Date(r);n==="week"&&y.setDate(y.getDate()-y.getDay());const _=new Date(y),b=n==="week"?6:2;return _.setDate(y.getDate()+b),`${y.toLocaleString("default",{month:"short"})} ${y.getDate()} - ${_.toLocaleString("default",{month:"short"})} ${_.getDate()}`};return D?S.jsxs("div",{className:"flex flex-col h-screen bg-white text-gray-900 font-sans selection:bg-indigo-100 selection:text-indigo-900 overflow-hidden",children:[S.jsxs("main",{className:"flex-1 flex overflow-hidden relative",children:[f&&S.jsx("div",{className:"fixed inset-0 bg-black/5 md:hidden z-[45] backdrop-blur-[2px] animate-in fade-in duration-300",onClick:()=>g(!1)}),S.jsx(mN,{eventData:T,eventCode:e,handleCopyLink:L}),S.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[S.jsxs("header",{id:"calendar-header",className:"flex items-center justify-between px-4 md:px-8 py-5 bg-white border-b border-gray-200",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("button",{onClick:()=>g(!0),className:"md:hidden p-2 -ml-2 text-gray-500 hover:bg-gray-100 rounded-md",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),S.jsxs("div",{className:"flex items-center space-x-1",children:[S.jsx("button",{onClick:()=>a(-1),className:"p-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-indigo-600 transition-colors",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),S.jsx("button",{onClick:()=>a(1),className:"p-1 rounded-full hover:bg-gray-100 text-gray-400 hover:text-indigo-600 transition-colors",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),S.jsx("h2",{className:"text-sm md:text-xl font-semibold min-w-32 md:min-w-48 text-center select-none truncate",children:P()})]}),S.jsxs("div",{className:"flex space-x-2 bg-gray-100 p-1 rounded-lg",children:[S.jsxs("div",{className:"md:hidden relative",children:[S.jsxs("select",{value:n,onChange:y=>i(y.target.value),className:"appearance-none bg-white text-indigo-600 text-sm font-semibold py-1.5 pl-3 pr-8 rounded-md shadow-sm border border-gray-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[S.jsx("option",{value:"month",children:"Month"}),S.jsx("option",{value:"week",children:"Week"}),S.jsx("option",{value:"3day",children:"3 Days"})]}),S.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-indigo-600",children:S.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:S.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]}),S.jsx("div",{className:"hidden md:flex space-x-1",children:[{id:"month",label:"Month"},{id:"week",label:"Week"},{id:"3day",label:"3 Days"}].map(y=>S.jsx("button",{onClick:()=>i(y.id),className:`px-4 py-1.5 text-sm font-medium rounded-md transition-all ${n===y.id?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:y.label},y.id))})]})]}),S.jsx("div",{id:"calendar-view",className:"flex-1 min-h-0 overflow-hidden p-2 md:p-8 relative",children:S.jsx("div",{id:"calendar-grid-container",className:"bg-white rounded-xl shadow-sm border border-gray-200 h-full p-3 md:p-6 overflow-auto",children:S.jsx(pN,{})})}),S.jsx("footer",{className:"py-2 text-center bg-gray-50 border-t border-gray-100",children:S.jsx("span",{className:"text-[9px] font-bold text-gray-300 tracking-widest uppercase",children:"Version 1.5.1"})})]})]}),S.jsx(vN,{isOpen:m,setOpen:p,onClose:y=>p(y||!1),currentUser:c,users:K(y=>y.users),onStepChange:V}),C&&S.jsx(e1,{message:C.message,type:C.type,onClose:()=>N(null)})]}):S.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4",children:S.jsxs("div",{className:"max-w-md w-full text-center space-y-6 bg-white p-10 rounded-2xl shadow-xl border border-gray-100",children:[S.jsx("h1",{className:"text-3xl font-black text-gray-800",children:"Event Not Found"}),S.jsx("p",{className:"text-gray-500",children:"The event code you entered doesn't exist."}),S.jsx("button",{onClick:()=>t("/"),className:"w-full py-3 px-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-colors",children:"Go to Landing Page"})]})})}function bN(){return S.jsxs(pw,{children:[S.jsx(Cf,{path:"/",element:S.jsx(sN,{})}),S.jsx(Cf,{path:"/:eventCode",element:S.jsx(TN,{})})]})}_A.createRoot(document.getElementById("root")).render(S.jsx(M.StrictMode,{children:S.jsx(Bw,{children:S.jsx(bN,{})})}));
